function dI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function dE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c={},hI={get exports(){return c},set exports(t){c=t}},Gc={},f={},fI={get exports(){return f},set exports(t){f=t}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),pI=Symbol.for("react.portal"),mI=Symbol.for("react.fragment"),gI=Symbol.for("react.strict_mode"),vI=Symbol.for("react.profiler"),yI=Symbol.for("react.provider"),wI=Symbol.for("react.context"),EI=Symbol.for("react.forward_ref"),xI=Symbol.for("react.suspense"),_I=Symbol.for("react.memo"),CI=Symbol.for("react.lazy"),Wv=Symbol.iterator;function SI(t){return t===null||typeof t!="object"?null:(t=Wv&&t[Wv]||t["@@iterator"],typeof t=="function"?t:null)}var hE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fE=Object.assign,pE={};function co(t,e,n){this.props=t,this.context=e,this.refs=pE,this.updater=n||hE}co.prototype.isReactComponent={};co.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};co.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mE(){}mE.prototype=co.prototype;function sm(t,e,n){this.props=t,this.context=e,this.refs=pE,this.updater=n||hE}var im=sm.prototype=new mE;im.constructor=sm;fE(im,co.prototype);im.isPureReactComponent=!0;var qv=Array.isArray,gE=Object.prototype.hasOwnProperty,om={current:null},vE={key:!0,ref:!0,__self:!0,__source:!0};function yE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)gE.call(e,r)&&!vE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ll,type:t,key:i,ref:o,props:s,_owner:om.current}}function TI(t,e){return{$$typeof:ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function am(t){return typeof t=="object"&&t!==null&&t.$$typeof===ll}function kI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kv=/\/+/g;function ah(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kI(""+t.key):e.toString(36)}function Cu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ll:case pI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ah(o,0):r,qv(s)?(n="",t!=null&&(n=t.replace(Kv,"$&/")+"/"),Cu(s,e,n,"",function(u){return u})):s!=null&&(am(s)&&(s=TI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Kv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",qv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ah(i,a);o+=Cu(i,e,n,l,s)}else if(l=SI(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ah(i,a++),o+=Cu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zl(t,e,n){if(t==null)return t;var r=[],s=0;return Cu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function II(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},Su={transition:null},NI={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Su,ReactCurrentOwner:om};de.Children={map:zl,forEach:function(t,e,n){zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zl(t,function(){e++}),e},toArray:function(t){return zl(t,function(e){return e})||[]},only:function(t){if(!am(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=co;de.Fragment=mI;de.Profiler=vI;de.PureComponent=sm;de.StrictMode=gI;de.Suspense=xI;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NI;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=om.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gE.call(e,l)&&!vE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ll,type:t.type,key:s,ref:i,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:wI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yI,_context:t},t.Consumer=t};de.createElement=yE;de.createFactory=function(t){var e=yE.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:EI,render:t}};de.isValidElement=am;de.lazy=function(t){return{$$typeof:CI,_payload:{_status:-1,_result:t},_init:II}};de.memo=function(t,e){return{$$typeof:_I,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Su.transition;Su.transition={};try{t()}finally{Su.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return $t.current.useCallback(t,e)};de.useContext=function(t){return $t.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};de.useEffect=function(t,e){return $t.current.useEffect(t,e)};de.useId=function(){return $t.current.useId()};de.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return $t.current.useMemo(t,e)};de.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};de.useRef=function(t){return $t.current.useRef(t)};de.useState=function(t){return $t.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return $t.current.useTransition()};de.version="18.2.0";(function(t){t.exports=de})(fI);const nn=dE(f),mf=dI({__proto__:null,default:nn},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RI=f,bI=Symbol.for("react.element"),AI=Symbol.for("react.fragment"),DI=Object.prototype.hasOwnProperty,jI=RI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OI={key:!0,ref:!0,__self:!0,__source:!0};function wE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)DI.call(e,r)&&!OI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:bI,type:t,key:i,ref:o,props:s,_owner:jI.current}}Gc.Fragment=AI;Gc.jsx=wE;Gc.jsxs=wE;(function(t){t.exports=Gc})(hI);var gf={},Hu={},PI={get exports(){return Hu},set exports(t){Hu=t}},dn={},vf={},LI={get exports(){return vf},set exports(t){vf=t}},EE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,b){var R=I.length;I.push(b);e:for(;0<R;){var z=R-1>>>1,H=I[z];if(0<s(H,b))I[z]=b,I[R]=H,R=z;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var b=I[0],R=I.pop();if(R!==b){I[0]=R;e:for(var z=0,H=I.length,le=H>>>1;z<le;){var ae=2*(z+1)-1,ue=I[ae],pe=ae+1,rt=I[pe];if(0>s(ue,R))pe<H&&0>s(rt,ue)?(I[z]=rt,I[pe]=R,z=pe):(I[z]=ue,I[ae]=R,z=ae);else if(pe<H&&0>s(rt,R))I[z]=rt,I[pe]=R,z=pe;else break e}}return b}function s(I,b){var R=I.sortIndex-b.sortIndex;return R!==0?R:I.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,w=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=I)r(u),b.sortIndex=b.expirationTime,e(l,b);else break;b=n(u)}}function _(I){if(g=!1,x(I),!w)if(n(l)!==null)w=!0,Z(C);else{var b=n(u);b!==null&&Q(_,b.startTime-I)}}function C(I,b){w=!1,g&&(g=!1,v(k),k=-1),m=!0;var R=p;try{for(x(b),h=n(l);h!==null&&(!(h.expirationTime>b)||I&&!L());){var z=h.callback;if(typeof z=="function"){h.callback=null,p=h.priorityLevel;var H=z(h.expirationTime<=b);b=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&r(l),x(b)}else r(l);h=n(l)}if(h!==null)var le=!0;else{var ae=n(u);ae!==null&&Q(_,ae.startTime-b),le=!1}return le}finally{h=null,p=R,m=!1}}var S=!1,T=null,k=-1,P=5,D=-1;function L(){return!(t.unstable_now()-D<P)}function M(){if(T!==null){var I=t.unstable_now();D=I;var b=!0;try{b=T(!0,I)}finally{b?q():(S=!1,T=null)}}else S=!1}var q;if(typeof y=="function")q=function(){y(M)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ie=V.port2;V.port1.onmessage=M,q=function(){ie.postMessage(null)}}else q=function(){E(M,0)};function Z(I){T=I,S||(S=!0,q())}function Q(I,b){k=E(function(){I(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,Z(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var b=3;break;default:b=p}var R=p;p=b;try{return I()}finally{p=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,b){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var R=p;p=I;try{return b()}finally{p=R}},t.unstable_scheduleCallback=function(I,b,R){var z=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=R+H,I={id:d++,callback:b,priorityLevel:I,startTime:R,expirationTime:H,sortIndex:-1},R>z?(I.sortIndex=R,e(u,I),n(l)===null&&I===n(u)&&(g?(v(k),k=-1):g=!0,Q(_,R-z))):(I.sortIndex=H,e(l,I),w||m||(w=!0,Z(C))),I},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(I){var b=p;return function(){var R=p;p=b;try{return I.apply(this,arguments)}finally{p=R}}}})(EE);(function(t){t.exports=EE})(LI);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE=f,ln=vf;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _E=new Set,Ca={};function Xs(t,e){zi(t,e),zi(t+"Capture",e)}function zi(t,e){for(Ca[t]=e,t=0;t<e.length;t++)_E.add(e[t])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,$I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gv={},Qv={};function MI(t){return yf.call(Qv,t)?!0:yf.call(Gv,t)?!1:$I.test(t)?Qv[t]=!0:(Gv[t]=!0,!1)}function UI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FI(t,e,n,r){if(e===null||typeof e>"u"||UI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var lm=/[\-:]([a-z])/g;function um(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lm,um);pt[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lm,um);pt[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lm,um);pt[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function cm(t,e,n,r){var s=pt.hasOwnProperty(e)?pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FI(e,n,s,r)&&(n=null),r||s===null?MI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xr=xE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hl=Symbol.for("react.element"),vi=Symbol.for("react.portal"),yi=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),wf=Symbol.for("react.profiler"),CE=Symbol.for("react.provider"),SE=Symbol.for("react.context"),hm=Symbol.for("react.forward_ref"),Ef=Symbol.for("react.suspense"),xf=Symbol.for("react.suspense_list"),fm=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),TE=Symbol.for("react.offscreen"),Yv=Symbol.iterator;function Po(t){return t===null||typeof t!="object"?null:(t=Yv&&t[Yv]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,lh;function Qo(t){if(lh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lh=e&&e[1]||""}return`
`+lh+t}var uh=!1;function ch(t,e){if(!t||uh)return"";uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{uh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function BI(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=ch(t.type,!1),t;case 11:return t=ch(t.type.render,!1),t;case 1:return t=ch(t.type,!0),t;default:return""}}function _f(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yi:return"Fragment";case vi:return"Portal";case wf:return"Profiler";case dm:return"StrictMode";case Ef:return"Suspense";case xf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SE:return(t.displayName||"Context")+".Consumer";case CE:return(t._context.displayName||"Context")+".Provider";case hm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fm:return e=t.displayName||null,e!==null?e:_f(t.type)||"Memo";case Ir:e=t._payload,t=t._init;try{return _f(t(e))}catch{}}return null}function VI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _f(e);case 8:return e===dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zI(t){var e=kE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wl(t){t._valueTracker||(t._valueTracker=zI(t))}function IE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cf(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NE(t,e){e=e.checked,e!=null&&cm(t,"checked",e,!1)}function Sf(t,e){NE(t,e);var n=ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tf(t,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tf(t,e,n){(e!=="number"||Wu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yo=Array.isArray;function Di(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function kf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Yo(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ts(n)}}function RE(t,e){var n=ts(e.value),r=ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ey(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function If(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ql,AE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HI=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(t){HI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ia[e]=ia[t]})});function DE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ia.hasOwnProperty(t)&&ia[t]?(""+e).trim():e+"px"}function jE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=DE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var WI=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nf(t,e){if(e){if(WI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Rf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bf=null;function pm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Af=null,ji=null,Oi=null;function ty(t){if(t=dl(t)){if(typeof Af!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Zc(e),Af(t.stateNode,t.type,e))}}function OE(t){ji?Oi?Oi.push(t):Oi=[t]:ji=t}function PE(){if(ji){var t=ji,e=Oi;if(Oi=ji=null,ty(t),e)for(t=0;t<e.length;t++)ty(e[t])}}function LE(t,e){return t(e)}function $E(){}var dh=!1;function ME(t,e,n){if(dh)return t(e,n);dh=!0;try{return LE(t,e,n)}finally{dh=!1,(ji!==null||Oi!==null)&&($E(),PE())}}function Ta(t,e){var n=t.stateNode;if(n===null)return null;var r=Zc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Df=!1;if(ur)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){Df=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{Df=!1}function qI(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var oa=!1,qu=null,Ku=!1,jf=null,KI={onError:function(t){oa=!0,qu=t}};function GI(t,e,n,r,s,i,o,a,l){oa=!1,qu=null,qI.apply(KI,arguments)}function QI(t,e,n,r,s,i,o,a,l){if(GI.apply(this,arguments),oa){if(oa){var u=qu;oa=!1,qu=null}else throw Error(j(198));Ku||(Ku=!0,jf=u)}}function Js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ny(t){if(Js(t)!==t)throw Error(j(188))}function YI(t){var e=t.alternate;if(!e){if(e=Js(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ny(s),t;if(i===r)return ny(s),e;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function FE(t){return t=YI(t),t!==null?BE(t):null}function BE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BE(t);if(e!==null)return e;t=t.sibling}return null}var VE=ln.unstable_scheduleCallback,ry=ln.unstable_cancelCallback,XI=ln.unstable_shouldYield,JI=ln.unstable_requestPaint,ze=ln.unstable_now,ZI=ln.unstable_getCurrentPriorityLevel,mm=ln.unstable_ImmediatePriority,zE=ln.unstable_UserBlockingPriority,Gu=ln.unstable_NormalPriority,eN=ln.unstable_LowPriority,HE=ln.unstable_IdlePriority,Qc=null,Fn=null;function tN(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Qc,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:sN,nN=Math.log,rN=Math.LN2;function sN(t){return t>>>=0,t===0?32:31-(nN(t)/rN|0)|0}var Kl=64,Gl=4194304;function Xo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xo(a):(i&=o,i!==0&&(r=Xo(i)))}else o=n&~s,o!==0?r=Xo(o):i!==0&&(r=Xo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rn(e),s=1<<n,r|=t[n],e&=~s;return r}function iN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=iN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Of(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WE(){var t=Kl;return Kl<<=1,!(Kl&4194240)&&(Kl=64),t}function hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function aN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function gm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var _e=0;function qE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KE,vm,GE,QE,YE,Pf=!1,Ql=[],Vr=null,zr=null,Hr=null,ka=new Map,Ia=new Map,br=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sy(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(e.pointerId)}}function $o(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=dl(e),e!==null&&vm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function uN(t,e,n,r,s){switch(e){case"focusin":return Vr=$o(Vr,t,e,n,r,s),!0;case"dragenter":return zr=$o(zr,t,e,n,r,s),!0;case"mouseover":return Hr=$o(Hr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ka.set(i,$o(ka.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ia.set(i,$o(Ia.get(i)||null,t,e,n,r,s)),!0}return!1}function XE(t){var e=_s(t.target);if(e!==null){var n=Js(e);if(n!==null){if(e=n.tag,e===13){if(e=UE(n),e!==null){t.blockedOn=e,YE(t.priority,function(){GE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bf=r,n.target.dispatchEvent(r),bf=null}else return e=dl(n),e!==null&&vm(e),t.blockedOn=n,!1;e.shift()}return!0}function iy(t,e,n){Tu(t)&&n.delete(e)}function cN(){Pf=!1,Vr!==null&&Tu(Vr)&&(Vr=null),zr!==null&&Tu(zr)&&(zr=null),Hr!==null&&Tu(Hr)&&(Hr=null),ka.forEach(iy),Ia.forEach(iy)}function Mo(t,e){t.blockedOn===e&&(t.blockedOn=null,Pf||(Pf=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,cN)))}function Na(t){function e(s){return Mo(s,t)}if(0<Ql.length){Mo(Ql[0],t);for(var n=1;n<Ql.length;n++){var r=Ql[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&Mo(Vr,t),zr!==null&&Mo(zr,t),Hr!==null&&Mo(Hr,t),ka.forEach(e),Ia.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)XE(n),n.blockedOn===null&&br.shift()}var Pi=xr.ReactCurrentBatchConfig,Yu=!0;function dN(t,e,n,r){var s=_e,i=Pi.transition;Pi.transition=null;try{_e=1,ym(t,e,n,r)}finally{_e=s,Pi.transition=i}}function hN(t,e,n,r){var s=_e,i=Pi.transition;Pi.transition=null;try{_e=4,ym(t,e,n,r)}finally{_e=s,Pi.transition=i}}function ym(t,e,n,r){if(Yu){var s=Lf(t,e,n,r);if(s===null)_h(t,e,r,Xu,n),sy(t,r);else if(uN(s,t,e,n,r))r.stopPropagation();else if(sy(t,r),e&4&&-1<lN.indexOf(t)){for(;s!==null;){var i=dl(s);if(i!==null&&KE(i),i=Lf(t,e,n,r),i===null&&_h(t,e,r,Xu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _h(t,e,r,null,n)}}var Xu=null;function Lf(t,e,n,r){if(Xu=null,t=pm(r),t=_s(t),t!==null)if(e=Js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xu=t,null}function JE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZI()){case mm:return 1;case zE:return 4;case Gu:case eN:return 16;case HE:return 536870912;default:return 16}default:return 16}}var Mr=null,wm=null,ku=null;function ZE(){if(ku)return ku;var t,e=wm,n=e.length,r,s="value"in Mr?Mr.value:Mr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ku=s.slice(t,1<r?1-r:void 0)}function Iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yl(){return!0}function oy(){return!1}function hn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yl:oy,this.isPropagationStopped=oy,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),e}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Em=hn(ho),cl=$e({},ho,{view:0,detail:0}),fN=hn(cl),fh,ph,Uo,Yc=$e({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uo&&(Uo&&t.type==="mousemove"?(fh=t.screenX-Uo.screenX,ph=t.screenY-Uo.screenY):ph=fh=0,Uo=t),fh)},movementY:function(t){return"movementY"in t?t.movementY:ph}}),ay=hn(Yc),pN=$e({},Yc,{dataTransfer:0}),mN=hn(pN),gN=$e({},cl,{relatedTarget:0}),mh=hn(gN),vN=$e({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),yN=hn(vN),wN=$e({},ho,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EN=hn(wN),xN=$e({},ho,{data:0}),ly=hn(xN),_N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SN[t])?!!e[t]:!1}function xm(){return TN}var kN=$e({},cl,{key:function(t){if(t.key){var e=_N[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(t){return t.type==="keypress"?Iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IN=hn(kN),NN=$e({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uy=hn(NN),RN=$e({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),bN=hn(RN),AN=$e({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),DN=hn(AN),jN=$e({},Yc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ON=hn(jN),PN=[9,13,27,32],_m=ur&&"CompositionEvent"in window,aa=null;ur&&"documentMode"in document&&(aa=document.documentMode);var LN=ur&&"TextEvent"in window&&!aa,ex=ur&&(!_m||aa&&8<aa&&11>=aa),cy=String.fromCharCode(32),dy=!1;function tx(t,e){switch(t){case"keyup":return PN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wi=!1;function $N(t,e){switch(t){case"compositionend":return nx(e);case"keypress":return e.which!==32?null:(dy=!0,cy);case"textInput":return t=e.data,t===cy&&dy?null:t;default:return null}}function MN(t,e){if(wi)return t==="compositionend"||!_m&&tx(t,e)?(t=ZE(),ku=wm=Mr=null,wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ex&&e.locale!=="ko"?null:e.data;default:return null}}var UN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UN[t.type]:e==="textarea"}function rx(t,e,n,r){OE(r),e=Ju(e,"onChange"),0<e.length&&(n=new Em("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var la=null,Ra=null;function FN(t){px(t,0)}function Xc(t){var e=_i(t);if(IE(e))return t}function BN(t,e){if(t==="change")return e}var sx=!1;if(ur){var gh;if(ur){var vh="oninput"in document;if(!vh){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),vh=typeof fy.oninput=="function"}gh=vh}else gh=!1;sx=gh&&(!document.documentMode||9<document.documentMode)}function py(){la&&(la.detachEvent("onpropertychange",ix),Ra=la=null)}function ix(t){if(t.propertyName==="value"&&Xc(Ra)){var e=[];rx(e,Ra,t,pm(t)),ME(FN,e)}}function VN(t,e,n){t==="focusin"?(py(),la=e,Ra=n,la.attachEvent("onpropertychange",ix)):t==="focusout"&&py()}function zN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xc(Ra)}function HN(t,e){if(t==="click")return Xc(e)}function WN(t,e){if(t==="input"||t==="change")return Xc(e)}function qN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:qN;function ba(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yf.call(e,s)||!Dn(t[s],e[s]))return!1}return!0}function my(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gy(t,e){var n=my(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=my(n)}}function ox(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ox(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ax(){for(var t=window,e=Wu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wu(t.document)}return e}function Cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KN(t){var e=ax(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ox(n.ownerDocument.documentElement,n)){if(r!==null&&Cm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=gy(n,i);var o=gy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GN=ur&&"documentMode"in document&&11>=document.documentMode,Ei=null,$f=null,ua=null,Mf=!1;function vy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mf||Ei==null||Ei!==Wu(r)||(r=Ei,"selectionStart"in r&&Cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ua&&ba(ua,r)||(ua=r,r=Ju($f,"onSelect"),0<r.length&&(e=new Em("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ei)))}function Xl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xi={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},yh={},lx={};ur&&(lx=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function Jc(t){if(yh[t])return yh[t];if(!xi[t])return t;var e=xi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lx)return yh[t]=e[n];return t}var ux=Jc("animationend"),cx=Jc("animationiteration"),dx=Jc("animationstart"),hx=Jc("transitionend"),fx=new Map,yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(t,e){fx.set(t,e),Xs(e,[t])}for(var wh=0;wh<yy.length;wh++){var Eh=yy[wh],QN=Eh.toLowerCase(),YN=Eh[0].toUpperCase()+Eh.slice(1);ls(QN,"on"+YN)}ls(ux,"onAnimationEnd");ls(cx,"onAnimationIteration");ls(dx,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(hx,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function wy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QI(r,e,void 0,t),t.currentTarget=null}function px(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;wy(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;wy(s,a,u),i=l}}}if(Ku)throw t=jf,Ku=!1,jf=null,t}function Te(t,e){var n=e[zf];n===void 0&&(n=e[zf]=new Set);var r=t+"__bubble";n.has(r)||(mx(e,t,2,!1),n.add(r))}function xh(t,e,n){var r=0;e&&(r|=4),mx(n,t,r,e)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Aa(t){if(!t[Jl]){t[Jl]=!0,_E.forEach(function(n){n!=="selectionchange"&&(XN.has(n)||xh(n,!1,t),xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jl]||(e[Jl]=!0,xh("selectionchange",!1,e))}}function mx(t,e,n,r){switch(JE(e)){case 1:var s=dN;break;case 4:s=hN;break;default:s=ym}n=s.bind(null,e,n,t),s=void 0,!Df||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _h(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_s(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ME(function(){var u=i,d=pm(n),h=[];e:{var p=fx.get(t);if(p!==void 0){var m=Em,w=t;switch(t){case"keypress":if(Iu(n)===0)break e;case"keydown":case"keyup":m=IN;break;case"focusin":w="focus",m=mh;break;case"focusout":w="blur",m=mh;break;case"beforeblur":case"afterblur":m=mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bN;break;case ux:case cx:case dx:m=yN;break;case hx:m=DN;break;case"scroll":m=fN;break;case"wheel":m=ON;break;case"copy":case"cut":case"paste":m=EN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=uy}var g=(e&4)!==0,E=!g&&t==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,v!==null&&(_=Ta(y,v),_!=null&&g.push(Da(y,_,x)))),E)break;y=y.return}0<g.length&&(p=new m(p,w,null,n,d),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==bf&&(w=n.relatedTarget||n.fromElement)&&(_s(w)||w[cr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?_s(w):null,w!==null&&(E=Js(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(g=ay,_="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=uy,_="onPointerLeave",v="onPointerEnter",y="pointer"),E=m==null?p:_i(m),x=w==null?p:_i(w),p=new g(_,y+"leave",m,n,d),p.target=E,p.relatedTarget=x,_=null,_s(d)===u&&(g=new g(v,y+"enter",w,n,d),g.target=x,g.relatedTarget=E,_=g),E=_,m&&w)t:{for(g=m,v=w,y=0,x=g;x;x=di(x))y++;for(x=0,_=v;_;_=di(_))x++;for(;0<y-x;)g=di(g),y--;for(;0<x-y;)v=di(v),x--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=di(g),v=di(v)}g=null}else g=null;m!==null&&Ey(h,p,m,g,!1),w!==null&&E!==null&&Ey(h,E,w,g,!0)}}e:{if(p=u?_i(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=BN;else if(hy(p))if(sx)C=WN;else{C=zN;var S=VN}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=HN);if(C&&(C=C(t,u))){rx(h,C,n,d);break e}S&&S(t,p,u),t==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Tf(p,"number",p.value)}switch(S=u?_i(u):window,t){case"focusin":(hy(S)||S.contentEditable==="true")&&(Ei=S,$f=u,ua=null);break;case"focusout":ua=$f=Ei=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,vy(h,n,d);break;case"selectionchange":if(GN)break;case"keydown":case"keyup":vy(h,n,d)}var T;if(_m)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else wi?tx(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(ex&&n.locale!=="ko"&&(wi||k!=="onCompositionStart"?k==="onCompositionEnd"&&wi&&(T=ZE()):(Mr=d,wm="value"in Mr?Mr.value:Mr.textContent,wi=!0)),S=Ju(u,k),0<S.length&&(k=new ly(k,t,null,n,d),h.push({event:k,listeners:S}),T?k.data=T:(T=nx(n),T!==null&&(k.data=T)))),(T=LN?$N(t,n):MN(t,n))&&(u=Ju(u,"onBeforeInput"),0<u.length&&(d=new ly("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}px(h,e)})}function Da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ta(t,n),i!=null&&r.unshift(Da(t,i,s)),i=Ta(t,e),i!=null&&r.push(Da(t,i,s))),t=t.return}return r}function di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ey(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ta(n,i),l!=null&&o.unshift(Da(n,l,a))):s||(l=Ta(n,i),l!=null&&o.push(Da(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var JN=/\r\n?/g,ZN=/\u0000|\uFFFD/g;function xy(t){return(typeof t=="string"?t:""+t).replace(JN,`
`).replace(ZN,"")}function Zl(t,e,n){if(e=xy(e),xy(t)!==e&&n)throw Error(j(425))}function Zu(){}var Uf=null,Ff=null;function Bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,eR=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,tR=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(t){return _y.resolve(null).then(t).catch(nR)}:Vf;function nR(t){setTimeout(function(){throw t})}function Ch(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Na(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Na(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fo=Math.random().toString(36).slice(2),$n="__reactFiber$"+fo,ja="__reactProps$"+fo,cr="__reactContainer$"+fo,zf="__reactEvents$"+fo,rR="__reactListeners$"+fo,sR="__reactHandles$"+fo;function _s(t){var e=t[$n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[$n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cy(t);t!==null;){if(n=t[$n])return n;t=Cy(t)}return e}t=n,n=t.parentNode}return null}function dl(t){return t=t[$n]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Zc(t){return t[ja]||null}var Hf=[],Ci=-1;function us(t){return{current:t}}function Ie(t){0>Ci||(t.current=Hf[Ci],Hf[Ci]=null,Ci--)}function Se(t,e){Ci++,Hf[Ci]=t.current,t.current=e}var ns={},It=us(ns),Kt=us(!1),Ls=ns;function Hi(t,e){var n=t.type.contextTypes;if(!n)return ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(t){return t=t.childContextTypes,t!=null}function ec(){Ie(Kt),Ie(It)}function Sy(t,e,n){if(It.current!==ns)throw Error(j(168));Se(It,e),Se(Kt,n)}function gx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(j(108,VI(t)||"Unknown",s));return $e({},n,r)}function tc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,Ls=It.current,Se(It,t),Se(Kt,Kt.current),!0}function Ty(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=gx(t,e,Ls),r.__reactInternalMemoizedMergedChildContext=t,Ie(Kt),Ie(It),Se(It,t)):Ie(Kt),Se(Kt,n)}var Zn=null,ed=!1,Sh=!1;function vx(t){Zn===null?Zn=[t]:Zn.push(t)}function iR(t){ed=!0,vx(t)}function cs(){if(!Sh&&Zn!==null){Sh=!0;var t=0,e=_e;try{var n=Zn;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zn=null,ed=!1}catch(s){throw Zn!==null&&(Zn=Zn.slice(t+1)),VE(mm,cs),s}finally{_e=e,Sh=!1}}return null}var Si=[],Ti=0,nc=null,rc=0,pn=[],mn=0,$s=null,nr=1,rr="";function ws(t,e){Si[Ti++]=rc,Si[Ti++]=nc,nc=t,rc=e}function yx(t,e,n){pn[mn++]=nr,pn[mn++]=rr,pn[mn++]=$s,$s=t;var r=nr;t=rr;var s=32-Rn(r)-1;r&=~(1<<s),n+=1;var i=32-Rn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,nr=1<<32-Rn(e)+s|n<<s|r,rr=i+t}else nr=1<<i|n<<s|r,rr=t}function Sm(t){t.return!==null&&(ws(t,1),yx(t,1,0))}function Tm(t){for(;t===nc;)nc=Si[--Ti],Si[Ti]=null,rc=Si[--Ti],Si[Ti]=null;for(;t===$s;)$s=pn[--mn],pn[mn]=null,rr=pn[--mn],pn[mn]=null,nr=pn[--mn],pn[mn]=null}var on=null,rn=null,Ae=!1,kn=null;function wx(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ky(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,rn=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$s!==null?{id:nr,overflow:rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,rn=null,!0):!1;default:return!1}}function Wf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qf(t){if(Ae){var e=rn;if(e){var n=e;if(!ky(t,e)){if(Wf(t))throw Error(j(418));e=Wr(n.nextSibling);var r=on;e&&ky(t,e)?wx(r,n):(t.flags=t.flags&-4097|2,Ae=!1,on=t)}}else{if(Wf(t))throw Error(j(418));t.flags=t.flags&-4097|2,Ae=!1,on=t}}}function Iy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function eu(t){if(t!==on)return!1;if(!Ae)return Iy(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bf(t.type,t.memoizedProps)),e&&(e=rn)){if(Wf(t))throw Ex(),Error(j(418));for(;e;)wx(t,e),e=Wr(e.nextSibling)}if(Iy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=on?Wr(t.stateNode.nextSibling):null;return!0}function Ex(){for(var t=rn;t;)t=Wr(t.nextSibling)}function Wi(){rn=on=null,Ae=!1}function km(t){kn===null?kn=[t]:kn.push(t)}var oR=xr.ReactCurrentBatchConfig;function Sn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sc=us(null),ic=null,ki=null,Im=null;function Nm(){Im=ki=ic=null}function Rm(t){var e=sc.current;Ie(sc),t._currentValue=e}function Kf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Li(t,e){ic=t,Im=ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Im!==t)if(t={context:t,memoizedValue:e,next:null},ki===null){if(ic===null)throw Error(j(308));ki=t,ic.dependencies={lanes:0,firstContext:t}}else ki=ki.next=t;return e}var Cs=null;function bm(t){Cs===null?Cs=[t]:Cs.push(t)}function xx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,bm(e)):(n.next=s.next,s.next=n),e.interleaved=n,dr(t,r)}function dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nr=!1;function Am(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _x(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,dr(t,n)}return s=r.interleaved,s===null?(e.next=e,bm(r)):(e.next=s.next,s.next=e),r.interleaved=e,dr(t,n)}function Nu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gm(t,n)}}function Ny(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oc(t,e,n,r){var s=t.updateQueue;Nr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,g=a;switch(p=e,m=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(m,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,p=typeof w=="function"?w.call(m,h,p):w,p==null)break e;h=$e({},h,p);break e;case 2:Nr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Us|=o,t.lanes=o,t.memoizedState=h}}function Ry(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var Cx=new xE.Component().refs;function Gf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var td={isMounted:function(t){return(t=t._reactInternals)?Js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=Gr(t),i=ar(r,s);i.payload=e,n!=null&&(i.callback=n),e=qr(t,i,s),e!==null&&(bn(e,t,s,r),Nu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=Gr(t),i=ar(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qr(t,i,s),e!==null&&(bn(e,t,s,r),Nu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=Gr(t),s=ar(n,r);s.tag=2,e!=null&&(s.callback=e),e=qr(t,s,r),e!==null&&(bn(e,t,r,n),Nu(e,t,r))}};function by(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ba(n,r)||!ba(s,i):!0}function Sx(t,e,n){var r=!1,s=ns,i=e.contextType;return typeof i=="object"&&i!==null?i=wn(i):(s=Gt(e)?Ls:It.current,r=e.contextTypes,i=(r=r!=null)?Hi(t,s):ns),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ay(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&td.enqueueReplaceState(e,e.state,null)}function Qf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Cx,Am(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wn(i):(i=Gt(e)?Ls:It.current,s.context=Hi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Gf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&td.enqueueReplaceState(s,s.state,null),oc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Fo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===Cx&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dy(t){var e=t._init;return e(t._payload)}function Tx(t){function e(v,y){if(t){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Qr(v,y),v.index=0,v.sibling=null,v}function i(v,y,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,_){return y===null||y.tag!==6?(y=Ah(x,v.mode,_),y.return=v,y):(y=s(y,x),y.return=v,y)}function l(v,y,x,_){var C=x.type;return C===yi?d(v,y,x.props.children,_,x.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ir&&Dy(C)===y.type)?(_=s(y,x.props),_.ref=Fo(v,y,x),_.return=v,_):(_=Ou(x.type,x.key,x.props,null,v.mode,_),_.ref=Fo(v,y,x),_.return=v,_)}function u(v,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Dh(x,v.mode,_),y.return=v,y):(y=s(y,x.children||[]),y.return=v,y)}function d(v,y,x,_,C){return y===null||y.tag!==7?(y=bs(x,v.mode,_,C),y.return=v,y):(y=s(y,x),y.return=v,y)}function h(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ah(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hl:return x=Ou(y.type,y.key,y.props,null,v.mode,x),x.ref=Fo(v,null,y),x.return=v,x;case vi:return y=Dh(y,v.mode,x),y.return=v,y;case Ir:var _=y._init;return h(v,_(y._payload),x)}if(Yo(y)||Po(y))return y=bs(y,v.mode,x,null),y.return=v,y;tu(v,y)}return null}function p(v,y,x,_){var C=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(v,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hl:return x.key===C?l(v,y,x,_):null;case vi:return x.key===C?u(v,y,x,_):null;case Ir:return C=x._init,p(v,y,C(x._payload),_)}if(Yo(x)||Po(x))return C!==null?null:d(v,y,x,_,null);tu(v,x)}return null}function m(v,y,x,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(x)||null,a(y,v,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hl:return v=v.get(_.key===null?x:_.key)||null,l(y,v,_,C);case vi:return v=v.get(_.key===null?x:_.key)||null,u(y,v,_,C);case Ir:var S=_._init;return m(v,y,x,S(_._payload),C)}if(Yo(_)||Po(_))return v=v.get(x)||null,d(y,v,_,C,null);tu(y,_)}return null}function w(v,y,x,_){for(var C=null,S=null,T=y,k=y=0,P=null;T!==null&&k<x.length;k++){T.index>k?(P=T,T=null):P=T.sibling;var D=p(v,T,x[k],_);if(D===null){T===null&&(T=P);break}t&&T&&D.alternate===null&&e(v,T),y=i(D,y,k),S===null?C=D:S.sibling=D,S=D,T=P}if(k===x.length)return n(v,T),Ae&&ws(v,k),C;if(T===null){for(;k<x.length;k++)T=h(v,x[k],_),T!==null&&(y=i(T,y,k),S===null?C=T:S.sibling=T,S=T);return Ae&&ws(v,k),C}for(T=r(v,T);k<x.length;k++)P=m(T,v,k,x[k],_),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?k:P.key),y=i(P,y,k),S===null?C=P:S.sibling=P,S=P);return t&&T.forEach(function(L){return e(v,L)}),Ae&&ws(v,k),C}function g(v,y,x,_){var C=Po(x);if(typeof C!="function")throw Error(j(150));if(x=C.call(x),x==null)throw Error(j(151));for(var S=C=null,T=y,k=y=0,P=null,D=x.next();T!==null&&!D.done;k++,D=x.next()){T.index>k?(P=T,T=null):P=T.sibling;var L=p(v,T,D.value,_);if(L===null){T===null&&(T=P);break}t&&T&&L.alternate===null&&e(v,T),y=i(L,y,k),S===null?C=L:S.sibling=L,S=L,T=P}if(D.done)return n(v,T),Ae&&ws(v,k),C;if(T===null){for(;!D.done;k++,D=x.next())D=h(v,D.value,_),D!==null&&(y=i(D,y,k),S===null?C=D:S.sibling=D,S=D);return Ae&&ws(v,k),C}for(T=r(v,T);!D.done;k++,D=x.next())D=m(T,v,k,D.value,_),D!==null&&(t&&D.alternate!==null&&T.delete(D.key===null?k:D.key),y=i(D,y,k),S===null?C=D:S.sibling=D,S=D);return t&&T.forEach(function(M){return e(v,M)}),Ae&&ws(v,k),C}function E(v,y,x,_){if(typeof x=="object"&&x!==null&&x.type===yi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Hl:e:{for(var C=x.key,S=y;S!==null;){if(S.key===C){if(C=x.type,C===yi){if(S.tag===7){n(v,S.sibling),y=s(S,x.props.children),y.return=v,v=y;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ir&&Dy(C)===S.type){n(v,S.sibling),y=s(S,x.props),y.ref=Fo(v,S,x),y.return=v,v=y;break e}n(v,S);break}else e(v,S);S=S.sibling}x.type===yi?(y=bs(x.props.children,v.mode,_,x.key),y.return=v,v=y):(_=Ou(x.type,x.key,x.props,null,v.mode,_),_.ref=Fo(v,y,x),_.return=v,v=_)}return o(v);case vi:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=s(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Dh(x,v.mode,_),y.return=v,v=y}return o(v);case Ir:return S=x._init,E(v,y,S(x._payload),_)}if(Yo(x))return w(v,y,x,_);if(Po(x))return g(v,y,x,_);tu(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,x),y.return=v,v=y):(n(v,y),y=Ah(x,v.mode,_),y.return=v,v=y),o(v)):n(v,y)}return E}var qi=Tx(!0),kx=Tx(!1),hl={},Bn=us(hl),Oa=us(hl),Pa=us(hl);function Ss(t){if(t===hl)throw Error(j(174));return t}function Dm(t,e){switch(Se(Pa,e),Se(Oa,t),Se(Bn,hl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:If(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=If(e,t)}Ie(Bn),Se(Bn,e)}function Ki(){Ie(Bn),Ie(Oa),Ie(Pa)}function Ix(t){Ss(Pa.current);var e=Ss(Bn.current),n=If(e,t.type);e!==n&&(Se(Oa,t),Se(Bn,n))}function jm(t){Oa.current===t&&(Ie(Bn),Ie(Oa))}var Pe=us(0);function ac(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Th=[];function Om(){for(var t=0;t<Th.length;t++)Th[t]._workInProgressVersionPrimary=null;Th.length=0}var Ru=xr.ReactCurrentDispatcher,kh=xr.ReactCurrentBatchConfig,Ms=0,Le=null,Je=null,it=null,lc=!1,ca=!1,La=0,aR=0;function gt(){throw Error(j(321))}function Pm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Lm(t,e,n,r,s,i){if(Ms=i,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ru.current=t===null||t.memoizedState===null?dR:hR,t=n(r,s),ca){i=0;do{if(ca=!1,La=0,25<=i)throw Error(j(301));i+=1,it=Je=null,e.updateQueue=null,Ru.current=fR,t=n(r,s)}while(ca)}if(Ru.current=uc,e=Je!==null&&Je.next!==null,Ms=0,it=Je=Le=null,lc=!1,e)throw Error(j(300));return t}function $m(){var t=La!==0;return La=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Le.memoizedState=it=t:it=it.next=t,it}function En(){if(Je===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=it===null?Le.memoizedState:it.next;if(e!==null)it=e,Je=t;else{if(t===null)throw Error(j(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},it===null?Le.memoizedState=it=t:it=it.next=t}return it}function $a(t,e){return typeof e=="function"?e(t):e}function Ih(t){var e=En(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Ms&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Le.lanes|=d,Us|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Dn(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Le.lanes|=i,Us|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nh(t){var e=En(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Dn(i,e.memoizedState)||(qt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Nx(){}function Rx(t,e){var n=Le,r=En(),s=e(),i=!Dn(r.memoizedState,s);if(i&&(r.memoizedState=s,qt=!0),r=r.queue,Mm(Dx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,Ma(9,Ax.bind(null,n,r,s,e),void 0,null),ot===null)throw Error(j(349));Ms&30||bx(n,e,s)}return s}function bx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ax(t,e,n,r){e.value=n,e.getSnapshot=r,jx(e)&&Ox(t)}function Dx(t,e,n){return n(function(){jx(e)&&Ox(t)})}function jx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function Ox(t){var e=dr(t,1);e!==null&&bn(e,t,1,-1)}function jy(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},e.queue=t,t=t.dispatch=cR.bind(null,Le,t),[e.memoizedState,t]}function Ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Px(){return En().memoizedState}function bu(t,e,n,r){var s=Ln();Le.flags|=t,s.memoizedState=Ma(1|e,n,void 0,r===void 0?null:r)}function nd(t,e,n,r){var s=En();r=r===void 0?null:r;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,r!==null&&Pm(r,o.deps)){s.memoizedState=Ma(e,n,i,r);return}}Le.flags|=t,s.memoizedState=Ma(1|e,n,i,r)}function Oy(t,e){return bu(8390656,8,t,e)}function Mm(t,e){return nd(2048,8,t,e)}function Lx(t,e){return nd(4,2,t,e)}function $x(t,e){return nd(4,4,t,e)}function Mx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ux(t,e,n){return n=n!=null?n.concat([t]):null,nd(4,4,Mx.bind(null,e,t),n)}function Um(){}function Fx(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bx(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Vx(t,e,n){return Ms&21?(Dn(n,e)||(n=WE(),Le.lanes|=n,Us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function lR(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=kh.transition;kh.transition={};try{t(!1),e()}finally{_e=n,kh.transition=r}}function zx(){return En().memoizedState}function uR(t,e,n){var r=Gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hx(t))Wx(e,n);else if(n=xx(t,e,n,r),n!==null){var s=Lt();bn(n,t,r,s),qx(n,e,r)}}function cR(t,e,n){var r=Gr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hx(t))Wx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(s.next=s,bm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=xx(t,e,s,r),n!==null&&(s=Lt(),bn(n,t,r,s),qx(n,e,r))}}function Hx(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function Wx(t,e){ca=lc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gm(t,n)}}var uc={readContext:wn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},dR={readContext:wn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:Oy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bu(4194308,4,Mx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return bu(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uR.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:jy,useDebugValue:Um,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=jy(!1),e=t[0];return t=lR.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,s=Ln();if(Ae){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),ot===null)throw Error(j(349));Ms&30||bx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Oy(Dx.bind(null,r,i,t),[t]),r.flags|=2048,Ma(9,Ax.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ln(),e=ot.identifierPrefix;if(Ae){var n=rr,r=nr;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=La++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hR={readContext:wn,useCallback:Fx,useContext:wn,useEffect:Mm,useImperativeHandle:Ux,useInsertionEffect:Lx,useLayoutEffect:$x,useMemo:Bx,useReducer:Ih,useRef:Px,useState:function(){return Ih($a)},useDebugValue:Um,useDeferredValue:function(t){var e=En();return Vx(e,Je.memoizedState,t)},useTransition:function(){var t=Ih($a)[0],e=En().memoizedState;return[t,e]},useMutableSource:Nx,useSyncExternalStore:Rx,useId:zx,unstable_isNewReconciler:!1},fR={readContext:wn,useCallback:Fx,useContext:wn,useEffect:Mm,useImperativeHandle:Ux,useInsertionEffect:Lx,useLayoutEffect:$x,useMemo:Bx,useReducer:Nh,useRef:Px,useState:function(){return Nh($a)},useDebugValue:Um,useDeferredValue:function(t){var e=En();return Je===null?e.memoizedState=t:Vx(e,Je.memoizedState,t)},useTransition:function(){var t=Nh($a)[0],e=En().memoizedState;return[t,e]},useMutableSource:Nx,useSyncExternalStore:Rx,useId:zx,unstable_isNewReconciler:!1};function Gi(t,e){try{var n="",r=e;do n+=BI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pR=typeof WeakMap=="function"?WeakMap:Map;function Kx(t,e,n){n=ar(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dc||(dc=!0,op=r),Yf(t,e)},n}function Gx(t,e,n){n=ar(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Yf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yf(t,e),typeof r!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Py(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=NR.bind(null,t,e,n),e.then(t,t))}function Ly(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $y(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ar(-1,1),e.tag=2,qr(n,e,1))),n.lanes|=1),t)}var mR=xr.ReactCurrentOwner,qt=!1;function jt(t,e,n,r){e.child=t===null?kx(e,null,n,r):qi(e,t.child,n,r)}function My(t,e,n,r,s){n=n.render;var i=e.ref;return Li(e,s),r=Lm(t,e,n,r,i,s),n=$m(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hr(t,e,s)):(Ae&&n&&Sm(e),e.flags|=1,jt(t,e,r,s),e.child)}function Uy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Km(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Qx(t,e,i,r,s)):(t=Ou(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ba,n(o,r)&&t.ref===e.ref)return hr(t,e,s)}return e.flags|=1,t=Qr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Qx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ba(i,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,hr(t,e,s)}return Xf(t,e,n,r,s)}function Yx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ni,tn),tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Ni,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Se(Ni,tn),tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Se(Ni,tn),tn|=r;return jt(t,e,s,n),e.child}function Xx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xf(t,e,n,r,s){var i=Gt(n)?Ls:It.current;return i=Hi(e,i),Li(e,s),n=Lm(t,e,n,r,i,s),r=$m(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hr(t,e,s)):(Ae&&r&&Sm(e),e.flags|=1,jt(t,e,n,s),e.child)}function Fy(t,e,n,r,s){if(Gt(n)){var i=!0;tc(e)}else i=!1;if(Li(e,s),e.stateNode===null)Au(t,e),Sx(e,n,r),Qf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Gt(n)?Ls:It.current,u=Hi(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ay(e,o,r,u),Nr=!1;var p=e.memoizedState;o.state=p,oc(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Kt.current||Nr?(typeof d=="function"&&(Gf(e,n,d,r),l=e.memoizedState),(a=Nr||by(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_x(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Sn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Gt(n)?Ls:It.current,l=Hi(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Ay(e,o,r,l),Nr=!1,p=e.memoizedState,o.state=p,oc(e,r,o,s);var w=e.memoizedState;a!==h||p!==w||Kt.current||Nr?(typeof m=="function"&&(Gf(e,n,m,r),w=e.memoizedState),(u=Nr||by(e,n,u,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Jf(t,e,n,r,i,s)}function Jf(t,e,n,r,s,i){Xx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ty(e,n,!1),hr(t,e,i);r=e.stateNode,mR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qi(e,t.child,null,i),e.child=qi(e,null,a,i)):jt(t,e,a,i),e.memoizedState=r.state,s&&Ty(e,n,!0),e.child}function Jx(t){var e=t.stateNode;e.pendingContext?Sy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sy(t,e.context,!1),Dm(t,e.containerInfo)}function By(t,e,n,r,s){return Wi(),km(s),e.flags|=256,jt(t,e,n,r),e.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function ep(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zx(t,e,n){var r=e.pendingProps,s=Pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Se(Pe,s&1),t===null)return qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=id(o,r,0,null),t=bs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ep(n),e.memoizedState=Zf,t):Fm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return gR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Qr(a,i):(i=bs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ep(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Zf,r}return i=t.child,t=i.sibling,r=Qr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fm(t,e){return e=id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,r){return r!==null&&km(r),qi(e,t.child,null,n),t=Fm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Rh(Error(j(422))),nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=id({mode:"visible",children:r.children},s,0,null),i=bs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&qi(e,t.child,null,o),e.child.memoizedState=ep(o),e.memoizedState=Zf,i);if(!(e.mode&1))return nu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(j(419)),r=Rh(i,r,void 0),nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,qt||a){if(r=ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dr(t,s),bn(r,t,s,-1))}return qm(),r=Rh(Error(j(421))),nu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=RR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,rn=Wr(s.nextSibling),on=e,Ae=!0,kn=null,t!==null&&(pn[mn++]=nr,pn[mn++]=rr,pn[mn++]=$s,nr=t.id,rr=t.overflow,$s=e),e=Fm(e,r.children),e.flags|=4096,e)}function Vy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kf(t.return,e,n)}function bh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function e1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(jt(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,n,e);else if(t.tag===19)Vy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ac(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),bh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ac(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}bh(e,!0,n,null,i);break;case"together":bh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vR(t,e,n){switch(e.tag){case 3:Jx(e),Wi();break;case 5:Ix(e);break;case 1:Gt(e.type)&&tc(e);break;case 4:Dm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Se(sc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?Zx(t,e,n):(Se(Pe,Pe.current&1),t=hr(t,e,n),t!==null?t.sibling:null);Se(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return e1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,Yx(t,e,n)}return hr(t,e,n)}var t1,tp,n1,r1;t1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tp=function(){};n1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ss(Bn.current);var i=null;switch(n){case"input":s=Cf(t,s),r=Cf(t,r),i=[];break;case"select":s=$e({},s,{value:void 0}),r=$e({},r,{value:void 0}),i=[];break;case"textarea":s=kf(t,s),r=kf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zu)}Nf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ca.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};r1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bo(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yR(t,e,n){var r=e.pendingProps;switch(Tm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return Gt(e.type)&&ec(),vt(e),null;case 3:return r=e.stateNode,Ki(),Ie(Kt),Ie(It),Om(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(up(kn),kn=null))),tp(t,e),vt(e),null;case 5:jm(e);var s=Ss(Pa.current);if(n=e.type,t!==null&&e.stateNode!=null)n1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return vt(e),null}if(t=Ss(Bn.current),eu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[$n]=e,r[ja]=i,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(s=0;s<Jo.length;s++)Te(Jo[s],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":Xv(r,i),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Te("invalid",r);break;case"textarea":Zv(r,i),Te("invalid",r)}Nf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Zl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Zl(r.textContent,a,t),s=["children",""+a]):Ca.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",r)}switch(n){case"input":Wl(r),Jv(r,i,!0);break;case"textarea":Wl(r),ey(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$n]=e,t[ja]=r,t1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rf(n,r),n){case"dialog":Te("cancel",t),Te("close",t),s=r;break;case"iframe":case"object":case"embed":Te("load",t),s=r;break;case"video":case"audio":for(s=0;s<Jo.length;s++)Te(Jo[s],t);s=r;break;case"source":Te("error",t),s=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),s=r;break;case"details":Te("toggle",t),s=r;break;case"input":Xv(t,r),s=Cf(t,r),Te("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=$e({},r,{value:void 0}),Te("invalid",t);break;case"textarea":Zv(t,r),s=kf(t,r),Te("invalid",t);break;default:s=r}Nf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?jE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sa(t,l):typeof l=="number"&&Sa(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ca.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Te("scroll",t):l!=null&&cm(t,i,l,o))}switch(n){case"input":Wl(t),Jv(t,r,!1);break;case"textarea":Wl(t),ey(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ts(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Di(t,!!r.multiple,i,!1):r.defaultValue!=null&&Di(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)r1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Ss(Pa.current),Ss(Bn.current),eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[$n]=e,(i=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:Zl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=e,e.stateNode=r}return vt(e),null;case 13:if(Ie(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&rn!==null&&e.mode&1&&!(e.flags&128))Ex(),Wi(),e.flags|=98560,i=!1;else if(i=eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[$n]=e}else Wi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),i=!1}else kn!==null&&(up(kn),kn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Ze===0&&(Ze=3):qm())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return Ki(),tp(t,e),t===null&&Aa(e.stateNode.containerInfo),vt(e),null;case 10:return Rm(e.type._context),vt(e),null;case 17:return Gt(e.type)&&ec(),vt(e),null;case 19:if(Ie(Pe),i=e.memoizedState,i===null)return vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Bo(i,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ac(t),o!==null){for(e.flags|=128,Bo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Pe,Pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&ze()>Qi&&(e.flags|=128,r=!0,Bo(i,!1),e.lanes=4194304)}else{if(!r)if(t=ac(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ae)return vt(e),null}else 2*ze()-i.renderingStartTime>Qi&&n!==1073741824&&(e.flags|=128,r=!0,Bo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ze(),e.sibling=null,n=Pe.current,Se(Pe,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return Wm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function wR(t,e){switch(Tm(e),e.tag){case 1:return Gt(e.type)&&ec(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ki(),Ie(Kt),Ie(It),Om(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jm(e),null;case 13:if(Ie(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Wi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Pe),null;case 4:return Ki(),null;case 10:return Rm(e.type._context),null;case 22:case 23:return Wm(),null;case 24:return null;default:return null}}var ru=!1,xt=!1,ER=typeof WeakSet=="function"?WeakSet:Set,U=null;function Ii(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function np(t,e,n){try{n()}catch(r){Be(t,e,r)}}var zy=!1;function xR(t,e){if(Uf=Yu,t=ax(),Cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ff={focusedElem:t,selectionRange:n},Yu=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,E=w.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Sn(e.type,g),E);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(_){Be(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return w=zy,zy=!1,w}function da(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&np(e,n,i)}s=s.next}while(s!==r)}}function rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function s1(t){var e=t.alternate;e!==null&&(t.alternate=null,s1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$n],delete e[ja],delete e[zf],delete e[rR],delete e[sR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i1(t){return t.tag===5||t.tag===3||t.tag===4}function Hy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zu));else if(r!==4&&(t=t.child,t!==null))for(sp(t,e,n),t=t.sibling;t!==null;)sp(t,e,n),t=t.sibling}function ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ip(t,e,n),t=t.sibling;t!==null;)ip(t,e,n),t=t.sibling}var ct=null,Tn=!1;function Tr(t,e,n){for(n=n.child;n!==null;)o1(t,e,n),n=n.sibling}function o1(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Qc,n)}catch{}switch(n.tag){case 5:xt||Ii(n,e);case 6:var r=ct,s=Tn;ct=null,Tr(t,e,n),ct=r,Tn=s,ct!==null&&(Tn?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(Tn?(t=ct,n=n.stateNode,t.nodeType===8?Ch(t.parentNode,n):t.nodeType===1&&Ch(t,n),Na(t)):Ch(ct,n.stateNode));break;case 4:r=ct,s=Tn,ct=n.stateNode.containerInfo,Tn=!0,Tr(t,e,n),ct=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&np(n,e,o),s=s.next}while(s!==r)}Tr(t,e,n);break;case 1:if(!xt&&(Ii(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}Tr(t,e,n);break;case 21:Tr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Tr(t,e,n),xt=r):Tr(t,e,n);break;default:Tr(t,e,n)}}function Wy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ER),e.forEach(function(r){var s=bR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,Tn=!1;break e;case 3:ct=a.stateNode.containerInfo,Tn=!0;break e;case 4:ct=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(ct===null)throw Error(j(160));o1(i,o,s),ct=null,Tn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Be(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)a1(e,t),e=e.sibling}function a1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),Pn(t),r&4){try{da(3,t,t.return),rd(3,t)}catch(g){Be(t,t.return,g)}try{da(5,t,t.return)}catch(g){Be(t,t.return,g)}}break;case 1:Cn(e,t),Pn(t),r&512&&n!==null&&Ii(n,n.return);break;case 5:if(Cn(e,t),Pn(t),r&512&&n!==null&&Ii(n,n.return),t.flags&32){var s=t.stateNode;try{Sa(s,"")}catch(g){Be(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&NE(s,i),Rf(a,o);var u=Rf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?jE(s,h):d==="dangerouslySetInnerHTML"?AE(s,h):d==="children"?Sa(s,h):cm(s,d,h,u)}switch(a){case"input":Sf(s,i);break;case"textarea":RE(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Di(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Di(s,!!i.multiple,i.defaultValue,!0):Di(s,!!i.multiple,i.multiple?[]:"",!1))}s[ja]=i}catch(g){Be(t,t.return,g)}}break;case 6:if(Cn(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Be(t,t.return,g)}}break;case 3:if(Cn(e,t),Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Na(e.containerInfo)}catch(g){Be(t,t.return,g)}break;case 4:Cn(e,t),Pn(t);break;case 13:Cn(e,t),Pn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zm=ze())),r&4&&Wy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(u=xt)||d,Cn(e,t),xt=u):Cn(e,t),Pn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(h=U=d;U!==null;){switch(p=U,m=p.child,p.tag){case 0:case 11:case 14:case 15:da(4,p,p.return);break;case 1:Ii(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){Be(r,n,g)}}break;case 5:Ii(p,p.return);break;case 22:if(p.memoizedState!==null){Ky(h);continue}}m!==null?(m.return=p,U=m):Ky(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DE("display",o))}catch(g){Be(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Be(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Cn(e,t),Pn(t),r&4&&Wy(t);break;case 21:break;default:Cn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(i1(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sa(s,""),r.flags&=-33);var i=Hy(t);ip(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Hy(t);sp(t,a,o);break;default:throw Error(j(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _R(t,e,n){U=t,l1(t)}function l1(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ru;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||xt;a=ru;var u=xt;if(ru=o,(xt=l)&&!u)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?Gy(s):l!==null?(l.return=o,U=l):Gy(s);for(;i!==null;)U=i,l1(i),i=i.sibling;U=s,ru=a,xt=u}qy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):qy(t)}}function qy(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ry(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ry(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Na(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}xt||e.flags&512&&rp(e)}catch(p){Be(e,e.return,p)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Ky(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function Gy(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rd(4,e)}catch(l){Be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Be(e,s,l)}}var i=e.return;try{rp(e)}catch(l){Be(e,i,l)}break;case 5:var o=e.return;try{rp(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var CR=Math.ceil,cc=xr.ReactCurrentDispatcher,Bm=xr.ReactCurrentOwner,vn=xr.ReactCurrentBatchConfig,me=0,ot=null,Qe=null,ht=0,tn=0,Ni=us(0),Ze=0,Ua=null,Us=0,sd=0,Vm=0,ha=null,Ht=null,zm=0,Qi=1/0,Jn=null,dc=!1,op=null,Kr=null,su=!1,Ur=null,hc=0,fa=0,ap=null,Du=-1,ju=0;function Lt(){return me&6?ze():Du!==-1?Du:Du=ze()}function Gr(t){return t.mode&1?me&2&&ht!==0?ht&-ht:oR.transition!==null?(ju===0&&(ju=WE()),ju):(t=_e,t!==0||(t=window.event,t=t===void 0?16:JE(t.type)),t):1}function bn(t,e,n,r){if(50<fa)throw fa=0,ap=null,Error(j(185));ul(t,n,r),(!(me&2)||t!==ot)&&(t===ot&&(!(me&2)&&(sd|=n),Ze===4&&Ar(t,ht)),Qt(t,r),n===1&&me===0&&!(e.mode&1)&&(Qi=ze()+500,ed&&cs()))}function Qt(t,e){var n=t.callbackNode;oN(t,e);var r=Qu(t,t===ot?ht:0);if(r===0)n!==null&&ry(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ry(n),e===1)t.tag===0?iR(Qy.bind(null,t)):vx(Qy.bind(null,t)),tR(function(){!(me&6)&&cs()}),n=null;else{switch(qE(r)){case 1:n=mm;break;case 4:n=zE;break;case 16:n=Gu;break;case 536870912:n=HE;break;default:n=Gu}n=g1(n,u1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function u1(t,e){if(Du=-1,ju=0,me&6)throw Error(j(327));var n=t.callbackNode;if($i()&&t.callbackNode!==n)return null;var r=Qu(t,t===ot?ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fc(t,r);else{e=r;var s=me;me|=2;var i=d1();(ot!==t||ht!==e)&&(Jn=null,Qi=ze()+500,Rs(t,e));do try{kR();break}catch(a){c1(t,a)}while(1);Nm(),cc.current=i,me=s,Qe!==null?e=0:(ot=null,ht=0,e=Ze)}if(e!==0){if(e===2&&(s=Of(t),s!==0&&(r=s,e=lp(t,s))),e===1)throw n=Ua,Rs(t,0),Ar(t,r),Qt(t,ze()),n;if(e===6)Ar(t,r);else{if(s=t.current.alternate,!(r&30)&&!SR(s)&&(e=fc(t,r),e===2&&(i=Of(t),i!==0&&(r=i,e=lp(t,i))),e===1))throw n=Ua,Rs(t,0),Ar(t,r),Qt(t,ze()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Es(t,Ht,Jn);break;case 3:if(Ar(t,r),(r&130023424)===r&&(e=zm+500-ze(),10<e)){if(Qu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vf(Es.bind(null,t,Ht,Jn),e);break}Es(t,Ht,Jn);break;case 4:if(Ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CR(r/1960))-r,10<r){t.timeoutHandle=Vf(Es.bind(null,t,Ht,Jn),r);break}Es(t,Ht,Jn);break;case 5:Es(t,Ht,Jn);break;default:throw Error(j(329))}}}return Qt(t,ze()),t.callbackNode===n?u1.bind(null,t):null}function lp(t,e){var n=ha;return t.current.memoizedState.isDehydrated&&(Rs(t,e).flags|=256),t=fc(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&up(e)),t}function up(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function SR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Dn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ar(t,e){for(e&=~Vm,e&=~sd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),r=1<<n;t[n]=-1,e&=~r}}function Qy(t){if(me&6)throw Error(j(327));$i();var e=Qu(t,0);if(!(e&1))return Qt(t,ze()),null;var n=fc(t,e);if(t.tag!==0&&n===2){var r=Of(t);r!==0&&(e=r,n=lp(t,r))}if(n===1)throw n=Ua,Rs(t,0),Ar(t,e),Qt(t,ze()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Es(t,Ht,Jn),Qt(t,ze()),null}function Hm(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Qi=ze()+500,ed&&cs())}}function Fs(t){Ur!==null&&Ur.tag===0&&!(me&6)&&$i();var e=me;me|=1;var n=vn.transition,r=_e;try{if(vn.transition=null,_e=1,t)return t()}finally{_e=r,vn.transition=n,me=e,!(me&6)&&cs()}}function Wm(){tn=Ni.current,Ie(Ni)}function Rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eR(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Tm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ec();break;case 3:Ki(),Ie(Kt),Ie(It),Om();break;case 5:jm(r);break;case 4:Ki();break;case 13:Ie(Pe);break;case 19:Ie(Pe);break;case 10:Rm(r.type._context);break;case 22:case 23:Wm()}n=n.return}if(ot=t,Qe=t=Qr(t.current,null),ht=tn=e,Ze=0,Ua=null,Vm=sd=Us=0,Ht=ha=null,Cs!==null){for(e=0;e<Cs.length;e++)if(n=Cs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cs=null}return t}function c1(t,e){do{var n=Qe;try{if(Nm(),Ru.current=uc,lc){for(var r=Le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lc=!1}if(Ms=0,it=Je=Le=null,ca=!1,La=0,Bm.current=null,n===null||n.return===null){Ze=1,Ua=e,Qe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ly(o);if(m!==null){m.flags&=-257,$y(m,o,a,i,e),m.mode&1&&Py(i,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var g=new Set;g.add(l),e.updateQueue=g}else w.add(l);break e}else{if(!(e&1)){Py(i,u,e),qm();break e}l=Error(j(426))}}else if(Ae&&a.mode&1){var E=Ly(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),$y(E,o,a,i,e),km(Gi(l,a));break e}}i=l=Gi(l,a),Ze!==4&&(Ze=2),ha===null?ha=[i]:ha.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Kx(i,l,e);Ny(i,v);break e;case 1:a=l;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Kr===null||!Kr.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Gx(i,a,e);Ny(i,_);break e}}i=i.return}while(i!==null)}f1(n)}catch(C){e=C,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(1)}function d1(){var t=cc.current;return cc.current=uc,t===null?uc:t}function qm(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),ot===null||!(Us&268435455)&&!(sd&268435455)||Ar(ot,ht)}function fc(t,e){var n=me;me|=2;var r=d1();(ot!==t||ht!==e)&&(Jn=null,Rs(t,e));do try{TR();break}catch(s){c1(t,s)}while(1);if(Nm(),me=n,cc.current=r,Qe!==null)throw Error(j(261));return ot=null,ht=0,Ze}function TR(){for(;Qe!==null;)h1(Qe)}function kR(){for(;Qe!==null&&!XI();)h1(Qe)}function h1(t){var e=m1(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?f1(t):Qe=e,Bm.current=null}function f1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wR(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Qe=null;return}}else if(n=yR(n,e,tn),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);Ze===0&&(Ze=5)}function Es(t,e,n){var r=_e,s=vn.transition;try{vn.transition=null,_e=1,IR(t,e,n,r)}finally{vn.transition=s,_e=r}return null}function IR(t,e,n,r){do $i();while(Ur!==null);if(me&6)throw Error(j(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(aN(t,i),t===ot&&(Qe=ot=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||su||(su=!0,g1(Gu,function(){return $i(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vn.transition,vn.transition=null;var o=_e;_e=1;var a=me;me|=4,Bm.current=null,xR(t,n),a1(n,t),KN(Ff),Yu=!!Uf,Ff=Uf=null,t.current=n,_R(n),JI(),me=a,_e=o,vn.transition=i}else t.current=n;if(su&&(su=!1,Ur=t,hc=s),i=t.pendingLanes,i===0&&(Kr=null),tN(n.stateNode),Qt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(dc)throw dc=!1,t=op,op=null,t;return hc&1&&t.tag!==0&&$i(),i=t.pendingLanes,i&1?t===ap?fa++:(fa=0,ap=t):fa=0,cs(),null}function $i(){if(Ur!==null){var t=qE(hc),e=vn.transition,n=_e;try{if(vn.transition=null,_e=16>t?16:t,Ur===null)var r=!1;else{if(t=Ur,Ur=null,hc=0,me&6)throw Error(j(331));var s=me;for(me|=4,U=t.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:da(8,d,i)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var p=d.sibling,m=d.return;if(s1(d),d===u){U=null;break}if(p!==null){p.return=m,U=p;break}U=m}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:da(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,U=v;break e}U=i.return}}var y=t.current;for(U=y;U!==null;){o=U;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,U=x;else e:for(o=y;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rd(9,a)}}catch(C){Be(a,a.return,C)}if(a===o){U=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,U=_;break e}U=a.return}}if(me=s,cs(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Qc,t)}catch{}r=!0}return r}finally{_e=n,vn.transition=e}}return!1}function Yy(t,e,n){e=Gi(n,e),e=Kx(t,e,1),t=qr(t,e,1),e=Lt(),t!==null&&(ul(t,1,e),Qt(t,e))}function Be(t,e,n){if(t.tag===3)Yy(t,t,n);else for(;e!==null;){if(e.tag===3){Yy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kr===null||!Kr.has(r))){t=Gi(n,t),t=Gx(e,t,1),e=qr(e,t,1),t=Lt(),e!==null&&(ul(e,1,t),Qt(e,t));break}}e=e.return}}function NR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ht&n)===n&&(Ze===4||Ze===3&&(ht&130023424)===ht&&500>ze()-zm?Rs(t,0):Vm|=n),Qt(t,e)}function p1(t,e){e===0&&(t.mode&1?(e=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):e=1);var n=Lt();t=dr(t,e),t!==null&&(ul(t,e,n),Qt(t,n))}function RR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),p1(t,n)}function bR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),p1(t,n)}var m1;m1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,vR(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Ae&&e.flags&1048576&&yx(e,rc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Au(t,e),t=e.pendingProps;var s=Hi(e,It.current);Li(e,n),s=Lm(null,e,r,t,s,n);var i=$m();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(i=!0,tc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Am(e),s.updater=td,e.stateNode=s,s._reactInternals=e,Qf(e,r,t,n),e=Jf(null,e,r,!0,i,n)):(e.tag=0,Ae&&i&&Sm(e),jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=DR(r),t=Sn(r,t),s){case 0:e=Xf(null,e,r,t,n);break e;case 1:e=Fy(null,e,r,t,n);break e;case 11:e=My(null,e,r,t,n);break e;case 14:e=Uy(null,e,r,Sn(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),Xf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),Fy(t,e,r,s,n);case 3:e:{if(Jx(e),t===null)throw Error(j(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_x(t,e),oc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gi(Error(j(423)),e),e=By(t,e,r,n,s);break e}else if(r!==s){s=Gi(Error(j(424)),e),e=By(t,e,r,n,s);break e}else for(rn=Wr(e.stateNode.containerInfo.firstChild),on=e,Ae=!0,kn=null,n=kx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wi(),r===s){e=hr(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return Ix(e),t===null&&qf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bf(r,s)?o=null:i!==null&&Bf(r,i)&&(e.flags|=32),Xx(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&qf(e),null;case 13:return Zx(t,e,n);case 4:return Dm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qi(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),My(t,e,r,s,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Se(sc,r._currentValue),r._currentValue=o,i!==null)if(Dn(i.value,o)){if(i.children===s.children&&!Kt.current){e=hr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ar(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Kf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Kf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Li(e,n),s=wn(s),r=r(s),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,s=Sn(r,e.pendingProps),s=Sn(r.type,s),Uy(t,e,r,s,n);case 15:return Qx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),Au(t,e),e.tag=1,Gt(r)?(t=!0,tc(e)):t=!1,Li(e,n),Sx(e,r,s),Qf(e,r,s,n),Jf(null,e,r,!0,t,n);case 19:return e1(t,e,n);case 22:return Yx(t,e,n)}throw Error(j(156,e.tag))};function g1(t,e){return VE(t,e)}function AR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new AR(t,e,n,r)}function Km(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DR(t){if(typeof t=="function")return Km(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hm)return 11;if(t===fm)return 14}return 2}function Qr(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ou(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Km(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yi:return bs(n.children,s,i,e);case dm:o=8,s|=8;break;case wf:return t=gn(12,n,e,s|2),t.elementType=wf,t.lanes=i,t;case Ef:return t=gn(13,n,e,s),t.elementType=Ef,t.lanes=i,t;case xf:return t=gn(19,n,e,s),t.elementType=xf,t.lanes=i,t;case TE:return id(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CE:o=10;break e;case SE:o=9;break e;case hm:o=11;break e;case fm:o=14;break e;case Ir:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=gn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function bs(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function id(t,e,n,r){return t=gn(22,t,r,e),t.elementType=TE,t.lanes=n,t.stateNode={isHidden:!1},t}function Ah(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function Dh(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hh(0),this.expirationTimes=hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gm(t,e,n,r,s,i,o,a,l){return t=new jR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=gn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Am(i),t}function OR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function v1(t){if(!t)return ns;t=t._reactInternals;e:{if(Js(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Gt(n))return gx(t,n,e)}return e}function y1(t,e,n,r,s,i,o,a,l){return t=Gm(n,r,!0,t,s,i,o,a,l),t.context=v1(null),n=t.current,r=Lt(),s=Gr(n),i=ar(r,s),i.callback=e??null,qr(n,i,s),t.current.lanes=s,ul(t,s,r),Qt(t,r),t}function od(t,e,n,r){var s=e.current,i=Lt(),o=Gr(s);return n=v1(n),e.context===null?e.context=n:e.pendingContext=n,e=ar(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qr(s,e,o),t!==null&&(bn(t,s,o,i),Nu(t,s,o)),o}function pc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qm(t,e){Xy(t,e),(t=t.alternate)&&Xy(t,e)}function PR(){return null}var w1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ym(t){this._internalRoot=t}ad.prototype.render=Ym.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));od(t,e,null,null)};ad.prototype.unmount=Ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fs(function(){od(null,t,null,null)}),e[cr]=null}};function ad(t){this._internalRoot=t}ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=QE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&XE(t)}};function Xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jy(){}function LR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=pc(o);i.call(u)}}var o=y1(e,r,t,0,null,!1,!1,"",Jy);return t._reactRootContainer=o,t[cr]=o.current,Aa(t.nodeType===8?t.parentNode:t),Fs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=pc(l);a.call(u)}}var l=Gm(t,0,!1,null,null,!1,!1,"",Jy);return t._reactRootContainer=l,t[cr]=l.current,Aa(t.nodeType===8?t.parentNode:t),Fs(function(){od(e,l,n,r)}),l}function ud(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=pc(o);a.call(l)}}od(e,o,t,s)}else o=LR(n,e,t,s,r);return pc(o)}KE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xo(e.pendingLanes);n!==0&&(gm(e,n|1),Qt(e,ze()),!(me&6)&&(Qi=ze()+500,cs()))}break;case 13:Fs(function(){var r=dr(t,1);if(r!==null){var s=Lt();bn(r,t,1,s)}}),Qm(t,1)}};vm=function(t){if(t.tag===13){var e=dr(t,134217728);if(e!==null){var n=Lt();bn(e,t,134217728,n)}Qm(t,134217728)}};GE=function(t){if(t.tag===13){var e=Gr(t),n=dr(t,e);if(n!==null){var r=Lt();bn(n,t,e,r)}Qm(t,e)}};QE=function(){return _e};YE=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Af=function(t,e,n){switch(e){case"input":if(Sf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Zc(r);if(!s)throw Error(j(90));IE(r),Sf(r,s)}}}break;case"textarea":RE(t,n);break;case"select":e=n.value,e!=null&&Di(t,!!n.multiple,e,!1)}};LE=Hm;$E=Fs;var $R={usingClientEntryPoint:!1,Events:[dl,_i,Zc,OE,PE,Hm]},Vo={findFiberByHostInstance:_s,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},MR={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FE(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||PR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Qc=iu.inject(MR),Fn=iu}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$R;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xm(e))throw Error(j(200));return OR(t,e,null,n)};dn.createRoot=function(t,e){if(!Xm(t))throw Error(j(299));var n=!1,r="",s=w1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gm(t,1,!1,null,null,n,!1,r,s),t[cr]=e.current,Aa(t.nodeType===8?t.parentNode:t),new Ym(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=FE(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return Fs(t)};dn.hydrate=function(t,e,n){if(!ld(e))throw Error(j(200));return ud(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!Xm(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=w1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=y1(e,null,t,1,n??null,s,!1,i,o),t[cr]=e.current,Aa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ad(e)};dn.render=function(t,e,n){if(!ld(e))throw Error(j(200));return ud(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!ld(t))throw Error(j(40));return t._reactRootContainer?(Fs(function(){ud(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};dn.unstable_batchedUpdates=Hm;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ld(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return ud(t,e,n,!1,r)};dn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=dn})(PI);const Ri=dE(Hu);var Zy=Hu;gf.createRoot=Zy.createRoot,gf.hydrateRoot=Zy.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fa.apply(this,arguments)}var Fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fr||(Fr={}));const ew="popstate";function UR(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return cp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:mc(s)}return BR(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FR(){return Math.random().toString(36).substr(2,8)}function tw(t,e){return{usr:t.state,key:t.key,idx:e}}function cp(t,e,n,r){return n===void 0&&(n=null),Fa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?po(e):e,{state:n,key:e&&e.key||r||FR()})}function mc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Fr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Fa({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Fr.Pop;let E=d(),v=E==null?null:E-u;u=E,l&&l({action:a,location:g.location,delta:v})}function p(E,v){a=Fr.Push;let y=cp(g.location,E,v);n&&n(y,E),u=d()+1;let x=tw(y,u),_=g.createHref(y);try{o.pushState(x,"",_)}catch{s.location.assign(_)}i&&l&&l({action:a,location:g.location,delta:1})}function m(E,v){a=Fr.Replace;let y=cp(g.location,E,v);n&&n(y,E),u=d();let x=tw(y,u),_=g.createHref(y);o.replaceState(x,"",_),i&&l&&l({action:a,location:g.location,delta:0})}function w(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:mc(E);return Xe(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ew,h),l=E,()=>{s.removeEventListener(ew,h),l=null}},createHref(E){return e(s,E)},createURL:w,encodeLocation(E){let v=w(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(E){return o.go(E)}};return g}var nw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nw||(nw={}));function VR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?po(e):e,s=Zm(r.pathname||"/",n);if(s==null)return null;let i=E1(t);zR(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=JR(i[a],tb(s));return o}function E1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Yr([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),E1(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:YR(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of x1(i.path))s(i,o,l)}),e}function x1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=x1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function zR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HR=/^:\w+$/,WR=3,qR=2,KR=1,GR=10,QR=-2,rw=t=>t==="*";function YR(t,e){let n=t.split("/"),r=n.length;return n.some(rw)&&(r+=QR),e&&(r+=qR),n.filter(s=>!rw(s)).reduce((s,i)=>s+(HR.test(i)?WR:i===""?KR:GR),r)}function XR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function JR(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=ZR({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;i.push({params:r,pathname:Yr([s,d.pathname]),pathnameBase:ib(Yr([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Yr([s,d.pathnameBase]))}return i}function ZR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eb(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{if(d==="*"){let p=a[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}return u[d]=nb(a[h]||"",d),u},{}),pathname:i,pathnameBase:o,pattern:t}}function eb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function tb(t){try{return decodeURI(t)}catch(e){return Jm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nb(t,e){try{return decodeURIComponent(t)}catch(n){return Jm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Zm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?po(t):t;return{pathname:n?n.startsWith("/")?n:sb(n,e):e,search:ob(r),hash:ab(s)}}function sb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function C1(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=po(t):(s=Fa({},t),Xe(!s.pathname||!s.pathname.includes("?"),jh("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),jh("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),jh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=rb(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Yr=t=>t.join("/").replace(/\/\/+/g,"/"),ib=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ob=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ab=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ub(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const cb=typeof Object.is=="function"?Object.is:ub,{useState:db,useEffect:hb,useLayoutEffect:fb,useDebugValue:pb}=mf;function mb(t,e,n){const r=e(),[{inst:s},i]=db({inst:{value:r,getSnapshot:e}});return fb(()=>{s.value=r,s.getSnapshot=e,Oh(s)&&i({inst:s})},[t,r,e]),hb(()=>(Oh(s)&&i({inst:s}),t(()=>{Oh(s)&&i({inst:s})})),[t]),pb(r),r}function Oh(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!cb(n,r)}catch{return!0}}function gb(t,e,n){return e()}const vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yb=!vb,wb=yb?gb:mb;"useSyncExternalStore"in mf&&(t=>t.useSyncExternalStore)(mf);const S1=f.createContext(null),eg=f.createContext(null),fl=f.createContext(null),cd=f.createContext(null),mo=f.createContext({outlet:null,matches:[]}),T1=f.createContext(null);function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dp.apply(this,arguments)}function Eb(t,e){let{relative:n}=e===void 0?{}:e;go()||Xe(!1);let{basename:r,navigator:s}=f.useContext(fl),{hash:i,pathname:o,search:a}=k1(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Yr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function go(){return f.useContext(cd)!=null}function dd(){return go()||Xe(!1),f.useContext(cd).location}function vo(){go()||Xe(!1);let{basename:t,navigator:e}=f.useContext(fl),{matches:n}=f.useContext(mo),{pathname:r}=dd(),s=JSON.stringify(_1(n).map(a=>a.pathnameBase)),i=f.useRef(!1);return f.useEffect(()=>{i.current=!0}),f.useCallback(function(a,l){if(l===void 0&&(l={}),!i.current)return;if(typeof a=="number"){e.go(a);return}let u=C1(a,JSON.parse(s),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Yr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,s,r])}function k1(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=f.useContext(mo),{pathname:s}=dd(),i=JSON.stringify(_1(r).map(o=>o.pathnameBase));return f.useMemo(()=>C1(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function xb(t,e){go()||Xe(!1);let{navigator:n}=f.useContext(fl),r=f.useContext(eg),{matches:s}=f.useContext(mo),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=dd(),u;if(e){var d;let g=typeof e=="string"?po(e):e;a==="/"||(d=g.pathname)!=null&&d.startsWith(a)||Xe(!1),u=g}else u=l;let h=u.pathname||"/",p=a==="/"?h:h.slice(a.length)||"/",m=VR(t,{pathname:p}),w=Tb(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Yr([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Yr([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r||void 0);return e&&w?f.createElement(cd.Provider,{value:{location:dp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fr.Pop}},w):w}function _b(){let t=Rb(),e=lb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:s},n):null,i)}class Cb extends f.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?f.createElement(mo.Provider,{value:this.props.routeContext},f.createElement(T1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sb(t){let{routeContext:e,match:n,children:r}=t,s=f.useContext(S1);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(mo.Provider,{value:e},r)}function Tb(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,s=n==null?void 0:n.errors;if(s!=null){let i=r.findIndex(o=>o.route.id&&(s==null?void 0:s[o.route.id]));i>=0||Xe(!1),r=r.slice(0,Math.min(r.length,i+1))}return r.reduceRight((i,o,a)=>{let l=o.route.id?s==null?void 0:s[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=f.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=f.createElement(_b,null));let d=e.concat(r.slice(0,a+1)),h=()=>{let p=i;return l?p=u:o.route.Component?p=f.createElement(o.route.Component,null):o.route.element&&(p=o.route.element),f.createElement(Sb,{match:o,routeContext:{outlet:i,matches:d},children:p})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?f.createElement(Cb,{location:n.location,component:u,error:l,children:h(),routeContext:{outlet:null,matches:d}}):h()},null)}var sw;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(sw||(sw={}));var gc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(gc||(gc={}));function kb(t){let e=f.useContext(eg);return e||Xe(!1),e}function Ib(t){let e=f.useContext(mo);return e||Xe(!1),e}function Nb(t){let e=Ib(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function Rb(){var t;let e=f.useContext(T1),n=kb(gc.UseRouteError),r=Nb(gc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function I1(t){let{to:e,replace:n,state:r,relative:s}=t;go()||Xe(!1);let i=f.useContext(eg),o=vo();return f.useEffect(()=>{i&&i.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:s})}),null}function Fe(t){Xe(!1)}function bb(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Fr.Pop,navigator:i,static:o=!1}=t;go()&&Xe(!1);let a=e.replace(/^\/*/,"/"),l=f.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=po(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,w=f.useMemo(()=>{let g=Zm(u,a);return g==null?null:{location:{pathname:g,search:d,hash:h,state:p,key:m},navigationType:s}},[a,u,d,h,p,m,s]);return w==null?null:f.createElement(fl.Provider,{value:l},f.createElement(cd.Provider,{children:n,value:w}))}function tg(t){let{children:e,location:n}=t,r=f.useContext(S1),s=r&&!e?r.router.routes:hp(e);return xb(s,n)}var iw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(iw||(iw={}));new Promise(()=>{});function hp(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(r,s)=>{if(!f.isValidElement(r))return;let i=[...e,s];if(r.type===f.Fragment){n.push.apply(n,hp(r.props.children,i));return}r.type!==Fe&&Xe(!1),!r.props.index||!r.props.children||Xe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function Ab(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Db(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jb(t,e){return t.button===0&&(!e||e==="_self")&&!Db(t)}const Ob=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Pb(t){let{basename:e,children:n,window:r}=t,s=f.useRef();s.current==null&&(s.current=UR({window:r,v5Compat:!0}));let i=s.current,[o,a]=f.useState({action:i.action,location:i.location});return f.useLayoutEffect(()=>i.listen(a),[i]),f.createElement(bb,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const Lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$b=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=f.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d}=e,h=Ab(e,Ob),{basename:p}=f.useContext(fl),m,w=!1;if(typeof u=="string"&&$b.test(u)&&(m=u,Lb)){let y=new URL(window.location.href),x=u.startsWith("//")?new URL(y.protocol+u):new URL(u),_=Zm(x.pathname,p);x.origin===y.origin&&_!=null?u=_+x.search+x.hash:w=!0}let g=Eb(u,{relative:s}),E=Mb(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s});function v(y){r&&r(y),y.defaultPrevented||E(y)}return f.createElement("a",fp({},h,{href:m||g,onClick:w||i?r:v,ref:n,target:l}))});var ow;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(ow||(ow={}));var aw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aw||(aw={}));function Mb(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=vo(),l=dd(),u=k1(t,{relative:o});return f.useCallback(d=>{if(jb(d,n)){d.preventDefault();let h=r!==void 0?r:mc(l)===mc(u);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,u,r,s,n,t,i,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ub=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},R1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ub(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new Fb;const p=i<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bb=function(t){const e=N1(t);return R1.encodeByteArray(e,!0)},vc=function(t){return Bb(t).replace(/\./g,"")},b1=function(t){try{return R1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=()=>Vb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&b1(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return zb()||Hb()||Wb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A1=t=>{var e,n;return(n=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},D1=t=>{const e=A1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qb=()=>{var t;return(t=hd())===null||t===void 0?void 0:t.config},j1=t=>{var e;return(e=hd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[vc(JSON.stringify(n)),vc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Qb(){var t;const e=(t=hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function eA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="FirebaseError";class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tA,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?nA(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Yn(s,a,r)}}function nA(t,e){return t.replace(rA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const rA=/\{\$([^}]+)}/g;function sA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(lw(i)&&lw(o)){if(!yc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function lw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ea(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iA(t,e){const n=new oA(t,e);return n.subscribe.bind(n)}class oA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ph),s.error===void 0&&(s.error=Ph),s.complete===void 0&&(s.complete=Ph);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ph(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){return t&&t._delegate?t._delegate:t}class rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cA(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uA(t){return t===xs?void 0:t}function cA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const hA={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},fA=ye.INFO,pA={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},mA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pA[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ng{constructor(e){this.name=e,this._logLevel=fA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const gA=(t,e)=>e.some(n=>t instanceof n);let uw,cw;function vA(){return uw||(uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return cw||(cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,pp=new WeakMap,L1=new WeakMap,Lh=new WeakMap,rg=new WeakMap;function wA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Xr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&P1.set(n,t)}).catch(()=>{}),rg.set(e,t),e}function EA(t){if(pp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});pp.set(t,e)}let mp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xA(t){mp=t(mp)}function _A(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($h(this),e,...n);return L1.set(r,e.sort?e.sort():[e]),Xr(r)}:yA().includes(t)?function(...e){return t.apply($h(this),e),Xr(P1.get(this))}:function(...e){return Xr(t.apply($h(this),e))}}function CA(t){return typeof t=="function"?_A(t):(t instanceof IDBTransaction&&EA(t),gA(t,vA())?new Proxy(t,mp):t)}function Xr(t){if(t instanceof IDBRequest)return wA(t);if(Lh.has(t))return Lh.get(t);const e=CA(t);return e!==t&&(Lh.set(t,e),rg.set(e,t)),e}const $h=t=>rg.get(t);function SA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Xr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xr(o.result),l.oldVersion,l.newVersion,Xr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const TA=["get","getKey","getAll","getAllKeys","count"],kA=["put","add","delete","clear"],Mh=new Map;function dw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mh.get(e))return Mh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=kA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||TA.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Mh.set(e,i),i}xA(t=>({...t,get:(e,n,r)=>dw(e,n)||t.get(e,n,r),has:(e,n)=>!!dw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gp="@firebase/app",hw="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new ng("@firebase/app"),RA="@firebase/app-compat",bA="@firebase/analytics-compat",AA="@firebase/analytics",DA="@firebase/app-check-compat",jA="@firebase/app-check",OA="@firebase/auth",PA="@firebase/auth-compat",LA="@firebase/database",$A="@firebase/database-compat",MA="@firebase/functions",UA="@firebase/functions-compat",FA="@firebase/installations",BA="@firebase/installations-compat",VA="@firebase/messaging",zA="@firebase/messaging-compat",HA="@firebase/performance",WA="@firebase/performance-compat",qA="@firebase/remote-config",KA="@firebase/remote-config-compat",GA="@firebase/storage",QA="@firebase/storage-compat",YA="@firebase/firestore",XA="@firebase/firestore-compat",JA="firebase",ZA="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",eD={[gp]:"fire-core",[RA]:"fire-core-compat",[AA]:"fire-analytics",[bA]:"fire-analytics-compat",[jA]:"fire-app-check",[DA]:"fire-app-check-compat",[OA]:"fire-auth",[PA]:"fire-auth-compat",[LA]:"fire-rtdb",[$A]:"fire-rtdb-compat",[MA]:"fire-fn",[UA]:"fire-fn-compat",[FA]:"fire-iid",[BA]:"fire-iid-compat",[VA]:"fire-fcm",[zA]:"fire-fcm-compat",[HA]:"fire-perf",[WA]:"fire-perf-compat",[qA]:"fire-rc",[KA]:"fire-rc-compat",[GA]:"fire-gcs",[QA]:"fire-gcs-compat",[YA]:"fire-fst",[XA]:"fire-fst-compat","fire-js":"fire-js",[JA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,yp=new Map;function tD(t,e){try{t.container.addComponent(e)}catch(n){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vs(t){const e=t.name;if(yp.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,t);for(const n of wc.values())tD(n,t);return!0}function fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Jr=new pl("app","Firebase",nD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=ZA;function $1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Jr.create("bad-app-name",{appName:String(s)});if(n||(n=qb()),!n)throw Jr.create("no-options");const i=wc.get(s);if(i){if(yc(n,i.options)&&yc(r,i.config))return i;throw Jr.create("duplicate-app",{appName:s})}const o=new dA(s);for(const l of yp.values())o.addComponent(l);const a=new rD(n,r,o);return wc.set(s,a),a}function sg(t=vp){const e=wc.get(t);if(!e&&t===vp)return $1();if(!e)throw Jr.create("no-app",{appName:t});return e}function Vn(t,e,n){var r;let s=(r=eD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(a.join(" "));return}Vs(new rs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firebase-heartbeat-database",iD=1,Ba="firebase-heartbeat-store";let Uh=null;function M1(){return Uh||(Uh=SA(sD,iD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ba)}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),Uh}async function oD(t){try{return(await M1()).transaction(Ba).objectStore(Ba).get(U1(t))}catch(e){if(e instanceof Yn)Bs.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bs.warn(n.message)}}}async function fw(t,e){try{const r=(await M1()).transaction(Ba,"readwrite");return await r.objectStore(Ba).put(e,U1(t)),r.done}catch(n){if(n instanceof Yn)Bs.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bs.warn(r.message)}}}function U1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=1024,lD=30*24*60*60*1e3;class uD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=lD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pw(),{heartbeatsToSend:n,unsentEntries:r}=cD(this._heartbeatsCache.heartbeats),s=vc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function pw(){return new Date().toISOString().substring(0,10)}function cD(t,e=aD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),mw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),mw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?eA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await oD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mw(t){return vc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t){Vs(new rs("platform-logger",e=>new IA(e),"PRIVATE")),Vs(new rs("heartbeat",e=>new uD(e),"PRIVATE")),Vn(gp,hw,t),Vn(gp,hw,"esm2017"),Vn("fire-js","")}hD("");var fD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,ig=ig||{},ne=fD||self;function Ec(){}function pd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function pD(t){return Object.prototype.hasOwnProperty.call(t,Fh)&&t[Fh]||(t[Fh]=++mD)}var Fh="closure_uid_"+(1e9*Math.random()>>>0),mD=0;function gD(t,e,n){return t.call.apply(t.bind,arguments)}function vD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Tt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Tt=gD:Tt=vD,Tt.apply(null,arguments)}function ou(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ds(){this.s=this.s,this.o=this.o}var yD=0;ds.prototype.s=!1;ds.prototype.na=function(){!this.s&&(this.s=!0,this.M(),yD!=0)&&pD(this)};ds.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const F1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function og(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function gw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(pd(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}kt.prototype.h=function(){this.defaultPrevented=!0};var wD=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",Ec,e),ne.removeEventListener("test",Ec,e)}catch{}return t}();function xc(t){return/^[\s\xa0]*$/.test(t)}var vw=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Bh(t,e){return t<e?-1:t>e?1:0}function md(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function Mn(t){return md().indexOf(t)!=-1}function ag(t){return ag[" "](t),t}ag[" "]=Ec;function ED(t){var e=CD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var xD=Mn("Opera"),Yi=Mn("Trident")||Mn("MSIE"),B1=Mn("Edge"),wp=B1||Yi,V1=Mn("Gecko")&&!(md().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge"))&&!(Mn("Trident")||Mn("MSIE"))&&!Mn("Edge"),_D=md().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge");function z1(){var t=ne.document;return t?t.documentMode:void 0}var _c;e:{var Vh="",zh=function(){var t=md();if(V1)return/rv:([^\);]+)(\)|;)/.exec(t);if(B1)return/Edge\/([\d\.]+)/.exec(t);if(Yi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(_D)return/WebKit\/(\S+)/.exec(t);if(xD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(zh&&(Vh=zh?zh[1]:""),Yi){var Hh=z1();if(Hh!=null&&Hh>parseFloat(Vh)){_c=String(Hh);break e}}_c=Vh}var CD={};function SD(){return ED(function(){let t=0;const e=vw(String(_c)).split("."),n=vw("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var s=e[o]||"",i=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s[0].length==0&&i[0].length==0)break;t=Bh(s[1].length==0?0:parseInt(s[1],10),i[1].length==0?0:parseInt(i[1],10))||Bh(s[2].length==0,i[2].length==0)||Bh(s[2],i[2]),s=s[3],i=i[3]}while(t==0)}return 0<=t})}var Ep;if(ne.document&&Yi){var yw=z1();Ep=yw||parseInt(_c,10)||void 0}else Ep=void 0;var TD=Ep;function Va(t,e){if(kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(V1){e:{try{ag(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:kD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Va.X.h.call(this)}}mt(Va,kt);var kD={2:"touch",3:"pen",4:"mouse"};Va.prototype.h=function(){Va.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vl="closure_listenable_"+(1e6*Math.random()|0),ID=0;function ND(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=s,this.key=++ID,this.ba=this.ea=!1}function gd(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function lg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function H1(t){const e={};for(const n in t)e[n]=t[n];return e}const ww="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W1(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<ww.length;i++)n=ww[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vd(t){this.src=t,this.g={},this.h=0}vd.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=_p(t,e,r,s);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new ND(e,this.src,i,!!r,s),e.ea=n,t.push(e)),e};function xp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=F1(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(gd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _p(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.ba&&i.listener==e&&i.capture==!!n&&i.ha==r)return s}return-1}var ug="closure_lm_"+(1e6*Math.random()|0),Wh={};function q1(t,e,n,r,s){if(r&&r.once)return G1(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)q1(t,e[i],n,r,s);return null}return n=hg(n),t&&t[vl]?t.N(e,n,gl(r)?!!r.capture:!!r,s):K1(t,e,n,!1,r,s)}function K1(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=gl(s)?!!s.capture:!!s,a=dg(t);if(a||(t[ug]=a=new vd(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=RD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wD||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Y1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function RD(){function t(n){return e.call(t.src,t.listener,n)}const e=bD;return t}function G1(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)G1(t,e[i],n,r,s);return null}return n=hg(n),t&&t[vl]?t.O(e,n,gl(r)?!!r.capture:!!r,s):K1(t,e,n,!0,r,s)}function Q1(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Q1(t,e[i],n,r,s);else r=gl(r)?!!r.capture:!!r,n=hg(n),t&&t[vl]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=_p(i,n,r,s),-1<n&&(gd(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=dg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_p(e,n,r,s)),(n=-1<t?e[t]:null)&&cg(n))}function cg(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[vl])xp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Y1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dg(e))?(xp(n,t),n.h==0&&(n.src=null,e[ug]=null)):gd(t)}}}function Y1(t){return t in Wh?Wh[t]:Wh[t]="on"+t}function bD(t,e){if(t.ba)t=!0;else{e=new Va(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&cg(t),t=n.call(r,e)}return t}function dg(t){return t=t[ug],t instanceof vd?t:null}var qh="__closure_events_fn_"+(1e9*Math.random()>>>0);function hg(t){return typeof t=="function"?t:(t[qh]||(t[qh]=function(e){return t.handleEvent(e)}),t[qh])}function at(){ds.call(this),this.i=new vd(this),this.P=this,this.I=null}mt(at,ds);at.prototype[vl]=!0;at.prototype.removeEventListener=function(t,e,n,r){Q1(this,t,e,n,r)};function ft(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new kt(e,t);else if(e instanceof kt)e.target=e.target||t;else{var s=e;e=new kt(r,t),W1(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=au(o,r,!0,e)&&s}if(o=e.g=t,s=au(o,r,!0,e)&&s,s=au(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=au(o,r,!1,e)&&s}at.prototype.M=function(){if(at.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gd(n[r]);delete t.g[e],t.h--}}this.I=null};at.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};at.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function au(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&xp(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var fg=ne.JSON.stringify;function AD(){var t=Z1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class DD{constructor(){this.h=this.g=null}add(e,n){const r=X1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var X1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new jD,t=>t.reset());class jD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function OD(t){ne.setTimeout(()=>{throw t},0)}function J1(t,e){Cp||PD(),Sp||(Cp(),Sp=!0),Z1.add(t,e)}var Cp;function PD(){var t=ne.Promise.resolve(void 0);Cp=function(){t.then(LD)}}var Sp=!1,Z1=new DD;function LD(){for(var t;t=AD();){try{t.h.call(t.g)}catch(n){OD(n)}var e=X1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sp=!1}function yd(t,e){at.call(this),this.h=t||1,this.g=e||ne,this.j=Tt(this.lb,this),this.l=Date.now()}mt(yd,at);W=yd.prototype;W.ca=!1;W.R=null;W.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ft(this,"tick"),this.ca&&(pg(this),this.start()))}};W.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pg(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}W.M=function(){yd.X.M.call(this),pg(this),delete this.g};function mg(t,e,n){if(typeof t=="function")n&&(t=Tt(t,n));else if(t&&typeof t.handleEvent=="function")t=Tt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function e_(t){t.g=mg(()=>{t.g=null,t.i&&(t.i=!1,e_(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class $D extends ds{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:e_(this)}M(){super.M(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function za(t){ds.call(this),this.h=t,this.g={}}mt(za,ds);var Ew=[];function t_(t,e,n,r){Array.isArray(n)||(n&&(Ew[0]=n.toString()),n=Ew);for(var s=0;s<n.length;s++){var i=q1(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function n_(t){lg(t.g,function(e,n){this.g.hasOwnProperty(n)&&cg(e)},t),t.g={}}za.prototype.M=function(){za.X.M.call(this),n_(this)};za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wd(){this.g=!0}wd.prototype.Aa=function(){this.g=!1};function MD(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function UD(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function bi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+BD(t,n)+(r?" "+r:"")})}function FD(t,e){t.info(function(){return"TIMEOUT: "+e})}wd.prototype.info=function(){};function BD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return fg(n)}catch{return e}}var ei={},xw=null;function Ed(){return xw=xw||new at}ei.Pa="serverreachability";function r_(t){kt.call(this,ei.Pa,t)}mt(r_,kt);function Ha(t){const e=Ed();ft(e,new r_(e))}ei.STAT_EVENT="statevent";function s_(t,e){kt.call(this,ei.STAT_EVENT,t),this.stat=e}mt(s_,kt);function Ot(t){const e=Ed();ft(e,new s_(e,t))}ei.Qa="timingevent";function i_(t,e){kt.call(this,ei.Qa,t),this.size=e}mt(i_,kt);function yl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}var xd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},o_={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function gg(){}gg.prototype.h=null;function _w(t){return t.h||(t.h=t.i())}function a_(){}var wl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function vg(){kt.call(this,"d")}mt(vg,kt);function yg(){kt.call(this,"c")}mt(yg,kt);var Tp;function _d(){}mt(_d,gg);_d.prototype.g=function(){return new XMLHttpRequest};_d.prototype.i=function(){return{}};Tp=new _d;function El(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new za(this),this.O=VD,t=wp?125:void 0,this.T=new yd(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new l_}function l_(){this.i=null,this.g="",this.h=!1}var VD=45e3,kp={},Cc={};W=El.prototype;W.setTimeout=function(t){this.O=t};function Ip(t,e,n){t.K=1,t.v=Sd(fr(e)),t.s=n,t.P=!0,u_(t,null)}function u_(t,e){t.F=Date.now(),xl(t),t.A=fr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),v_(n.i,"t",r),t.C=0,n=t.l.H,t.h=new l_,t.g=M_(t.l,n?e:null,!t.s),0<t.N&&(t.L=new $D(Tt(t.La,t,t.g),t.N)),t_(t.S,t.g,"readystatechange",t.ib),e=t.H?H1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ha(),MD(t.j,t.u,t.A,t.m,t.U,t.s)}W.ib=function(t){t=t.target;const e=this.L;e&&sr(t)==3?e.l():this.La(t)};W.La=function(t){try{if(t==this.g)e:{const d=sr(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>d)&&(d!=3||wp||this.g&&(this.h.h||this.g.fa()||kw(this.g)))){this.I||d!=4||e==7||(e==8||0>=h?Ha(3):Ha(2)),Cd(this);var n=this.g.aa();this.Y=n;t:if(c_(this)){var r=kw(this.g);t="";var s=r.length,i=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ts(this),pa(this);var o="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,UD(this.j,this.u,this.A,this.m,this.U,d,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xc(a)){var u=a;break t}}u=null}if(n=u)bi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Np(this,n);else{this.i=!1,this.o=3,Ot(12),Ts(this),pa(this);break e}}this.P?(d_(this,d,o),wp&&this.i&&d==3&&(t_(this.S,this.T,"tick",this.hb),this.T.start())):(bi(this.j,this.m,o,null),Np(this,o)),d==4&&Ts(this),this.i&&!this.I&&(d==4?O_(this.l,this):(this.i=!1,xl(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ot(12)):(this.o=0,Ot(13)),Ts(this),pa(this)}}}catch{}finally{}};function c_(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function d_(t,e,n){let r=!0,s;for(;!t.I&&t.C<n.length;)if(s=zD(t,n),s==Cc){e==4&&(t.o=4,Ot(14),r=!1),bi(t.j,t.m,null,"[Incomplete Response]");break}else if(s==kp){t.o=4,Ot(15),bi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else bi(t.j,t.m,s,null),Np(t,s);c_(t)&&s!=Cc&&s!=kp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ot(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Tg(e),e.K=!0,Ot(11))):(bi(t.j,t.m,n,"[Invalid Chunked Response]"),Ts(t),pa(t))}W.hb=function(){if(this.g){var t=sr(this.g),e=this.g.fa();this.C<e.length&&(Cd(this),d_(this,t,e),this.i&&t!=4&&xl(this))}};function zD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Cc:(n=Number(e.substring(n,r)),isNaN(n)?kp:(r+=1,r+n>e.length?Cc:(e=e.substr(r,n),t.C=r+n,e)))}W.cancel=function(){this.I=!0,Ts(this)};function xl(t){t.V=Date.now()+t.O,h_(t,t.O)}function h_(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yl(Tt(t.gb,t),e)}function Cd(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}W.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(FD(this.j,this.A),this.K!=2&&(Ha(),Ot(17)),Ts(this),this.o=2,pa(this)):h_(this,this.V-t)};function pa(t){t.l.G==0||t.I||O_(t.l,t)}function Ts(t){Cd(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,pg(t.T),n_(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Np(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Rp(n.h,t))){if(!t.J&&Rp(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)kc(n),Id(n);else break e;Sg(n),Ot(18)}}else n.Ba=s[1],0<n.Ba-n.T&&37500>s[2]&&n.L&&n.A==0&&!n.v&&(n.v=yl(Tt(n.cb,n),6e3));if(1>=E_(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ks(n,11)}else if((t.J||n.g==t)&&kc(n),!xc(e))for(s=n.Fa.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const d=u[3];d!=null&&(n.ma=d,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const p=u[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const w=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var i=r.h;i.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(wg(i,i.h),i.h=null))}if(r.D){const g=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,De(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=$_(r,r.H?r.ka:null,r.V),o.J){x_(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Cd(a),xl(a)),r.g=o}else D_(r);0<n.i.length&&Nd(n)}else u[0]!="stop"&&u[0]!="close"||ks(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ks(n,7):Cg(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Ha(4)}catch{}}function HD(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(pd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function WD(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(pd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function f_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(pd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=WD(t),r=HD(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var p_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function As(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof As){this.h=e!==void 0?e:t.h,Sc(this,t.j),this.s=t.s,this.g=t.g,Tc(this,t.m),this.l=t.l,e=t.i;var n=new Wa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Cw(this,n),this.o=t.o}else t&&(n=String(t).match(p_))?(this.h=!!e,Sc(this,n[1]||"",!0),this.s=ta(n[2]||""),this.g=ta(n[3]||"",!0),Tc(this,n[4]),this.l=ta(n[5]||"",!0),Cw(this,n[6]||"",!0),this.o=ta(n[7]||"")):(this.h=!!e,this.i=new Wa(null,this.h))}As.prototype.toString=function(){var t=[],e=this.j;e&&t.push(na(e,Sw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(na(e,Sw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(na(n,n.charAt(0)=="/"?QD:GD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",na(n,XD)),t.join("")};function fr(t){return new As(t)}function Sc(t,e,n){t.j=n?ta(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Tc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Cw(t,e,n){e instanceof Wa?(t.i=e,JD(t.i,t.h)):(n||(e=na(e,YD)),t.i=new Wa(e,t.h))}function De(t,e,n){t.i.set(e,n)}function Sd(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ta(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function na(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,KD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function KD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Sw=/[#\/\?@]/g,GD=/[#\?:]/g,QD=/[#\?]/g,YD=/[#\?@]/g,XD=/#/g;function Wa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hs(t){t.g||(t.g=new Map,t.h=0,t.i&&qD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=Wa.prototype;W.add=function(t,e){hs(this),this.i=null,t=yo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function m_(t,e){hs(t),e=yo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function g_(t,e){return hs(t),e=yo(t,e),t.g.has(e)}W.forEach=function(t,e){hs(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};W.oa=function(){hs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};W.W=function(t){hs(this);let e=[];if(typeof t=="string")g_(this,t)&&(e=e.concat(this.g.get(yo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};W.set=function(t,e){return hs(this),this.i=null,t=yo(this,t),g_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function v_(t,e,n){m_(t,e),0<n.length&&(t.i=null,t.g.set(yo(t,e),og(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function yo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function JD(t,e){e&&!t.j&&(hs(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(m_(this,r),v_(this,s,n))},t)),t.j=e}var ZD=class{constructor(e,n){this.h=e,this.g=n}};function y_(t){this.l=t||ej,ne.PerformanceNavigationTiming?(t=ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ne.g&&ne.g.Ga&&ne.g.Ga()&&ne.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ej=10;function w_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function E_(t){return t.h?1:t.g?t.g.size:0}function Rp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function wg(t,e){t.g?t.g.add(e):t.h=e}function x_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}y_.prototype.cancel=function(){if(this.i=__(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function __(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return og(t.i)}function Eg(){}Eg.prototype.stringify=function(t){return ne.JSON.stringify(t,void 0)};Eg.prototype.parse=function(t){return ne.JSON.parse(t,void 0)};function tj(){this.g=new Eg}function nj(t,e,n){const r=n||"";try{f_(t,function(s,i){let o=s;gl(s)&&(o=fg(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function rj(t,e){const n=new wd;if(ne.Image){const r=new Image;r.onload=ou(lu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ou(lu,n,r,"TestLoadImage: error",!1,e),r.onabort=ou(lu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ou(lu,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function lu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function _l(t){this.l=t.ac||null,this.j=t.jb||!1}mt(_l,gg);_l.prototype.g=function(){return new Td(this.l,this.j)};_l.prototype.i=function(t){return function(){return t}}({});function Td(t,e){at.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=xg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(Td,at);var xg=0;W=Td.prototype;W.open=function(t,e){if(this.readyState!=xg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qa(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ne).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cl(this)),this.readyState=xg};W.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;C_(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function C_(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}W.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cl(this):qa(this),this.readyState==3&&C_(this)}};W.Va=function(t){this.g&&(this.response=this.responseText=t,Cl(this))};W.Ua=function(t){this.g&&(this.response=t,Cl(this))};W.ga=function(){this.g&&Cl(this)};function Cl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qa(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function qa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Td.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var sj=ne.JSON.parse;function Ve(t){at.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=S_,this.K=this.L=!1}mt(Ve,at);var S_="",ij=/^https?$/i,oj=["POST","PUT"];W=Ve.prototype;W.Ka=function(t){this.L=t};W.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tp.g(),this.C=this.u?_w(this.u):_w(Tp),this.g.onreadystatechange=Tt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){Tw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ne.FormData&&t instanceof ne.FormData,!(0<=F1(oj,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{I_(this),0<this.B&&((this.K=aj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tt(this.qa,this)):this.A=mg(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Tw(this,i)}};function aj(t){return Yi&&SD()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}W.qa=function(){typeof ig<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ft(this,"timeout"),this.abort(8))};function Tw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,T_(t),kd(t)}function T_(t){t.D||(t.D=!0,ft(t,"complete"),ft(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ft(this,"complete"),ft(this,"abort"),kd(this))};W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kd(this,!0)),Ve.X.M.call(this)};W.Ha=function(){this.s||(this.F||this.v||this.l?k_(this):this.fb())};W.fb=function(){k_(this)};function k_(t){if(t.h&&typeof ig<"u"&&(!t.C[1]||sr(t)!=4||t.aa()!=2)){if(t.v&&sr(t)==4)mg(t.Ha,0,t);else if(ft(t,"readystatechange"),sr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var s=String(t.H).match(p_)[1]||null;if(!s&&ne.self&&ne.self.location){var i=ne.self.location.protocol;s=i.substr(0,i.length-1)}r=!ij.test(s?s.toLowerCase():"")}n=r}if(n)ft(t,"complete"),ft(t,"success");else{t.m=6;try{var o=2<sr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",T_(t)}}finally{kd(t)}}}}function kd(t,e){if(t.g){I_(t);const n=t.g,r=t.C[0]?Ec:null;t.g=null,t.C=null,e||ft(t,"ready");try{n.onreadystatechange=r}catch{}}}function I_(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function sr(t){return t.g?t.g.readyState:0}W.aa=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}};W.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),sj(e)}};function kw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case S_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}W.Ea=function(){return this.m};W.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function N_(t){let e="";return lg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function _g(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=N_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function zo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function R_(t){this.Ca=0,this.i=[],this.j=new wd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=zo("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=zo("baseRetryDelayMs",5e3,t),this.bb=zo("retryDelaySeedMs",1e4,t),this.$a=zo("forwardChannelMaxRetries",2,t),this.ta=zo("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new y_(t&&t.concurrentRequestLimit),this.Fa=new tj,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}W=R_.prototype;W.ma=8;W.G=1;function Cg(t){if(b_(t),t.G==3){var e=t.U++,n=fr(t.F);De(n,"SID",t.I),De(n,"RID",e),De(n,"TYPE","terminate"),Sl(t,n),e=new El(t,t.j,e,void 0),e.K=2,e.v=Sd(fr(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon&&(n=ne.navigator.sendBeacon(e.v.toString(),"")),!n&&ne.Image&&(new Image().src=e.v,n=!0),n||(e.g=M_(e.l,null),e.g.da(e.v)),e.F=Date.now(),xl(e)}L_(t)}function Id(t){t.g&&(Tg(t),t.g.cancel(),t.g=null)}function b_(t){Id(t),t.u&&(ne.clearTimeout(t.u),t.u=null),kc(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ne.clearTimeout(t.m),t.m=null)}function Nd(t){w_(t.h)||t.m||(t.m=!0,J1(t.Ja,t),t.C=0)}function lj(t,e){return E_(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=yl(Tt(t.Ja,t,e),P_(t,t.C)),t.C++,!0)}W.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const s=new El(this,this.j,t,void 0);let i=this.s;if(this.S&&(i?(i=H1(i),W1(i,this.S)):i=this.S),this.o!==null||this.N||(s.H=i,i=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=A_(this,s,e),n=fr(this.F),De(n,"RID",t),De(n,"CVER",22),this.D&&De(n,"X-HTTP-Session-Id",this.D),Sl(this,n),i&&(this.N?e="headers="+encodeURIComponent(String(N_(i)))+"&"+e:this.o&&_g(n,this.o,i)),wg(this.h,s),this.Ya&&De(n,"TYPE","init"),this.O?(De(n,"$req",e),De(n,"SID","null"),s.Z=!0,Ip(s,n,null)):Ip(s,n,e),this.G=2}}else this.G==3&&(t?Iw(this,t):this.i.length==0||w_(this.h)||Iw(this))};function Iw(t,e){var n;e?n=e.m:n=t.U++;const r=fr(t.F);De(r,"SID",t.I),De(r,"RID",n),De(r,"AID",t.T),Sl(t,r),t.o&&t.s&&_g(r,t.o,t.s),n=new El(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=A_(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),wg(t.h,n),Ip(n,r,e)}function Sl(t,e){t.ia&&lg(t.ia,function(n,r){De(e,r,n)}),t.l&&f_({},function(n,r){De(e,r,n)})}function A_(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Tt(t.l.Ra,t.l,t):null;e:{var s=t.i;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].h;const d=s[l].g;if(u-=i,0>u)i=Math.max(0,s[l].h-100),a=!1;else try{nj(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function D_(t){t.g||t.u||(t.Z=1,J1(t.Ia,t),t.A=0)}function Sg(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=yl(Tt(t.Ia,t),P_(t,t.A)),t.A++,!0)}W.Ia=function(){if(this.u=null,j_(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=yl(Tt(this.eb,this),t)}};W.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ot(10),Id(this),j_(this))};function Tg(t){t.B!=null&&(ne.clearTimeout(t.B),t.B=null)}function j_(t){t.g=new El(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=fr(t.sa);De(e,"RID","rpc"),De(e,"SID",t.I),De(e,"CI",t.L?"0":"1"),De(e,"AID",t.T),De(e,"TYPE","xmlhttp"),Sl(t,e),t.o&&t.s&&_g(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Sd(fr(e)),n.s=null,n.P=!0,u_(n,t)}W.cb=function(){this.v!=null&&(this.v=null,Id(this),Sg(this),Ot(19))};function kc(t){t.v!=null&&(ne.clearTimeout(t.v),t.v=null)}function O_(t,e){var n=null;if(t.g==e){kc(t),Tg(t),t.g=null;var r=2}else if(Rp(t.h,e))n=e.D,x_(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;r=Ed(),ft(r,new i_(r,n)),Nd(t)}else D_(t);else if(s=e.o,s==3||s==0&&0<t.pa||!(r==1&&lj(t,e)||r==2&&Sg(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),s){case 1:ks(t,5);break;case 4:ks(t,10);break;case 3:ks(t,6);break;default:ks(t,2)}}}function P_(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function ks(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Tt(t.kb,t);n||(n=new As("//www.google.com/images/cleardot.gif"),ne.location&&ne.location.protocol=="http"||Sc(n,"https"),Sd(n)),rj(n.toString(),r)}else Ot(2);t.G=0,t.l&&t.l.va(e),L_(t),b_(t)}W.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function L_(t){if(t.G=0,t.la=[],t.l){const e=__(t.h);(e.length!=0||t.i.length!=0)&&(gw(t.la,e),gw(t.la,t.i),t.h.i.length=0,og(t.i),t.i.length=0),t.l.ua()}}function $_(t,e,n){var r=n instanceof As?fr(n):new As(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Tc(r,r.m);else{var s=ne.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new As(null,void 0);r&&Sc(i,r),e&&(i.g=e),s&&Tc(i,s),n&&(i.l=n),r=i}return n=t.D,e=t.za,n&&e&&De(r,n,e),De(r,"VER",t.ma),Sl(t,r),r}function M_(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ve(new _l({jb:!0})):new Ve(t.ra),e.Ka(t.H),e}function U_(){}W=U_.prototype;W.xa=function(){};W.wa=function(){};W.va=function(){};W.ua=function(){};W.Ra=function(){};function Ic(){if(Yi&&!(10<=Number(TD)))throw Error("Environmental error: no available transport.")}Ic.prototype.g=function(t,e){return new un(t,e)};function un(t,e){at.call(this),this.g=new R_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!xc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xc(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wo(this)}mt(un,at);un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Ot(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=$_(t,null,t.V),Nd(t)};un.prototype.close=function(){Cg(this.g)};un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=fg(t),t=n);e.i.push(new ZD(e.ab++,t)),e.G==3&&Nd(e)};un.prototype.M=function(){this.g.l=null,delete this.j,Cg(this.g),delete this.g,un.X.M.call(this)};function F_(t){vg.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mt(F_,vg);function B_(){yg.call(this),this.status=1}mt(B_,yg);function wo(t){this.g=t}mt(wo,U_);wo.prototype.xa=function(){ft(this.g,"a")};wo.prototype.wa=function(t){ft(this.g,new F_(t))};wo.prototype.va=function(t){ft(this.g,new B_)};wo.prototype.ua=function(){ft(this.g,"b")};Ic.prototype.createWebChannel=Ic.prototype.g;un.prototype.send=un.prototype.u;un.prototype.open=un.prototype.m;un.prototype.close=un.prototype.close;xd.NO_ERROR=0;xd.TIMEOUT=8;xd.HTTP_ERROR=6;o_.COMPLETE="complete";a_.EventType=wl;wl.OPEN="a";wl.CLOSE="b";wl.ERROR="c";wl.MESSAGE="d";at.prototype.listen=at.prototype.N;Ve.prototype.listenOnce=Ve.prototype.O;Ve.prototype.getLastError=Ve.prototype.Oa;Ve.prototype.getLastErrorCode=Ve.prototype.Ea;Ve.prototype.getStatus=Ve.prototype.aa;Ve.prototype.getResponseJson=Ve.prototype.Sa;Ve.prototype.getResponseText=Ve.prototype.fa;Ve.prototype.send=Ve.prototype.da;Ve.prototype.setWithCredentials=Ve.prototype.Ka;var uj=function(){return new Ic},cj=function(){return Ed()},Kh=xd,dj=o_,hj=ei,Nw={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},fj=_l,uu=a_,pj=Ve;const Rw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new ng("@firebase/firestore");function bw(){return zs.logLevel}function G(t,...e){if(zs.logLevel<=ye.DEBUG){const n=e.map(kg);zs.debug(`Firestore (${Eo}): ${t}`,...n)}}function pr(t,...e){if(zs.logLevel<=ye.ERROR){const n=e.map(kg);zs.error(`Firestore (${Eo}): ${t}`,...n)}}function Nc(t,...e){if(zs.logLevel<=ye.WARN){const n=e.map(kg);zs.warn(`Firestore (${Eo}): ${t}`,...n)}}function kg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+t;throw pr(e),new Error(e)}function Ne(t,e){t||ee()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class gj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vj{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new V_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new wt(e)}}class yj{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class wj{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new yj(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ej{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xj{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.T=n.token,new Ej(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=_j(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Xi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new et(0,0))}static max(){return new re(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends Ka{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const Cj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Ka{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return Cj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new B(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new B(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new B(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(ke.fromString(e))}static fromName(e){return new X(ke.fromString(e).popFirst(5))}static empty(){return new X(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new ke(e.slice()))}}function Sj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=re.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new ss(s,X.empty(),e)}function Tj(t){return new ss(t.readTime,t.key,-1)}class ss{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ss(re.min(),X.empty(),-1)}static max(){return new ss(re.max(),X.empty(),-1)}}function kj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==Ij)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(s=>s?O.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new O((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new O((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Ig.ct=-1;function Rd(t){return t==null}function Rc(t){return t===0&&1/t==-1/0}function Rj(t){return typeof t=="number"&&Number.isInteger(t)&&!Rc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cu(this.root,e,this.comparator,!0)}}class cu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dt.RED,this.left=s??dt.EMPTY,this.right=i??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(t,e,n,r,s){return this}insert(t,e,n){return new dt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dw(this.data.getIterator())}getIteratorFrom(e){return new Dw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tt(this.comparator);return n.data=e,n}}class Dw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new sn([])}unionWith(e){let n=new tt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bj("Invalid base64 string: "+s):s}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const Aj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=Aj.exec(t);if(Ne(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ji(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function q_(t){const e=t.mapValue.fields.__previous_value__;return W_(e)?q_(e):e}function Ga(t){const e=is(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r,s,i,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Qa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?W_(t)?4:jj(t)?9007199254740991:10:ee()}function Qn(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ga(t).isEqual(Ga(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=is(r.timestampValue),o=is(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ji(r.bytesValue).isEqual(Ji(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return qe(r.geoPointValue.latitude)===qe(s.geoPointValue.latitude)&&qe(r.geoPointValue.longitude)===qe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return qe(r.integerValue)===qe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=qe(r.doubleValue),o=qe(s.doubleValue);return i===o?Rc(i)===Rc(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Xi(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(Aw(i)!==Aw(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Qn(i[a],o[a])))return!1;return!0}(t,e);default:return ee()}}function Ya(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function Zi(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=qe(s.integerValue||s.doubleValue),a=qe(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return jw(t.timestampValue,e.timestampValue);case 4:return jw(Ga(t),Ga(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(s,i){const o=Ji(s),a=Ji(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=xe(o[l],a[l]);if(u!==0)return u}return xe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=xe(qe(s.latitude),qe(i.latitude));return o!==0?o:xe(qe(s.longitude),qe(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Zi(o[l],a[l]);if(u)return u}return xe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===du.mapValue&&i===du.mapValue)return 0;if(s===du.mapValue)return 1;if(i===du.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=i.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const h=xe(a[d],u[d]);if(h!==0)return h;const p=Zi(o[a[d]],l[u[d]]);if(p!==0)return p}return xe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ee()}}function jw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=is(t),r=is(e),s=xe(n.seconds,r.seconds);return s!==0?s:xe(n.nanos,r.nanos)}function eo(t){return bp(t)}function bp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=is(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ji(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,X.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=bp(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${bp(r.fields[a])}`;return i+"}"}(t.mapValue):ee();var e,n}function Ow(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ap(t){return!!t&&"integerValue"in t}function Ng(t){return!!t&&"arrayValue"in t}function Pw(t){return!!t&&"nullValue"in t}function Lw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pu(t){return!!t&&"mapValue"in t}function ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ma(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ma(n)}setAll(e){let n=Ct.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ma(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ti(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Wt(ma(this.value))}}function K_(t){const e=[];return ti(t.fields,(n,r)=>{const s=new Ct([n]);if(Pu(r)){const i=K_(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,re.min(),re.min(),re.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,s){return new _t(e,1,n,re.min(),r,s,0)}static newNoDocument(e,n){return new _t(e,2,n,re.min(),re.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,re.min(),re.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.position=e,this.inclusive=n}}function $w(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=Zi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n="asc"){this.field=e,this.dir=n}}function Oj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{}class Ye extends G_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lj(e,n,r):n==="array-contains"?new Uj(e,r):n==="in"?new Fj(e,r):n==="not-in"?new Bj(e,r):n==="array-contains-any"?new Vj(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $j(e,r):new Mj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zi(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(Zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jn extends G_{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new jn(e,n)}matches(e){return Q_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Q_(t){return t.op==="and"}function Y_(t){return Pj(t)&&Q_(t)}function Pj(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function Dp(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+eo(t.value);if(Y_(t))return t.filters.map(e=>Dp(e)).join(",");{const e=t.filters.map(n=>Dp(n)).join(",");return`${t.op}(${e})`}}function X_(t,e){return t instanceof Ye?function(n,r){return r instanceof Ye&&n.op===r.op&&n.field.isEqual(r.field)&&Qn(n.value,r.value)}(t,e):t instanceof jn?function(n,r){return r instanceof jn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&X_(i,r.filters[o]),!0):!1}(t,e):void ee()}function J_(t){return t instanceof Ye?function(e){return`${e.field.canonicalString()} ${e.op} ${eo(e.value)}`}(t):t instanceof jn?function(e){return e.op.toString()+" {"+e.getFilters().map(J_).join(" ,")+"}"}(t):"Filter"}class Lj extends Ye{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class $j extends Ye{constructor(e,n){super(e,"in",n),this.keys=Z_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mj extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=Z_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Z_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class Uj extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ng(n)&&Ya(n.arrayValue,this.value)}}class Fj extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ya(this.value.arrayValue,n)}}class Bj extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ya(this.value.arrayValue,n)}}class Vj extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ya(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ft=null}}function Uw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new zj(t,e,n,r,s,i,o)}function Rg(t){const e=se(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>eo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>eo(r)).join(",")),e.ft=n}return e.ft}function bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Oj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!X_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mw(t.startAt,e.startAt)&&Mw(t.endAt,e.endAt)}function jp(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function Hj(t,e,n,r,s,i,o,a){return new xo(t,e,n,r,s,i,o,a)}function eC(t){return new xo(t)}function Fw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ag(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function bd(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function tC(t){return t.collectionGroup!==null}function Ui(t){const e=se(t);if(e.dt===null){e.dt=[];const n=bd(e),r=Ag(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Mi(n)),e.dt.push(new Mi(Ct.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.dt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Mi(Ct.keyField(),i))}}}return e.dt}function mr(t){const e=se(t);if(!e.wt)if(e.limitType==="F")e.wt=Uw(e.path,e.collectionGroup,Ui(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ui(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Mi(i.field,o))}const r=e.endAt?new bc(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new bc(e.startAt.position,e.startAt.inclusive):null;e.wt=Uw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e.wt}function Op(t,e){e.getFirstInequalityField(),bd(t);const n=t.filters.concat([e]);return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pp(t,e,n){return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ad(t,e){return bg(mr(t),mr(e))&&t.limitType===e.limitType}function nC(t){return`${Rg(mr(t))}|lt:${t.limitType}`}function Lp(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>J_(r)).join(", ")}]`),Rd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>eo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>eo(r)).join(",")),`Target(${n})`}(mr(t))}; limitType=${t.limitType})`}function Dd(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):X.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Ui(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=$w(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Ui(n),r)||n.endAt&&!function(s,i,o){const a=$w(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Ui(n),r))}(t,e)}function Wj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rC(t){return(e,n)=>{let r=!1;for(const s of Ui(t)){const i=qj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function qj(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?Zi(a,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=new nt(X.comparator);function gr(){return Kj}const sC=new nt(X.comparator);function ra(...t){let e=sC;for(const n of t)e=e.insert(n.key,n);return e}function iC(t){let e=sC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Is(){return ga()}function oC(){return ga()}function ga(){return new _o(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gj=new nt(X.comparator),Qj=new tt(X.comparator);function ce(...t){let e=Qj;for(const n of t)e=e.add(n);return e}const Yj=new tt(xe);function aC(){return Yj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(e)?"-0":e}}function uC(t){return{integerValue:""+t}}function Xj(t,e){return Rj(e)?uC(e):lC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this._=void 0}}function Jj(t,e,n){return t instanceof Ac?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Xa?dC(t,e):t instanceof Ja?hC(t,e):function(r,s){const i=cC(r,s),o=Bw(i)+Bw(r._t);return Ap(i)&&Ap(r._t)?uC(o):lC(r.serializer,o)}(t,e)}function Zj(t,e,n){return t instanceof Xa?dC(t,e):t instanceof Ja?hC(t,e):n}function cC(t,e){return t instanceof Dc?Ap(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ac extends jd{}class Xa extends jd{constructor(e){super(),this.elements=e}}function dC(t,e){const n=fC(e);for(const r of t.elements)n.some(s=>Qn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ja extends jd{constructor(e){super(),this.elements=e}}function hC(t,e){let n=fC(e);for(const r of t.elements)n=n.filter(s=>!Qn(s,r));return{arrayValue:{values:n}}}class Dc extends jd{constructor(e,n){super(),this.serializer=e,this._t=n}}function Bw(t){return qe(t.integerValue||t.doubleValue)}function fC(t){return Ng(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eO(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Xa&&r instanceof Xa||n instanceof Ja&&r instanceof Ja?Xi(n.elements,r.elements,Qn):n instanceof Dc&&r instanceof Dc?Qn(n._t,r._t):n instanceof Ac&&r instanceof Ac}(t.transform,e.transform)}class tO{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Od{}function pC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dg(t.key,An.none()):new Il(t.key,t.data,An.none());{const n=t.data,r=Wt.empty();let s=new tt(Ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new fs(t.key,r,new sn(s.toArray()),An.none())}}function nO(t,e,n){t instanceof Il?function(r,s,i){const o=r.value.clone(),a=zw(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(r,s,i){if(!Lu(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=zw(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(mC(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function va(t,e,n,r){return t instanceof Il?function(s,i,o,a){if(!Lu(s.precondition,i))return o;const l=s.value.clone(),u=Hw(s.fieldTransforms,a,i);return l.setAll(u),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(s,i,o,a){if(!Lu(s.precondition,i))return o;const l=Hw(s.fieldTransforms,a,i),u=i.data;return u.setAll(mC(s)),u.setAll(l),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,i,o){return Lu(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function rO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=cC(r.transform,s||null);i!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,i))}return n||null}function Vw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Xi(n,r,(s,i)=>eO(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Il extends Od{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fs extends Od{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function mC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zw(t,e,n){const r=new Map;Ne(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Zj(o,a,n[s]))}return r}function Hw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Jj(i,o,e))}return r}class Dg extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sO extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&nO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=va(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=va(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=pC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Xi(this.mutations,e.mutations,(n,r)=>Vw(n,r))&&Xi(this.baseMutations,e.baseMutations,(n,r)=>Vw(n,r))}}class jg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ne(e.mutations.length===r.length);let s=Gj;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new jg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,he;function lO(t){switch(t){default:return ee();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function gC(t){if(t===void 0)return pr("GRPC error has no .code"),N.UNKNOWN;switch(t){case We.OK:return N.OK;case We.CANCELLED:return N.CANCELLED;case We.UNKNOWN:return N.UNKNOWN;case We.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case We.INTERNAL:return N.INTERNAL;case We.UNAVAILABLE:return N.UNAVAILABLE;case We.UNAUTHENTICATED:return N.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case We.NOT_FOUND:return N.NOT_FOUND;case We.ALREADY_EXISTS:return N.ALREADY_EXISTS;case We.PERMISSION_DENIED:return N.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case We.ABORTED:return N.ABORTED;case We.OUT_OF_RANGE:return N.OUT_OF_RANGE;case We.UNIMPLEMENTED:return N.UNIMPLEMENTED;case We.DATA_LOSS:return N.DATA_LOSS;default:return ee()}}(he=We||(We={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return hu}static getOrCreateInstance(){return hu===null&&(hu=new Og),hu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let hu=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pd(re.min(),s,aC(),gr(),ce())}}class Nl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nl(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r,s){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=s}}class vC{constructor(e,n){this.targetId=e,this.Et=n}}class yC{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ww{constructor(){this.At=0,this.Rt=Kw(),this.vt=Rt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=ce(),n=ce(),r=ce();return this.Rt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee()}}),new Nl(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=Kw()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class uO{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=gr(),this.qt=qw(),this.Ut=new tt(xe)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,s)=>{this.Wt(s)&&n(s)})}Jt(e){var n;const r=e.targetId,s=e.Et.count,i=this.Yt(r);if(i){const o=i.target;if(jp(o))if(s===0){const a=new X(o.path);this.Qt(r,a,_t.newNoDocument(a,re.min()))}else Ne(s===1);else{const a=this.Zt(r);a!==s&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=Og.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((i,o)=>{const a=this.Yt(o);if(a){if(i.current&&jp(a.target)){const l=new X(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,_t.newNoDocument(l,e))}i.St&&(n.set(o,i.Ct()),i.xt())}});let r=ce();this.qt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(i))}),this.Lt.forEach((i,o)=>o.setReadTime(e));const s=new Pd(e,n,this.Ut,this.Lt,r);return this.Lt=gr(),this.qt=qw(),this.Ut=new tt(xe),s}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const s=this.jt(e);this.te(e,n)?s.Nt(n,1):s.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new Ww,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new tt(xe),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Ww),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function qw(){return new nt(X.comparator)}function Kw(){return new nt(X.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),dO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),hO=(()=>({and:"AND",or:"OR"}))();class fO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pO(t,e){return jc(t,e.toTimestamp())}function zn(t){return Ne(!!t),re.fromTimestamp(function(e){const n=is(e);return new et(n.seconds,n.nanos)}(t))}function Pg(t,e){return function(n){return new ke(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function EC(t){const e=ke.fromString(t);return Ne(SC(e)),e}function $p(t,e){return Pg(t.databaseId,e.path)}function Gh(t,e){const n=EC(e);if(n.get(1)!==t.databaseId.projectId)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(xC(n))}function Mp(t,e){return Pg(t.databaseId,e)}function mO(t){const e=EC(t);return e.length===4?ke.emptyPath():xC(e)}function Up(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xC(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gw(t,e,n){return{name:$p(t,e),fields:n.value.mapValue.fields}}function gO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Ne(u===void 0||typeof u=="string"),Rt.fromBase64String(u||"")):(Ne(u===void 0||u instanceof Uint8Array),Rt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?N.UNKNOWN:gC(l.code);return new B(u,l.message||"")}(o);n=new yC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gh(t,r.document.name),i=zn(r.document.updateTime),o=r.document.createTime?zn(r.document.createTime):re.min(),a=new Wt({mapValue:{fields:r.document.fields}}),l=_t.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new $u(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Gh(t,r.document),i=r.readTime?zn(r.readTime):re.min(),o=_t.newNoDocument(s,i),a=r.removedTargetIds||[];n=new $u([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Gh(t,r.document),i=r.removedTargetIds||[];n=new $u([],i,s,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const s=r.count||0,i=new aO(s),o=r.targetId;n=new vC(o,i)}}return n}function vO(t,e){let n;if(e instanceof Il)n={update:Gw(t,e.key,e.value)};else if(e instanceof Dg)n={delete:$p(t,e.key)};else if(e instanceof fs)n={update:Gw(t,e.key,e.data),updateMask:kO(e.fieldMask)};else{if(!(e instanceof sO))return ee();n={verify:$p(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Ac)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Xa)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ja)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Dc)return{fieldPath:i.field.canonicalString(),increment:o._t};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:pO(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function yO(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?zn(r.updateTime):zn(s);return i.isEqual(re.min())&&(i=zn(s)),new tO(i,r.transformResults||[])}(n,e))):[]}function wO(t,e){return{documents:[Mp(t,e.path)]}}function EO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Mp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Mp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return CC(jn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:mi(d.field),direction:CO(d.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(l,u){return l.useProto3Json||Rd(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function xO(t){let e=mO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ne(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(d){const h=_C(d);return h instanceof jn&&Y_(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(h){return new Mi(gi(h.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Rd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new bc(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new bc(p,h)}(n.endAt)),Hj(e,s,o,i,a,"F",l,u)}function _O(t,e){const n=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ee()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function _C(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=gi(e.unaryFilter.field);return Ye.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=gi(e.unaryFilter.field);return Ye.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gi(e.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=gi(e.unaryFilter.field);return Ye.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(e){return Ye.create(gi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return jn.create(e.compositeFilter.filters.map(n=>_C(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ee()}}(e.compositeFilter.op))}(t):ee()}function CO(t){return cO[t]}function SO(t){return dO[t]}function TO(t){return hO[t]}function mi(t){return{fieldPath:t.canonicalString()}}function gi(t){return Ct.fromServerFormat(t.fieldPath)}function CC(t){return t instanceof Ye?function(e){if(e.op==="=="){if(Lw(e.value))return{unaryFilter:{field:mi(e.field),op:"IS_NAN"}};if(Pw(e.value))return{unaryFilter:{field:mi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Lw(e.value))return{unaryFilter:{field:mi(e.field),op:"IS_NOT_NAN"}};if(Pw(e.value))return{unaryFilter:{field:mi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mi(e.field),op:SO(e.op),value:e.value}}}(t):t instanceof jn?function(e){const n=e.getFilters().map(r=>CC(r));return n.length===1?n[0]:{compositeFilter:{op:TO(e.op),filters:n}}}(t):ee()}function kO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r,s,i=re.min(),o=re.min(),a=Rt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.se=e}}function NO(t){const e=xO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.He=new bO}addToCollectionParentIndex(e,n){return this.He.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(ss.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class bO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tt(ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tt(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new to(0)}static bn(){return new to(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.changes=new _o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&va(r.mutation,s,sn.empty(),et.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const s=Is();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ra();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=gr();const o=ga(),a=ga();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof fs)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),va(d.mutation,u,d.mutation.getFieldMask(),et.now())):o.set(u.key,sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new DO(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ga();let s=new nt((o,a)=>o-a),i=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||sn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||ce()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=oC();d.forEach(p=>{if(!i.has(p)){const m=pC(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):O.resolve(Is());let a=-1,l=i;return o.next(u=>O.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?O.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,ce())).next(d=>({batchId:a,changes:iC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let s=ra();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=ra();return this.indexManager.getCollectionParents(e,s).next(o=>O.forEach(o,a=>{const l=function(u,d){return new xo(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,_t.newInvalidDocument(u)))});let o=ra();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&va(u.mutation,l,sn.empty(),et.now()),Dd(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return O.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:zn(r.createTime)}),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:NO(r.bundledQuery),readTime:zn(r.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.overlays=new nt(X.comparator),this.ts=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Is();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.re(e,n,i)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ts.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ts.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const s=Is(),i=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return O.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new nt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Is(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Is(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return O.resolve(a)}re(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ts.get(s.largestBatchId).delete(r.key);this.ts.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oO(n,r));let i=this.ts.get(n);i===void 0&&(i=ce(),this.ts.set(n,i)),this.ts.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.es=new tt(st.ns),this.ss=new tt(st.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new st(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new st(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new X(new ke([])),r=new st(n,e),s=new st(n,e+1),i=[];return this.ss.forEachInRange([r,s],o=>{this.us(o),i.push(o.key)}),i}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new X(new ke([])),r=new st(n,e),s=new st(n,e+1);let i=ce();return this.ss.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new st(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return X.comparator(e.key,n.key)||xe(e.ds,n.ds)}static rs(e,n){return xe(e.ds,n.ds)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new tt(st.ns)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this._s=this._s.add(new st(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ys(r),i=s<0?0:s;return O.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),s=new st(n,Number.POSITIVE_INFINITY),i=[];return this._s.forEachInRange([r,s],o=>{const a=this.gs(o.ds);i.push(a)}),O.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(xe);return n.forEach(s=>{const i=new st(s,0),o=new st(s,Number.POSITIVE_INFINITY);this._s.forEachInRange([i,o],a=>{r=r.add(a.ds)})}),O.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;X.isDocumentKey(i)||(i=i.child(""));const o=new st(new X(i),0);let a=new tt(xe);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.ds)),!0)},o),O.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const s=this.gs(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ne(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return O.forEach(n.mutations,s=>{const i=new st(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new st(n,0),s=this._s.firstAfterOrEqual(r);return O.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.Ts=e,this.docs=new nt(X.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():_t.newInvalidDocument(s))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gr();const o=n.path,a=new X(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kj(Tj(d),r)<=0||(s.has(d.key)||Dd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee()}Es(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MO(this)}getSize(e){return O.resolve(this.size)}}class MO extends AO{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Jn.addEntry(e,s)):this.Jn.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.persistence=e,this.As=new _o(n=>Rg(n),bg),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Lg,this.targetCount=0,this.bs=to.vn()}forEachTarget(e,n){return this.As.forEach((r,s)=>n(s)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),O.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new to(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Sn(n),O.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),O.waitFor(i).next(()=>s)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),O.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new Ig(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new UO(this),this.indexManager=new RO,this.remoteDocumentCache=function(r){return new $O(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new IO(n),this.xs=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new LO(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new BO(this.Vs.next());return this.referenceDelegate.Ns(),r(s).next(i=>this.referenceDelegate.ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Os(e,n){return O.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class BO extends Nj{constructor(e){super(),this.currentSequenceNumber=e}}class $g{constructor(e){this.persistence=e,this.$s=new Lg,this.Ms=null}static Fs(e){return new $g(e)}get Bs(){if(this.Ms)return this.Ms;throw ee()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),O.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(s=>this.Bs.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Bs.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Bs,r=>{const s=X.fromPath(r);return this.Ls(e,s).next(i=>{i||n.removeEntry(s,re.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return O.or([()=>O.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=s}static Di(e,n){let r=ce(),s=ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Mg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ni(e,n).next(i=>i||this.ki(e,n,s,r)).next(i=>i||this.Oi(e,n))}Ni(e,n){if(Fw(n))return O.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Pp(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ce(...i);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(e,Pp(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,s){return Fw(n)||s.isEqual(re.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(i=>{const o=this.$i(n,i);return this.Mi(n,o,r,s)?this.Oi(e,n):(bw()<=ye.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lp(n)),this.Fi(e,o,n,Sj(s,-1)))})}$i(e,n){let r=new tt(rC(e));return n.forEach((s,i)=>{Dd(e,i)&&(r=r.add(i))}),r}Mi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Oi(e,n){return bw()<=ye.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Lp(n)),this.xi.getDocumentsMatchingQuery(e,n,ss.min())}Fi(e,n,r,s){return this.xi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r,s){this.persistence=e,this.Bi=n,this.serializer=s,this.Li=new nt(xe),this.qi=new _o(i=>Rg(i),bg),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jO(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function HO(t,e,n,r){return new zO(t,e,n,r)}async function TC(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ce();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function WO(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const d=l.batch,h=d.keys();let p=O.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(a,m)).next(w=>{const g=l.docVersions.get(m);Ne(g!==null),w.version.compareTo(g)<0&&(d.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ce();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function kC(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function qO(t,e){const n=se(t),r=e.snapshotVersion;let s=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});s=n.Li;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Ds.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Ds.addMatchingKeys(i,d.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(h)?m=m.withResumeToken(Rt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(w,g,E){return w.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,m,d)&&a.push(n.Ds.updateTargetData(i,m))});let l=gr(),u=ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(KO(i,o,e.documentUpdates).next(d=>{l=d.zi,u=d.ji})),!r.isEqual(re.min())){const d=n.Ds.getLastRemoteSnapshotVersion(i).next(h=>n.Ds.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return O.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Li=s,i))}function KO(t,e,n){let r=ce(),s=ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=gr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:s}})}function GO(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QO(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ds.getTargetData(r,e).next(i=>i?(s=i,O.resolve(s)):n.Ds.allocateTargetId(r).next(o=>(s=new Ds(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Li.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Fp(t,e,n){const r=se(t),s=r.Li.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!kl(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(s.target)}function Qw(t,e,n){const r=se(t);let s=re.min(),i=ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const d=se(a),h=d.qi.get(u);return h!==void 0?O.resolve(d.Li.get(h)):d.Ds.getTargetData(l,u)}(r,o,mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?s:re.min(),n?i:ce())).next(a=>(YO(r,Wj(e),a),{documents:a,Wi:i})))}function YO(t,e,n){let r=t.Ui.get(e)||re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ui.set(e,r)}class Yw{constructor(){this.activeTargetIds=aC()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XO{constructor(){this.Br=new Yw,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Yw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu=null;function Qh(){return fu===null?fu=268435456+Math.round(2147483648*Math.random()):fu++,"0x"+fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class tP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,s,i){const o=Qh(),a=this.ao(e,n);G("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,s,i),this.lo(e,a,l,r).then(u=>(G("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Nc("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,s,i,o){return this.co(e,n,r,s,i)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}ao(e,n){const r=ZO[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,s){const i=Qh();return new Promise((o,a)=>{const l=new pj;l.setWithCredentials(!0),l.listenOnce(dj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Kh.NO_ERROR:const d=l.getResponseJson();G(yt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Kh.TIMEOUT:G(yt,`RPC '${e}' ${i} timed out`),a(new B(N.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const h=l.getStatus();if(G(yt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const w=function(g){const E=g.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(E)>=0?E:N.UNKNOWN}(m.status);a(new B(w,m.message))}else a(new B(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(N.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{G(yt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);G(yt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}wo(e,n,r){const s=Qh(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uj(),a=cj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new fj({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");G(yt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const m=new eP({Wr:g=>{p?G(yt,`Not sending because RPC '${e}' stream ${s} is closed:`,g):(h||(G(yt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),G(yt,`RPC '${e}' stream ${s} sending:`,g),d.send(g))},Hr:()=>d.close()}),w=(g,E,v)=>{g.listen(E,y=>{try{v(y)}catch(x){setTimeout(()=>{throw x},0)}})};return w(d,uu.EventType.OPEN,()=>{p||G(yt,`RPC '${e}' stream ${s} transport opened.`)}),w(d,uu.EventType.CLOSE,()=>{p||(p=!0,G(yt,`RPC '${e}' stream ${s} transport closed`),m.so())}),w(d,uu.EventType.ERROR,g=>{p||(p=!0,Nc(yt,`RPC '${e}' stream ${s} transport errored:`,g),m.so(new B(N.UNAVAILABLE,"The operation could not be completed")))}),w(d,uu.EventType.MESSAGE,g=>{var E;if(!p){const v=g.data[0];Ne(!!v);const y=v,x=y.error||((E=y[0])===null||E===void 0?void 0:E.error);if(x){G(yt,`RPC '${e}' stream ${s} received error:`,x);const _=x.status;let C=function(T){const k=We[T];if(k!==void 0)return gC(k)}(_),S=x.message;C===void 0&&(C=N.INTERNAL,S="Unknown error status: "+_+" with message "+x.message),p=!0,m.so(new B(C,S)),d.close()}else G(yt,`RPC '${e}' stream ${s} received:`,v),m.io(v)}}),w(a,hj.STAT_EVENT,g=>{g.stat===Nw.PROXY?G(yt,`RPC '${e}' stream ${s} detected buffering proxy`):g.stat===Nw.NOPROXY&&G(yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.no()},0),m}}function Yh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){return new fO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=s,this.yo=i,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,s,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r,s,i,o,a,l){this.Ws=e,this.bo=r,this.Po=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new IC(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Vo===n&&this.Ko(r,s)},r=>{e(()=>{const s=new B(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(s)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(s=>{r(()=>this.Go(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nP extends NC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=gO(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?re.min():i.readTime?zn(i.readTime):re.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=Up(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;return o=jp(a)?{documents:wO(s,a)}:{query:EO(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=wC(s,i.resumeToken):i.snapshotVersion.compareTo(re.min())>0&&(o.readTime=jc(s,i.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=_O(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=Up(this.serializer),n.removeTarget=e,this.Fo(n)}}class rP extends NC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=yO(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.Zo(r,n)}return Ne(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Up(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vO(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.eu=!1}nu(){if(this.eu)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.co(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(N.UNKNOWN,s.toString())})}fo(e,n,r,s){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.fo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(N.UNKNOWN,i.toString())})}terminate(){this.eu=!0}}class iP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(pr(n),this.ru=!1):G("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=i,this._u.qr(o=>{r.enqueueAndForget(async()=>{ni(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=se(a);l.du.add(4),await Rl(l),l.mu.set("Unknown"),l.du.delete(4),await $d(l)}(this))})}),this.mu=new iP(r,s)}}async function $d(t){if(ni(t))for(const e of t.wu)await e(!0)}async function Rl(t){for(const e of t.wu)await e(!1)}function RC(t,e){const n=se(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),Bg(n)?Fg(n):Co(n).No()&&Ug(n,e))}function bC(t,e){const n=se(t),r=Co(n);n.fu.delete(e),r.No()&&AC(n,e),n.fu.size===0&&(r.No()?r.$o():ni(n)&&n.mu.set("Unknown"))}function Ug(t,e){t.gu.Ot(e.targetId),Co(t).jo(e)}function AC(t,e){t.gu.Ot(e),Co(t).Wo(e)}function Fg(t){t.gu=new uO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),Co(t).start(),t.mu.ou()}function Bg(t){return ni(t)&&!Co(t).xo()&&t.fu.size>0}function ni(t){return se(t).du.size===0}function DC(t){t.gu=void 0}async function aP(t){t.fu.forEach((e,n)=>{Ug(t,e)})}async function lP(t,e){DC(t),Bg(t)?(t.mu.au(e),Fg(t)):t.mu.set("Unknown")}async function uP(t,e,n){if(t.mu.set("Online"),e instanceof yC&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oc(t,r)}else if(e instanceof $u?t.gu.Kt(e):e instanceof vC?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(re.min()))try{const r=await kC(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.gu.Xt(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.fu.get(l);u&&s.fu.set(l,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const l=s.fu.get(a);if(!l)return;s.fu.set(a,l.withResumeToken(Rt.EMPTY_BYTE_STRING,l.snapshotVersion)),AC(s,a);const u=new Ds(l.target,a,1,l.sequenceNumber);Ug(s,u)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Oc(t,r)}}async function Oc(t,e,n){if(!kl(e))throw e;t.du.add(1),await Rl(t),t.mu.set("Offline"),n||(n=()=>kC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await $d(t)})}function jC(t,e){return e().catch(n=>Oc(t,n,e))}async function Md(t){const e=se(t),n=os(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;cP(e);)try{const s=await GO(e.localStore,r);if(s===null){e.lu.length===0&&n.$o();break}r=s.batchId,dP(e,s)}catch(s){await Oc(e,s)}OC(e)&&PC(e)}function cP(t){return ni(t)&&t.lu.length<10}function dP(t,e){t.lu.push(e);const n=os(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function OC(t){return ni(t)&&!os(t).xo()&&t.lu.length>0}function PC(t){os(t).start()}async function hP(t){os(t).tu()}async function fP(t){const e=os(t);for(const n of t.lu)e.Yo(n.mutations)}async function pP(t,e,n){const r=t.lu.shift(),s=jg.from(r,e,n);await jC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Md(t)}async function mP(t,e){e&&os(t).Jo&&await async function(n,r){if(s=r.code,lO(s)&&s!==N.ABORTED){const i=n.lu.shift();os(n).Oo(),await jC(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Md(n)}var s}(t,e),OC(t)&&PC(t)}async function Jw(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=ni(n);n.du.add(3),await Rl(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await $d(n)}async function gP(t,e){const n=se(t);e?(n.du.delete(2),await $d(n)):e||(n.du.add(2),await Rl(n),n.mu.set("Unknown"))}function Co(t){return t.yu||(t.yu=function(e,n,r){const s=se(e);return s.nu(),new nP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Jr:aP.bind(null,t),Zr:lP.bind(null,t),zo:uP.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),Bg(t)?Fg(t):t.mu.set("Unknown")):(await t.yu.stop(),DC(t))})),t.yu}function os(t){return t.pu||(t.pu=function(e,n,r){const s=se(e);return s.nu(),new rP(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Jr:hP.bind(null,t),Zr:mP.bind(null,t),Xo:fP.bind(null,t),Zo:pP.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Md(t)):(await t.pu.stop(),t.lu.length>0&&(G("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Vg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(t,e){if(pr("AsyncQueue",`${e}: ${t}`),kl(t))return new B(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=ra(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new Fi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.Iu=new nt(X.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):ee():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class no{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new no(e,n,Fi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.Eu=void 0,this.listeners=[]}}class yP{constructor(){this.queries=new _o(e=>nC(e),Ad),this.onlineState="Unknown",this.Au=new Set}}async function wP(t,e){const n=se(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new vP),s)try{i.Eu=await n.onListen(r)}catch(o){const a=zg(o,`Initialization of query '${Lp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Ru(n.onlineState),i.Eu&&e.vu(i.Eu)&&Hg(n)}async function EP(t,e){const n=se(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function xP(t,e){const n=se(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.vu(s)&&(r=!0);o.Eu=s}}r&&Hg(n)}function _P(t,e,n){const r=se(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function Hg(t){t.Au.forEach(e=>{e.next()})}class CP{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new no(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.key=e}}class $C{constructor(e){this.key=e}}class SP{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ce(),this.mutatedKeys=ce(),this.Ku=rC(e),this.Gu=new Fi(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new Zw,s=n?n.Gu:this.Gu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=Dd(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?w!==g&&(r.track({type:3,doc:m}),E=!0):this.Wu(p,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Ku(m,l)>0||u&&this.Ku(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),i=g?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Gu:o,ju:r,Mi:a,mutatedKeys:i}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const i=e.ju.Tu();i.sort((u,d)=>function(h,p){const m=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return m(h)-m(p)}(u.type,d.type)||this.Ku(u.doc,d.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,i.length!==0||l?{snapshot:new no(this.query,e.Gu,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Zw,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=ce(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new $C(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new LC(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=ce();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return no.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class TP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kP{constructor(e){this.key=e,this.ec=!1}}class IP{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new _o(a=>nC(a),Ad),this.ic=new Map,this.rc=new Set,this.oc=new nt(X.comparator),this.uc=new Map,this.cc=new Lg,this.ac={},this.hc=new Map,this.lc=to.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function NP(t,e){const n=MP(t);let r,s;const i=n.sc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.tc();else{const o=await QO(n.localStore,mr(e));n.isPrimaryClient&&RC(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await RP(n,e,r,a==="current",o.resumeToken)}return s}async function RP(t,e,n,r,s){t.dc=(h,p,m)=>async function(w,g,E,v){let y=g.view.zu(E);y.Mi&&(y=await Qw(w.localStore,g.query,!1).then(({documents:C})=>g.view.zu(C,y)));const x=v&&v.targetChanges.get(g.targetId),_=g.view.applyChanges(y,w.isPrimaryClient,x);return t0(w,g.targetId,_.Yu),_.snapshot}(t,h,p,m);const i=await Qw(t.localStore,e,!0),o=new SP(e,i.Wi),a=o.zu(i.documents),l=Nl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);t0(t,n,u.Yu);const d=new TP(e,n,o);return t.sc.set(e,d),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function bP(t,e){const n=se(t),r=n.sc.get(e),s=n.ic.get(r.targetId);if(s.length>1)return n.ic.set(r.targetId,s.filter(i=>!Ad(i,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),bC(n.remoteStore,r.targetId),Bp(n,r.targetId)}).catch(Tl)):(Bp(n,r.targetId),await Fp(n.localStore,r.targetId,!0))}async function AP(t,e,n){const r=UP(t);try{const s=await function(i,o){const a=se(i),l=et.now(),u=o.reduce((p,m)=>p.add(m.key),ce());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=gr(),w=ce();return a.Ki.getEntries(p,u).next(g=>{m=g,m.forEach((E,v)=>{v.isValidDocument()||(w=w.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,m)).next(g=>{d=g;const E=[];for(const v of o){const y=rO(v,d.get(v.key).overlayedDocument);y!=null&&E.push(new fs(v.key,y,K_(y.value.mapValue),An.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,E,o)}).next(g=>{h=g;const E=g.applyToLocalDocumentSet(d,w);return a.documentOverlayCache.saveOverlays(p,g.batchId,E)})}).then(()=>({batchId:h.batchId,changes:iC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.ac[i.currentUser.toKey()];l||(l=new nt(xe)),l=l.insert(o,a),i.ac[i.currentUser.toKey()]=l}(r,s.batchId,n),await bl(r,s.changes),await Md(r.remoteStore)}catch(s){const i=zg(s,"Failed to persist write");n.reject(i)}}async function MC(t,e){const n=se(t);try{const r=await qO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.uc.get(i);o&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ec=!0:s.modifiedDocuments.size>0?Ne(o.ec):s.removedDocuments.size>0&&(Ne(o.ec),o.ec=!1))}),await bl(n,r,e)}catch(r){await Tl(r)}}function e0(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.sc.forEach((i,o)=>{const a=o.view.Ru(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=se(i);a.onlineState=o;let l=!1;a.queries.forEach((u,d)=>{for(const h of d.listeners)h.Ru(o)&&(l=!0)}),l&&Hg(a)}(r.eventManager,e),s.length&&r.nc.zo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DP(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.uc.get(e),i=s&&s.key;if(i){let o=new nt(X.comparator);o=o.insert(i,_t.newNoDocument(i,re.min()));const a=ce().add(i),l=new Pd(re.min(),new Map,new tt(xe),o,a);await MC(r,l),r.oc=r.oc.remove(i),r.uc.delete(e),Wg(r)}else await Fp(r.localStore,e,!1).then(()=>Bp(r,e,n)).catch(Tl)}async function jP(t,e){const n=se(t),r=e.batch.batchId;try{const s=await WO(n.localStore,e);FC(n,r,null),UC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bl(n,s)}catch(s){await Tl(s)}}async function OP(t,e,n){const r=se(t);try{const s=await function(i,o){const a=se(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(d=>(Ne(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);FC(r,e,n),UC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bl(r,s)}catch(s){await Tl(s)}}function UC(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function FC(t,e,n){const r=se(t);let s=r.ac[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ac[r.currentUser.toKey()]=s}}function Bp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||BC(t,r)})}function BC(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(bC(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Wg(t))}function t0(t,e,n){for(const r of n)r instanceof LC?(t.cc.addReference(r.key,e),PP(t,r)):r instanceof $C?(G("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||BC(t,r.key)):ee()}function PP(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(G("SyncEngine","New document in limbo: "+n),t.rc.add(r),Wg(t))}function Wg(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new X(ke.fromString(e)),r=t.lc.next();t.uc.set(r,new kP(n)),t.oc=t.oc.insert(n,r),RC(t.remoteStore,new Ds(mr(eC(n.path)),r,2,Ig.ct))}}async function bl(t,e,n){const r=se(t),s=[],i=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=Mg.Di(l.targetId,u);i.push(d)}}))}),await Promise.all(o),r.nc.zo(s),await async function(a,l){const u=se(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>O.forEach(l,h=>O.forEach(h.Vi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>O.forEach(h.Si,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!kl(d))throw d;G("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const p=u.Li.get(h),m=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(m);u.Li=u.Li.insert(h,w)}}}(r.localStore,i))}async function LP(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await TC(n.localStore,e);n.currentUser=e,function(s,i){s.hc.forEach(o=>{o.forEach(a=>{a.reject(new B(N.CANCELLED,i))})}),s.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bl(n,r.Qi)}}function $P(t,e){const n=se(t),r=n.uc.get(e);if(r&&r.ec)return ce().add(r.key);{let s=ce();const i=n.ic.get(e);if(!i)return s;for(const o of i){const a=n.sc.get(o);s=s.unionWith(a.view.Qu)}return s}}function MP(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$P.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DP.bind(null,e),e.nc.zo=xP.bind(null,e.eventManager),e.nc.wc=_P.bind(null,e.eventManager),e}function UP(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OP.bind(null,e),e}class n0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ld(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HO(this.persistence,new VO,e.initialUser,this.serializer)}createPersistence(e){return new FO($g.Fs,this.serializer)}createSharedClientState(e){return new XO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FP{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>e0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LP.bind(null,this.syncEngine),await gP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yP}createDatastore(e){const n=Ld(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new tP(s));var s;return function(i,o,a,l){return new sP(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>e0(this.syncEngine,a,0),o=Xw.D()?new Xw:new JO,new oP(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,l,u){const d=new IP(r,s,i,o,a,l);return u&&(d.fc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=se(e);G("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Rl(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=wt.UNAUTHENTICATED,this.clientId=z_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{G("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(G("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xh(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await TC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function r0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HP(t);G("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Jw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Jw(e.remoteStore,i)),t._onlineComponents=e}function zP(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function HP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zP(n))throw n;Nc("Error using user provided cache. Falling back to memory cache: "+n),await Xh(t,new n0)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Xh(t,new n0);return t._offlineComponents}async function VC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await r0(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await r0(t,new FP))),t._onlineComponents}function WP(t){return VC(t).then(e=>e.syncEngine)}async function qP(t){const e=await VC(t),n=e.eventManager;return n.onListen=NP.bind(null,e.syncEngine),n.onUnlisten=bP.bind(null,e.syncEngine),n}function KP(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const u=new BP({next:h=>{i.enqueueAndForget(()=>EP(s,d)),h.fromCache&&a.source==="server"?l.reject(new B(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new CP(o,u,{includeMetadataChanges:!0,xu:!0});return wP(s,d)}(await qP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e,n){if(!n)throw new B(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GP(t,e,n,r){if(e===!0&&r===!0)throw new B(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i0(t){if(!X.isDocumentKey(t))throw new B(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o0(t){if(X.isDocumentKey(t))throw new B(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ud(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function Ws(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ud(t);throw new B(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new B(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,GP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new mj;switch(n.type){case"firstParty":return new wj(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=s0.get(e);n&&(G("ComponentProvider","Removing Datastore"),s0.delete(e),n.terminate())}(this),Promise.resolve()}}function QP(t,e,n,r={}){var s;const i=(t=Ws(t,Fd))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&Nc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=wt.MOCK_USER;else{o=O1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new B(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new wt(l)}t._authCredentials=new gj(new V_(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class es extends ri{constructor(e,n,r){super(e,n,eC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new X(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function be(t,e,...n){if(t=Oe(t),zC("collection","path",e),t instanceof Fd){const r=ke.fromString(e,...n);return o0(r),new es(t,null,r)}{if(!(t instanceof an||t instanceof es))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return o0(r),new es(t.firestore,null,r)}}function _r(t,e,...n){if(t=Oe(t),arguments.length===1&&(e=z_.A()),zC("doc","path",e),t instanceof Fd){const r=ke.fromString(e,...n);return i0(r),new an(t,null,new X(r))}{if(!(t instanceof an||t instanceof es))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return i0(r),new an(t.firestore,t instanceof es?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new IC(this,"async_queue_retry"),this.qc=()=>{const n=Yh();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=Yh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=Yh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new Zr;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!kl(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw pr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const s=Vg.createAndSchedule(this,e,n,r,i=>this.Qc(i));return this.$c.push(s),s}Uc(){this.Mc&&ee()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class Al extends Fd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new YP,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||WC(this),this._firestoreClient.terminate()}}function XP(t,e){const n=typeof t=="object"?t:sg(),r=typeof t=="string"?t:e||"(default)",s=fd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=D1("firestore");i&&QP(s,...i)}return s}function HC(t){return t._firestoreClient||WC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function WC(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,l,u){return new Dj(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new VP(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ro(Rt.fromBase64String(e))}catch(n){throw new B(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ro(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=/^__.*__$/;class ZP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Il(e,this.data,n,this.fieldTransforms)}}class qC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Gg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Jc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Zc({path:r,ta:!1});return s.ea(e),s}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Zc({path:r,ta:!1});return s.Jc(),s}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Pc(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(KC(this.Yc)&&JP.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class eL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ld(e)}ua(e,n,r,s=!1){return new Gg({Yc:e,methodName:n,oa:r,path:Ct.emptyPath(),ta:!1,ra:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qg(t){const e=t._freezeSettings(),n=Ld(t._databaseId);return new eL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tL(t,e,n,r,s,i={}){const o=t.ua(i.merge||i.mergeFields?2:0,e,n,s);Yg("Data must be an object, but it was:",o,r);const a=GC(r,o);let l,u;if(i.merge)l=new sn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=Vp(e,h,n);if(!o.contains(p))throw new B(N.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);YC(d,p)||d.push(p)}l=new sn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new ZP(new Wt(a),l,u)}class Vd extends qg{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}function nL(t,e,n,r){const s=t.ua(1,e,n);Yg("Data must be an object, but it was:",s,r);const i=[],o=Wt.empty();ti(r,(l,u)=>{const d=Xg(e,l,n);u=Oe(u);const h=s.na(d);if(u instanceof Vd)i.push(d);else{const p=Dl(u,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new sn(i);return new qC(o,a,s.fieldTransforms)}function rL(t,e,n,r,s,i){const o=t.ua(1,e,n),a=[Vp(e,r,n)],l=[s];if(i.length%2!=0)throw new B(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Vp(e,i[p])),l.push(i[p+1]);const u=[],d=Wt.empty();for(let p=a.length-1;p>=0;--p)if(!YC(u,a[p])){const m=a[p];let w=l[p];w=Oe(w);const g=o.na(m);if(w instanceof Vd)u.push(m);else{const E=Dl(w,g);E!=null&&(u.push(m),d.set(m,E))}}const h=new sn(u);return new qC(d,h,o.fieldTransforms)}function sL(t,e,n,r=!1){return Dl(n,t.ua(r?4:3,e))}function Dl(t,e){if(QC(t=Oe(t)))return Yg("Unsupported field value:",e,t),GC(t,e);if(t instanceof qg)return function(n,r){if(!KC(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=Dl(o,r.sa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Oe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Xj(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=et.fromDate(n);return{timestampValue:jc(r.serializer,s)}}if(n instanceof et){const s=new et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jc(r.serializer,s)}}if(n instanceof Kg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ro)return{bytesValue:wC(r.serializer,n._byteString)};if(n instanceof an){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.ia(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Pg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Ud(n)}`)}(t,e)}function GC(t,e){const n={};return H_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(t,(r,s)=>{const i=Dl(s,e.Xc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function QC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Kg||t instanceof ro||t instanceof an||t instanceof qg)}function Yg(t,e,n){if(!QC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Ud(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function Vp(t,e,n){if((e=Oe(e))instanceof Bd)return e._internalPath;if(typeof e=="string")return Xg(t,e);throw Pc("Field path arguments must be of type string or ",t,!1,void 0,n)}const iL=new RegExp("[~\\*/\\[\\]]");function Xg(t,e,n){if(e.search(iL)>=0)throw Pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bd(...e.split("."))._internalPath}catch{throw Pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new B(N.INVALID_ARGUMENT,a+t+l)}function YC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oL extends XC{data(){return super.data()}}function zd(t,e){return typeof e=="string"?Xg(t,e):e instanceof Bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class JC extends Jg{}function Ke(t,e,...n){let r=[];e instanceof Jg&&r.push(e),r=r.concat(n),function(s){const i=s.filter(a=>a instanceof Zg).length,o=s.filter(a=>a instanceof Hd).length;if(i>1||i>0&&o>0)throw new B(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Hd extends JC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hd(e,n,r)}_apply(e){const n=this._parse(e);return ZC(e._query,n),new ri(e.firestore,e.converter,Op(e._query,n))}_parse(e){const n=Qg(e.firestore);return function(s,i,o,a,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new B(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){u0(d,u);const p=[];for(const m of d)p.push(l0(a,s,m));h={arrayValue:{values:p}}}else h=l0(a,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||u0(d,u),h=sL(o,i,d,u==="in"||u==="not-in");return Ye.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nn(t,e,n){const r=e,s=zd("where",t);return Hd._create(s,r,n)}class Zg extends Jg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r;const o=s.getFlattenedFilters();for(const a of o)ZC(i,a),i=Op(i,a)}(e._query,n),new ri(e.firestore,e.converter,Op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ev extends JC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ev(e,n)}_apply(e){const n=function(r,s,i){if(r.startAt!==null)throw new B(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new B(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Mi(s,i);return function(a,l){if(Ag(a)===null){const u=bd(a);u!==null&&eS(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new ri(e.firestore,e.converter,function(r,s){const i=r.explicitOrderBy.concat([s]);return new xo(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Za(t,e="asc"){const n=e,r=zd("orderBy",t);return ev._create(r,n)}function l0(t,e,n){if(typeof(n=Oe(n))=="string"){if(n==="")throw new B(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tC(e)&&n.indexOf("/")!==-1)throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!X.isDocumentKey(r))throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ow(t,new X(r))}if(n instanceof an)return Ow(t,n._key);throw new B(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ud(n)}.`)}function u0(t,e){if(!Array.isArray(t)||t.length===0)throw new B(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZC(t,e){if(e.isInequality()){const r=bd(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new B(N.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=Ag(t);i!==null&&eS(t,s,i)}const n=function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function eS(t,e,n){if(!n.isEqual(e))throw new B(N.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class lL{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){const r={};return ti(e.fields,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Kg(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=q_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ga(e));default:return null}}convertTimestamp(e){const n=is(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);Ne(SC(r));const s=new Qa(r.get(1),r.get(3)),i=new X(r.popFirst(5));return s.isEqual(n)||pr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cL extends XC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mu extends cL{data(e={}){return super.data(e)}}class dL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new pu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mu(this._firestore,this._userDataWriter,r.key,r,new pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new Mu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new pu(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Mu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new pu(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),u=i.indexOf(o.doc.key)),{type:hL(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}class fL extends lL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function Ge(t){t=Ws(t,ri);const e=Ws(t.firestore,Al),n=HC(e),r=new fL(e);return aL(t._query),KP(n,t._query).then(s=>new dL(e,r,t,s))}function qs(t,e,n,...r){t=Ws(t,an);const s=Ws(t.firestore,Al),i=Qg(s);let o;return o=typeof(e=Oe(e))=="string"||e instanceof Bd?rL(i,"updateDoc",t._key,e,n,r):nL(i,"updateDoc",t._key,e),tv(s,[o.toMutation(t._key,An.exists(!0))])}function Wd(t){return tv(Ws(t.firestore,Al),[new Dg(t._key,An.none())])}function qd(t,e){const n=Ws(t.firestore,Al),r=_r(t),s=uL(t.converter,e);return tv(n,[tL(Qg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}function tv(t,e){return function(n,r){const s=new Zr;return n.asyncQueue.enqueueAndForget(async()=>AP(await WP(n),r,s)),s.promise}(HC(t),e)}(function(t,e=!0){(function(n){Eo=n})(Zs),Vs(new rs("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new Al(new vj(n.getProvider("auth-internal")),new xj(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new B(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(a.options.projectId,l)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Vn(Rw,"3.10.1",t),Vn(Rw,"3.10.1","esm2017")})();var pL="firebase",mL="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn(pL,mL,"app");function nv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function tS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gL=tS,nS=new pl("auth","Firebase",tS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new ng("@firebase/auth");function vL(t,...e){Lc.logLevel<=ye.WARN&&Lc.warn(`Auth (${Zs}): ${t}`,...e)}function Uu(t,...e){Lc.logLevel<=ye.ERROR&&Lc.error(`Auth (${Zs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw rv(t,...e)}function Hn(t,...e){return rv(t,...e)}function yL(t,e,n){const r=Object.assign(Object.assign({},gL()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function rv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nS.create(t,...e)}function J(t,e,...n){if(!t)throw rv(e,...n)}function ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uu(e),new Error(e)}function vr(t,e){t||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wL(){return c0()==="http:"||c0()==="https:"}function c0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wL()||Yb()||"connection"in navigator)?navigator.onLine:!0}function xL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=Gb()||Xb()}get(){return EL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new jl(3e4,6e4);function So(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function si(t,e,n,r,s={}){return sS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ml(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),rS.fetch()(iS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function sS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_L),e);try{const s=new SL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw mu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw mu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yL(t,d,u);On(t,d)}}catch(s){if(s instanceof Yn)throw s;On(t,"network-request-failed",{message:String(s)})}}async function Kd(t,e,n,r,s={}){const i=await si(t,e,n,r,s);return"mfaPendingCredential"in i&&On(t,"multi-factor-auth-required",{_serverResponse:i}),i}function iS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?sv(t.config,s):`${t.config.apiScheme}://${s}`}class SL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),CL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e){return si(t,"POST","/v1/accounts:delete",e)}async function kL(t,e){return si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IL(t,e=!1){const n=Oe(t),r=await n.getIdToken(e),s=iv(r);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ya(Jh(s.auth_time)),issuedAtTime:ya(Jh(s.iat)),expirationTime:ya(Jh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Jh(t){return Number(t)*1e3}function iv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const s=b1(n);return s?JSON.parse(s):(Uu("Failed to decode base64 JWT payload"),null)}catch(s){return Uu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function NL(t){const e=iv(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yn&&RL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ya(this.lastLoginAt),this.creationTime=ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t){var e;const n=t.auth,r=await t.getIdToken(),s=await el(t,kL(n,{idToken:r}));J(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?jL(i.providerUserInfo):[],a=DL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new oS(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function AL(t){const e=Oe(t);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function jL(t){return t.map(e=>{var{providerId:n}=e,r=nv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e){const n=await sS(t,{},async()=>{const r=ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=iS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await OL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new tl;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(J(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(J(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class js{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new oS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await el(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IL(this,e)}reload(){return AL(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $c(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await el(this,TL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:_,isAnonymous:C,providerData:S,stsTokenManager:T}=n;J(x&&T,e,"internal-error");const k=tl.fromJSON(this.name,T);J(typeof x=="string",e,"internal-error"),kr(h,e.name),kr(p,e.name),J(typeof _=="boolean",e,"internal-error"),J(typeof C=="boolean",e,"internal-error"),kr(m,e.name),kr(w,e.name),kr(g,e.name),kr(E,e.name),kr(v,e.name),kr(y,e.name);const P=new js({uid:x,auth:e,email:p,emailVerified:_,displayName:h,isAnonymous:C,photoURL:w,phoneNumber:m,tenantId:g,stsTokenManager:k,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(P.providerData=S.map(D=>Object.assign({},D))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new tl;s.updateFromServerResponse(n);const i=new js({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await $c(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;function or(t){vr(t instanceof Function,"Expected a class definition");let e=d0.get(t);return e?(vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aS.type="NONE";const h0=aS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Fu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Fu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?js._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bi(or(h0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||or(h0);const o=Fu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=js._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Bi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Bi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hS(e))return"Blackberry";if(fS(e))return"Webos";if(ov(e))return"Safari";if((e.includes("chrome/")||uS(e))&&!e.includes("edge/"))return"Chrome";if(dS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lS(t=Nt()){return/firefox\//i.test(t)}function ov(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uS(t=Nt()){return/crios\//i.test(t)}function cS(t=Nt()){return/iemobile/i.test(t)}function dS(t=Nt()){return/android/i.test(t)}function hS(t=Nt()){return/blackberry/i.test(t)}function fS(t=Nt()){return/webos/i.test(t)}function Gd(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PL(t=Nt()){var e;return Gd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LL(){return Jb()&&document.documentMode===10}function pS(t=Nt()){return Gd(t)||dS(t)||fS(t)||hS(t)||/windows phone/i.test(t)||cS(t)}function $L(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e=[]){let n;switch(t){case"Browser":n=f0(Nt());break;case"Worker":n=`${f0(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zs}/${r}`}async function gS(t,e){return si(t,"GET","/v2/recaptchaConfig",So(t,e))}function p0(t){return t!==void 0&&t.enterprise!==void 0}class vS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function yS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Hn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",ML().appendChild(r)})}function UL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const FL="https://www.google.com/recaptcha/enterprise.js?render=",BL="recaptcha-enterprise";class wS{constructor(e){this.type=BL,this.auth=To(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{gS(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new vS(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;p0(l)?l.enterprise.ready(()=>{try{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(u=>{a(u)})}catch(u){a(u)}}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&p0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}yS(FL+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Mc(t,e,n,r=!1){const s=new wS(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new VL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Bi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Oe(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}async initializeRecaptchaConfig(){const e=await gS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new vS(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new wS(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Bi.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return J(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function To(t){return Oe(t)}class m0{constructor(e){this.auth=e,this.observer=null,this.addObserver=iA(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t,e){const n=fd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(yc(i,e??{}))return s;On(s,"already-initialized")}return n.initialize({options:e})}function WL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qL(t,e,n){const r=To(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=ES(e),{host:o,port:a}=KL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||GL()}function ES(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KL(t){const e=ES(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:g0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:g0(o)}}}function g0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function QL(t,e){return si(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(t,e){return Kd(t,"POST","/v1/accounts:signInWithPassword",So(t,e))}async function YL(t,e){return si(t,"POST","/v1/accounts:sendOobCode",So(t,e))}async function ef(t,e){return YL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",So(t,e))}async function JL(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",So(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends av{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new nl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await Mc(e,r,"signInWithPassword");return Zh(e,s)}else return Zh(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await Mc(e,r,"signInWithPassword");return Zh(e,i)}else return Promise.reject(s)});case"emailLink":return XL(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return QL(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return JL(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(t,e){return Kd(t,"POST","/v1/accounts:signInWithIdp",So(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="http://localhost";class Ks extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=nv(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ks(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vi(e,n)}buildRequest(){const e={requestUri:ZL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ml(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t$(t){const e=Zo(ea(t)).link,n=e?Zo(ea(e)).deep_link_id:null,r=Zo(ea(t)).deep_link_id;return(r?Zo(ea(r)).link:null)||r||n||e||t}class lv{constructor(e){var n,r,s,i,o,a;const l=Zo(ea(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=e$((s=l.mode)!==null&&s!==void 0?s:null);J(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=t$(e);try{return new lv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return nl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lv.parseLink(n);return J(r,"argument-error"),nl._fromEmailAndCode(e,r.code,r.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends xS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Ol{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Ol{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ol{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await js._fromIdTokenResponse(e,r,s),o=v0(r);return new so({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=v0(r);return new so({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function v0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Yn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Uc(e,n,r,s)}}function _S(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(t,i,e,r):i})}async function n$(t,e,n=!1){const r=await el(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return so._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r$(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await el(t,_S(r,s,e,t),n);J(i.idToken,r,"internal-error");const o=iv(i.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),so._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&On(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS(t,e,n=!1){const r="signIn",s=await _S(t,r,e),i=await so._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function s$(t,e){return CS(To(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e,n){var r;J(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(t,e,n){var r;const s=To(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Mc(s,i,"getOobCode",!0);n&&tf(s,o,n),await ef(s,o)}else n&&tf(s,i,n),await ef(s,i).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Mc(s,i,"getOobCode",!0);n&&tf(s,a,n),await ef(s,a)}else return Promise.reject(o)})}function o$(t,e,n){return s$(Oe(t),ko.credential(e,n))}function a$(t,e,n,r){return Oe(t).onIdTokenChanged(e,n,r)}function l$(t,e,n){return Oe(t).beforeAuthStateChanged(e,n)}function u$(t,e,n,r){return Oe(t).onAuthStateChanged(e,n,r)}function c$(t){return Oe(t).signOut()}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(){const t=Nt();return ov(t)||Gd(t)}const h$=1e3,f$=10;class TS extends SS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=d$()&&$L(),this.fallbackToPolling=pS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);LL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,f$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TS.type="LOCAL";const p$=TS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS extends SS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kS.type="SESSION";const IS=kS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await m$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=uv("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function v$(t){Wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function y$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function E$(){return NS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebaseLocalStorageDb",x$=1,Bc="firebaseLocalStorage",bS="fbase_key";class Pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yd(t,e){return t.transaction([Bc],e?"readwrite":"readonly").objectStore(Bc)}function _$(){const t=indexedDB.deleteDatabase(RS);return new Pl(t).toPromise()}function Hp(){const t=indexedDB.open(RS,x$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bc,{keyPath:bS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bc)?e(r):(r.close(),await _$(),e(await Hp()))})})}async function y0(t,e,n){const r=Yd(t,!0).put({[bS]:e,value:n});return new Pl(r).toPromise()}async function C$(t,e){const n=Yd(t,!1).get(e),r=await new Pl(n).toPromise();return r===void 0?null:r.value}function w0(t,e){const n=Yd(t,!0).delete(e);return new Pl(n).toPromise()}const S$=800,T$=3;class AS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>T$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(E$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await y$(),!this.activeServiceWorker)return;this.sender=new g$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hp();return await y0(e,Fc,"1"),await w0(e,Fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>y0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>C$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Yd(s,!1).getAll();return new Pl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AS.type="LOCAL";const k$=AS;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t,e){return e?or(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N$(t){return CS(t.auth,new cv(t),t.bypassAuthState)}function R$(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),r$(n,new cv(t),t.bypassAuthState)}async function b$(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),n$(n,new cv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N$;case"linkViaPopup":case"linkViaRedirect":return b$;case"reauthViaPopup":case"reauthViaRedirect":return R$;default:On(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=new jl(2e3,1e4);class Ai extends DS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ai.currentPopupAction&&Ai.currentPopupAction.cancel(),Ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,A$.get())};e()}}Ai.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="pendingRedirect",Bu=new Map;class j$ extends DS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const r=await O$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O$(t,e){const n=$$(e),r=L$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function P$(t,e){Bu.set(t._key(),e)}function L$(t){return or(t._redirectPersistence)}function $$(t){return Fu(D$,t.config.apiKey,t.name)}async function M$(t,e,n=!1){const r=To(t),s=I$(r,e),o=await new j$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=10*60*1e3;class F${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U$&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(e))}saveEventToCache(e){this.cachedEventUids.add(E0(e)),this.lastProcessedEventTime=Date.now()}}function E0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function B$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t,e={}){return si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H$=/^https?/;async function W$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V$(t);for(const n of e)try{if(q$(n))return}catch{}On(t,"unauthorized-domain")}function q$(t){const e=zp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!H$.test(n))return!1;if(z$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=new jl(3e4,6e4);function x0(){const t=Wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function G$(t){return new Promise((e,n)=>{var r,s,i;function o(){x0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x0(),n(Hn(t,"network-request-failed"))},timeout:K$.get()})}if(!((s=(r=Wn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Wn().gapi)===null||i===void 0)&&i.load)o();else{const a=UL("iframefcb");return Wn()[a]=()=>{gapi.load?o():n(Hn(t,"network-request-failed"))},yS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Vu=null,e})}let Vu=null;function Q$(t){return Vu=Vu||G$(t),Vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=new jl(5e3,15e3),X$="__/auth/iframe",J$="emulator/auth/iframe",Z$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tM(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sv(e,J$):`https://${t.config.authDomain}/${X$}`,r={apiKey:e.apiKey,appName:t.name,v:Zs},s=eM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ml(r).slice(1)}`}async function nM(t){const e=await Q$(t),n=Wn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:tM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Hn(t,"network-request-failed"),a=Wn().setTimeout(()=>{i(o)},Y$.get());function l(){Wn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sM=500,iM=600,oM="_blank",aM="http://localhost";class _0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lM(t,e,n,r=sM,s=iM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rM),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Nt().toLowerCase();n&&(a=uS(u)?oM:n),lS(u)&&(e=e||aM,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,w])=>`${p}${m}=${w},`,"");if(PL(u)&&a!=="_self")return uM(e||"",a),new _0(null);const h=window.open(e||"",a,d);J(h,t,"popup-blocked");try{h.focus()}catch{}return new _0(h)}function uM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="__/auth/handler",dM="emulator/auth/handler",hM=encodeURIComponent("fac");async function C0(t,e,n,r,s,i){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zs,eventId:s};if(e instanceof xS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))o[d]=h}if(e instanceof Ol){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${hM}=${encodeURIComponent(l)}`:"";return`${fM(t)}?${ml(a).slice(1)}${u}`}function fM({config:t}){return t.emulator?sv(t,dM):`https://${t.authDomain}/${cM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="webStorageSupport";class pM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IS,this._completeRedirectFn=M$,this._overrideRedirectResult=P$}async _openPopup(e,n,r,s){var i;vr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await C0(e,n,r,zp(),s);return lM(e,o,uv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await C0(e,n,r,zp(),s);return v$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(vr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nM(e),r=new F$(e);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nf,{type:nf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[nf];o!==void 0&&n(!!o),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pS()||ov()||Gd()}}const mM=pM;var S0="@firebase/auth",T0="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function yM(t){Vs(new rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),J(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mS(t)},u=new zL(r,s,i,l);return WL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vs(new rs("auth-internal",e=>{const n=To(e.getProvider("auth").getImmediate());return(r=>new gM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(S0,T0,vM(t)),Vn(S0,T0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=5*60,EM=j1("authIdTokenMaxAge")||wM;let k0=null;const xM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EM)return;const s=n==null?void 0:n.token;k0!==s&&(k0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _M(t=sg()){const e=fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HL(t,{popupRedirectResolver:mM,persistence:[k$,p$,IS]}),r=j1("authTokenSyncURL");if(r){const i=xM(r);l$(n,i,()=>i(n.currentUser)),a$(n,o=>i(o))}const s=A1("auth");return s&&qL(n,`http://${s}`),n}yM("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebasestorage.googleapis.com",PS="storageBucket",CM=2*60*1e3,SM=10*60*1e3,TM=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me extends Yn{constructor(e,n,r=0){super(rf(e),`Firebase Storage: ${n} (${rf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Me.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Re;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Re||(Re={}));function rf(t){return"storage/"+t}function dv(){const t="An unknown error occurred, please check the error payload for server response.";return new Me(Re.UNKNOWN,t)}function kM(t){return new Me(Re.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function IM(t){return new Me(Re.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function NM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Me(Re.UNAUTHENTICATED,t)}function RM(){return new Me(Re.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bM(t){return new Me(Re.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function LS(){return new Me(Re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $S(){return new Me(Re.CANCELED,"User canceled the upload/download.")}function AM(t){return new Me(Re.INVALID_URL,"Invalid URL '"+t+"'.")}function DM(t){return new Me(Re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jM(){return new Me(Re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PS+"' property when initializing the app?")}function MS(){return new Me(Re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OM(){return new Me(Re.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function PM(){return new Me(Re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function LM(t){return new Me(Re.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wp(t){return new Me(Re.INVALID_ARGUMENT,t)}function US(){return new Me(Re.APP_DELETED,"The Firebase app was deleted.")}function $M(t){return new Me(Re.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wa(t,e){return new Me(Re.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ho(t){throw new Me(Re.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Pt.makeFromUrl(e,n)}catch{return new Pt(e,"")}if(r.path==="")return r;throw DM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},g=n===OS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${g}/${s}/${E}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:m,indices:w,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<x.length;_++){const C=x[_],S=C.regex.exec(e);if(S){const T=S[C.indices.bucket];let k=S[C.indices.path];k||(k=""),r=new Pt(T,k),C.postModify(r);break}}if(r==null)throw AM(e);return r}}class MM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...E){u||(u=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(m,l())},E)}function p(){i&&clearTimeout(i)}function m(E,...v){if(u){p();return}if(E){p(),d.call(null,E,...v);return}if(l()||o){p(),d.call(null,E,...v);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let w=!1;function g(E){w||(w=!0,p(),!u&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function FM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){return t!==void 0}function VM(t){return typeof t=="function"}function zM(t){return typeof t=="object"&&!Array.isArray(t)}function Xd(t){return typeof t=="string"||t instanceof String}function I0(t){return hv()&&t instanceof Blob}function hv(){return typeof Blob<"u"&&!Qb()}function qp(t,e,n,r){if(r<e)throw Wp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Wp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function FS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Os;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Os||(Os={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n,r,s,i,o,a,l,u,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,w)=>{this.resolve_=m,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new gu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Os.NO_ERROR,l=i.getStatus();if(!a||BS(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Os.ABORT;r(!1,new gu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new gu(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());BM(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=dv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?US():$S();o(l)}else{const l=LS();o(l)}};this.canceled_?n(!1,new gu(!1,null,!0)):this.backoffId_=UM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function WM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function QM(t,e,n,r,s,i,o=!0){const a=FS(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return KM(u,e),WM(u,n),qM(u,i),GM(u,r),new HM(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XM(...t){const e=YM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(hv())return new Blob(t);throw new Me(Re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function JM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t){if(typeof atob>"u")throw LM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sf{constructor(e,n){this.data=e,this.contentType=n||null}}function eU(t,e){switch(t){case Un.RAW:return new sf(VS(e));case Un.BASE64:case Un.BASE64URL:return new sf(zS(t,e));case Un.DATA_URL:return new sf(nU(e),rU(e))}throw dv()}function VS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function tU(t){let e;try{e=decodeURIComponent(t)}catch{throw wa(Un.DATA_URL,"Malformed data URL.")}return VS(e)}function zS(t,e){switch(t){case Un.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw wa(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Un.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw wa(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ZM(e)}catch(s){throw s.message.includes("polyfill")?s:wa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class HS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wa(Un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=sU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nU(t){const e=new HS(t);return e.base64?zS(Un.BASE64,e.rest):tU(e.rest)}function rU(t){return new HS(t).contentType}function sU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){let r=0,s="";I0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(I0(this.data_)){const r=this.data_,s=JM(r,e,n);return s===null?null:new Lr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Lr(r,!0)}}static getBlob(...e){if(hv()){const n=e.map(r=>r instanceof Lr?r.data_:r);return new Lr(XM.apply(null,n))}else{const n=e.map(o=>Xd(o)?eU(Un.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Lr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){let e;try{e=JSON.parse(t)}catch{return null}return zM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function oU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e){return e}class Dt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||aU}}let vu=null;function lU(t){return!Xd(t)||t.length<2?t:WS(t)}function qS(){if(vu)return vu;const t=[];t.push(new Dt("bucket")),t.push(new Dt("generation")),t.push(new Dt("metageneration")),t.push(new Dt("name","fullPath",!0));function e(i,o){return lU(o)}const n=new Dt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Dt("size");return s.xform=r,t.push(s),t.push(new Dt("timeCreated")),t.push(new Dt("updated")),t.push(new Dt("md5Hash",null,!0)),t.push(new Dt("cacheControl",null,!0)),t.push(new Dt("contentDisposition",null,!0)),t.push(new Dt("contentEncoding",null,!0)),t.push(new Dt("contentLanguage",null,!0)),t.push(new Dt("contentType",null,!0)),t.push(new Dt("metadata","customMetadata",!0)),vu=t,vu}function uU(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Pt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function cU(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return uU(r,t),r}function KS(t,e,n){const r=fv(e);return r===null?null:cU(t,r,n)}function dU(t,e,n,r){const s=fv(e);if(s===null||!Xd(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),m=ii(p,n,r),w=FS({alt:"media",token:u});return m+w})[0]}function GS(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="prefixes",R0="items";function hU(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[N0])for(const s of n[N0]){const i=s.replace(/\/$/,""),o=t._makeStorageReference(new Pt(e,i));r.prefixes.push(o)}if(n[R0])for(const s of n[R0]){const i=t._makeStorageReference(new Pt(e,s.name));r.items.push(i)}return r}function fU(t,e,n){const r=fv(n);return r===null?null:hU(t,e,r)}class ps{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t){if(!t)throw dv()}function pv(t,e){function n(r,s){const i=KS(t,s,e);return qn(i!==null),i}return n}function pU(t,e){function n(r,s){const i=fU(t,e,s);return qn(i!==null),i}return n}function mU(t,e){function n(r,s){const i=KS(t,s,e);return qn(i!==null),dU(i,s,t.host,t._protocol)}return n}function Io(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=RM():s=NM():n.getStatus()===402?s=IM(t.bucket):n.getStatus()===403?s=bM(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function mv(t){const e=Io(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=kM(t.path)),i.serverResponse=s.serverResponse,i}return n}function gU(t,e,n){const r=e.fullServerUrl(),s=ii(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new ps(s,i,pv(t,n),o);return a.errorHandler=mv(e),a}function vU(t,e,n,r,s){const i={};e.isRoot?i.prefix="":i.prefix=e.path+"/",n&&n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),s&&(i.maxResults=s);const o=e.bucketOnlyServerUrl(),a=ii(o,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,d=new ps(a,l,pU(t,e.bucket),u);return d.urlParams=i,d.errorHandler=Io(e),d}function yU(t,e,n){const r=e.fullServerUrl(),s=ii(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new ps(s,i,mU(t,n),o);return a.errorHandler=mv(e),a}function wU(t,e){const n=e.fullServerUrl(),r=ii(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,u){}const a=new ps(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=mv(e),a}function EU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QS(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=EU(null,e)),r}function xU(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let _=0;_<2;_++)x=x+Math.random().toString().slice(2);return x}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=QS(e,r,s),d=GS(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=Lr.getBlob(h,r,p);if(m===null)throw MS();const w={name:u.fullPath},g=ii(i,t.host,t._protocol),E="POST",v=t.maxUploadRetryTime,y=new ps(g,E,pv(t,n),v);return y.urlParams=w,y.headers=o,y.body=m.uploadData(),y.errorHandler=Io(e),y}class Vc{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function gv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{qn(!1)}return qn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function _U(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=QS(e,r,s),a={name:o.fullPath},l=ii(i,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=GS(o,n),p=t.maxUploadRetryTime;function m(g){gv(g);let E;try{E=g.getResponseHeader("X-Goog-Upload-URL")}catch{qn(!1)}return qn(Xd(E)),E}const w=new ps(l,u,m,p);return w.urlParams=a,w.headers=d,w.body=h,w.errorHandler=Io(e),w}function CU(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(u){const d=gv(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qn(!1)}h||qn(!1);const p=Number(h);return qn(!isNaN(p)),new Vc(p,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ps(n,o,i,a);return l.headers=s,l.errorHandler=Io(e),l}const b0=256*1024;function SU(t,e,n,r,s,i,o,a){const l=new Vc(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw OM();const u=l.total-l.current;let d=u;s>0&&(d=Math.min(d,s));const h=l.current,p=h+d;let m="";d===0?m="finalize":u===d?m="upload, finalize":m="upload";const w={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(h,p);if(g===null)throw MS();function E(_,C){const S=gv(_,["active","final"]),T=l.current+d,k=r.size();let P;return S==="final"?P=pv(e,i)(_,C):P=null,new Vc(T,k,S==="final",P)}const v="POST",y=e.maxUploadRetryTime,x=new ps(n,v,E,y);return x.headers=w,x.body=g.uploadData(),x.progressCallback=a||null,x.errorHandler=Io(t),x}const zt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function of(t){switch(t){case"running":case"pausing":case"canceling":return zt.RUNNING;case"paused":return zt.PAUSED;case"success":return zt.SUCCESS;case"canceled":return zt.CANCELED;case"error":return zt.ERROR;default:return zt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n,r){if(VM(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class kU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Os.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Os.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Os.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Ho("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ho("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ho("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ho("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ho("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class IU extends kU{initXhr(){this.xhr_.responseType="text"}}function $r(){return new IU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=qS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Re.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(BS(s.status,[]))if(i)s=LS();else{this.sleepTime=Math.max(this.sleepTime*2,TM),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Re.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=_U(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,$r,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=CU(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,$r,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=b0*this._chunkMultiplier,n=new Vc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=SU(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,$r,s,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){b0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=gU(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,$r,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=xU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,$r,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=$S(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=of(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new TU(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(of(this._state)){case zt.SUCCESS:hi(this._resolve.bind(null,this.snapshot))();break;case zt.CANCELED:case zt.ERROR:const n=this._reject;hi(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(of(this._state)){case zt.RUNNING:case zt.PAUSED:e.next&&hi(e.next.bind(e,this.snapshot))();break;case zt.SUCCESS:e.complete&&hi(e.complete.bind(e))();break;case zt.CANCELED:case zt.ERROR:e.error&&hi(e.error.bind(e,this._error))();break;default:e.error&&hi(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this._service=e,n instanceof Pt?this._location=n:this._location=Pt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gs(e,n)}get root(){const e=new Pt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WS(this._location.path)}get storage(){return this._service}get parent(){const e=iU(this._location.path);if(e===null)return null;const n=new Pt(this._location.bucket,e);return new Gs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $M(e)}}function RU(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new NU(t,new Lr(e),n)}function bU(t){const e={prefixes:[],items:[]};return YS(t,e).then(()=>e)}async function YS(t,e,n){const s=await AU(t,{pageToken:n});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&await YS(t,e,s.nextPageToken)}function AU(t,e){e!=null&&typeof e.maxResults=="number"&&qp("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=vU(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,$r)}function DU(t){t._throwIfRoot("getDownloadURL");const e=yU(t.storage,t._location,qS());return t.storage.makeRequestWithTokens(e,$r).then(n=>{if(n===null)throw PM();return n})}function jU(t){t._throwIfRoot("deleteObject");const e=wU(t.storage,t._location);return t.storage.makeRequestWithTokens(e,$r)}function OU(t,e){const n=oU(t._location.path,e),r=new Pt(t._location.bucket,n);return new Gs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){return/^[A-Za-z]+:\/\//.test(t)}function LU(t,e){return new Gs(t,e)}function XS(t,e){if(t instanceof vv){const n=t;if(n._bucket==null)throw jM();const r=new Gs(n,n._bucket);return e!=null?XS(r,e):r}else return e!==void 0?OU(t,e):t}function $U(t,e){if(e&&PU(e)){if(t instanceof vv)return LU(t,e);throw Wp("To use ref(service, url), the first argument must be a Storage instance.")}else return XS(t,e)}function A0(t,e){const n=e==null?void 0:e[PS];return n==null?null:Pt.makeFromBucketSpec(n,t)}function MU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:O1(s,t.app.options.projectId))}class vv{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=OS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CM,this._maxUploadRetryTime=SM,this._requests=new Set,s!=null?this._bucket=Pt.makeFromBucketSpec(s,this._host):this._bucket=A0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pt.makeFromBucketSpec(this._url,e):this._bucket=A0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gs(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new MM(US());{const o=QM(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const D0="@firebase/storage",j0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="storage";function No(t,e,n){return t=Oe(t),RU(t,e,n)}function Jd(t){return t=Oe(t),bU(t)}function Ro(t){return t=Oe(t),DU(t)}function Zd(t){return t=Oe(t),jU(t)}function Yt(t,e){return t=Oe(t),$U(t,e)}function UU(t=sg(),e){t=Oe(t);const r=fd(t,JS).getImmediate({identifier:e}),s=D1("storage");return s&&FU(r,...s),r}function FU(t,e,n,r={}){MU(t,e,n,r)}function BU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new vv(n,r,s,e,Zs)}function VU(){Vs(new rs(JS,BU,"PUBLIC").setMultipleInstances(!0)),Vn(D0,j0,""),Vn(D0,j0,"esm2017")}VU();const ys={REACT_APP_APIKEY:"AIzaSyDQjNAYcCzWWXDYTbud50dmtYLijy11EJ8",REACT_APP_AUTHDOMAIN:"nadyapokladsite.firebaseapp.com",REACT_APP_PROJECTID:"nadyapokladsite",REACT_APP_STORAGEBUCKET:"nadyapokladsite.appspot.com",REACT_APP_MESSAGINGSENDERID:743996143817,REACT_APP_APPID:"1:743996143817:web:ed17dc5da2d36688507518",REACT_APP_MESUREMENTID:"G-NHTQ5WCFL4"},zU={apiKey:ys.REACT_APP_APIKEY,authDomain:ys.REACT_APP_AUTHDOMAIN,projectId:ys.REACT_APP_PROJECTID,storageBucket:ys.REACT_APP_STORAGEBUCKET,messagingSenderId:ys.REACT_APP_MESSAGINGSENDERID,appId:ys.REACT_APP_APPID,measurementId:ys.REACT_APP_MESUREMENTID},yv=$1(zU),we=XP(yv),Xt=UU(yv),yu=_M(yv);var Kp={},HU={get exports(){return Kp},set exports(t){Kp=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var i=arguments[s];if(i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(o==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var l in i)e.call(i,l)&&i[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(HU);const Y=Kp;function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gp.apply(this,arguments)}function ZS(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function O0(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function WU(t){var e=qU(t,"string");return typeof e=="symbol"?e:String(e)}function qU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eT(t,e,n){var r=f.useRef(t!==void 0),s=f.useState(e),i=s[0],o=s[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&i!==e&&o(e),[a?t:i,f.useCallback(function(u){for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];n&&n.apply(void 0,[u].concat(h)),o(u)},[n])]}function bo(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,o=i[O0(r)],a=i[r],l=ZS(i,[O0(r),r].map(WU)),u=e[r],d=eT(a,o,t[u]),h=d[0],p=d[1];return Gp({},l,(s={},s[r]=h,s[u]=p,s))},t)}function Qp(t,e){return Qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Qp(t,e)}function KU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Qp(t,e)}const GU=["xxl","xl","lg","md","sm","xs"],QU="xs",eh=f.createContext({prefixes:{},breakpoints:GU,minBreakpoint:QU});function te(t,e){const{prefixes:n}=f.useContext(eh);return t||n[e]||e}function tT(){const{breakpoints:t}=f.useContext(eh);return t}function nT(){const{minBreakpoint:t}=f.useContext(eh);return t}function rT(){const{dir:t}=f.useContext(eh);return t==="rtl"}function Ll(t){return t&&t.ownerDocument||document}function YU(t){var e=Ll(t);return e&&e.defaultView||window}function XU(t,e){return YU(t).getComputedStyle(t,e)}var JU=/([A-Z])/g;function ZU(t){return t.replace(JU,"-$1").toLowerCase()}var eF=/^ms-/;function wu(t){return ZU(t).replace(eF,"-ms-")}var tF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function nF(t){return!!(t&&tF.test(t))}function lr(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(wu(e))||XU(t).getPropertyValue(wu(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?t.style.removeProperty(wu(s)):nF(s)?r+=s+"("+i+") ":n+=wu(s)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var St={},rF={get exports(){return St},set exports(t){St=t}},sF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iF=sF,oF=iF;function sT(){}function iT(){}iT.resetWarningCache=sT;var aF=function(){function t(r,s,i,o,a,l){if(l!==oF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iT,resetWarningCache:sT};return n.PropTypes=n,n};rF.exports=aF();const P0={disabled:!1},oT=nn.createContext(null);var lF=function(e){return e.scrollTop},sa="unmounted",Rr="exited",In="entering",tr="entered",rl="exiting",Cr=function(t){KU(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?a?(l=Rr,i.appearStatus=In):l=tr:r.unmountOnExit||r.mountOnEnter?l=sa:l=Rr,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===sa?{status:Rr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==In&&o!==tr&&(i=In):(o===In||o===tr)&&(i=rl)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===In){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ri.findDOMNode(this);o&&lF(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Rr&&this.setState({status:sa})},n.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,l=this.props.nodeRef?[a]:[Ri.findDOMNode(this),a],u=l[0],d=l[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!s&&!o||P0.disabled){this.safeSetState({status:tr},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:In},function(){i.props.onEntering(u,d),i.onTransitionEnd(p,function(){i.safeSetState({status:tr},function(){i.props.onEntered(u,d)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ri.findDOMNode(this);if(!i||P0.disabled){this.safeSetState({status:Rr},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:rl},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Rr},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Ri.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===sa)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=ZS(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nn.createElement(oT.Provider,{value:null},typeof o=="function"?o(s,a):nn.cloneElement(nn.Children.only(o),a))},e}(nn.Component);Cr.contextType=oT;Cr.propTypes={};function fi(){}Cr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fi,onEntering:fi,onEntered:fi,onExit:fi,onExiting:fi,onExited:fi};Cr.UNMOUNTED=sa;Cr.EXITED=Rr;Cr.ENTERING=In;Cr.ENTERED=tr;Cr.EXITING=rl;const uF=Cr,Ao=!!(typeof window<"u"&&window.document&&window.document.createElement);var Yp=!1,Xp=!1;try{var af={get passive(){return Yp=!0},get once(){return Xp=Yp=!0}};Ao&&(window.addEventListener("test",af,af),window.removeEventListener("test",af,!0))}catch{}function wv(t,e,n,r){if(r&&typeof r!="boolean"&&!Xp){var s=r.once,i=r.capture,o=n;!Xp&&s&&(o=n.__once||function a(l){this.removeEventListener(e,a,i),n.call(this,l)},n.__once=o),t.addEventListener(e,o,Yp?r:i)}t.addEventListener(e,n,r)}function Jp(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function Br(t,e,n,r){return wv(t,e,n,r),function(){Jp(t,e,n,r)}}function cF(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function dF(t){var e=lr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function hF(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||cF(t,"transitionend",!0)},e+n),i=Br(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),i()}}function aT(t,e,n,r){n==null&&(n=dF(t)||0);var s=hF(t,n,r),i=Br(t,"transitionend",e);return function(){s(),i()}}function L0(t,e){const n=lr(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Ev(t,e){const n=L0(t,"transitionDuration"),r=L0(t,"transitionDelay"),s=aT(t,i=>{i.target===t&&(s(),e(i))},n+r)}function Wo(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...s){e.apply(this,s),n.apply(this,s)}},null)}function lT(t){t.offsetHeight}var $0=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function fF(t,e){var n=$0(t),r=$0(e);return function(s){n&&n(s),r&&r(s)}}function oi(t,e){return f.useMemo(function(){return fF(t,e)},[t,e])}function pF(t){return t&&"setState"in t?Ri.findDOMNode(t):t??null}const mF=nn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:i,addEndListener:o,children:a,childRef:l,...u},d)=>{const h=f.useRef(null),p=oi(h,l),m=S=>{p(pF(S))},w=S=>T=>{S&&h.current&&S(h.current,T)},g=f.useCallback(w(t),[t]),E=f.useCallback(w(e),[e]),v=f.useCallback(w(n),[n]),y=f.useCallback(w(r),[r]),x=f.useCallback(w(s),[s]),_=f.useCallback(w(i),[i]),C=f.useCallback(w(o),[o]);return c.jsx(uF,{ref:d,...u,onEnter:g,onEntered:v,onEntering:E,onExit:y,onExited:_,onExiting:x,addEndListener:C,nodeRef:h,children:typeof a=="function"?(S,T)=>a(S,{...T,ref:m}):nn.cloneElement(a,{ref:m})})}),xv=mF,gF={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function vF(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],s=gF[t];return r+parseInt(lr(e,s[0]),10)+parseInt(lr(e,s[1]),10)}const yF={[Rr]:"collapse",[rl]:"collapsing",[In]:"collapsing",[tr]:"collapse show"},wF=nn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,className:i,children:o,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:d=!1,unmountOnExit:h=!1,appear:p=!1,getDimensionValue:m=vF,...w},g)=>{const E=typeof a=="function"?a():a,v=f.useMemo(()=>Wo(S=>{S.style[E]="0"},t),[E,t]),y=f.useMemo(()=>Wo(S=>{const T=`scroll${E[0].toUpperCase()}${E.slice(1)}`;S.style[E]=`${S[T]}px`},e),[E,e]),x=f.useMemo(()=>Wo(S=>{S.style[E]=null},n),[E,n]),_=f.useMemo(()=>Wo(S=>{S.style[E]=`${m(E,S)}px`,lT(S)},r),[r,m,E]),C=f.useMemo(()=>Wo(S=>{S.style[E]=null},s),[E,s]);return c.jsx(xv,{ref:g,addEndListener:Ev,...w,"aria-expanded":w.role?l:null,onEnter:v,onEntering:y,onEntered:x,onExit:_,onExiting:C,childRef:o.ref,in:l,timeout:u,mountOnEnter:d,unmountOnExit:h,appear:p,children:(S,T)=>nn.cloneElement(o,{...T,className:Y(i,o.props.className,yF[S],E==="width"&&"collapse-horizontal")})})}),uT=wF;function cT(t,e){return Array.isArray(t)?t.includes(e):t===e}const dT=f.createContext({});dT.displayName="AccordionContext";const th=dT,hT=f.forwardRef(({as:t="div",bsPrefix:e,className:n,children:r,eventKey:s,...i},o)=>{const{activeEventKey:a}=f.useContext(th);return e=te(e,"accordion-collapse"),c.jsx(uT,{ref:o,in:cT(a,s),...i,className:Y(n,e),children:c.jsx(t,{children:f.Children.only(r)})})});hT.displayName="AccordionCollapse";const fT=hT,pT=f.createContext({eventKey:""});pT.displayName="AccordionItemContext";const _v=pT,mT=f.forwardRef(({as:t="div",bsPrefix:e,className:n,onEnter:r,onEntering:s,onEntered:i,onExit:o,onExiting:a,onExited:l,...u},d)=>{e=te(e,"accordion-body");const{eventKey:h}=f.useContext(_v);return c.jsx(fT,{eventKey:h,onEnter:r,onEntering:s,onEntered:i,onExit:o,onExiting:a,onExited:l,children:c.jsx(t,{ref:d,...u,className:Y(n,e)})})});mT.displayName="AccordionBody";const EF=mT;function xF(t,e){const{activeEventKey:n,onSelect:r,alwaysOpen:s}=f.useContext(th);return i=>{let o=t===n?null:t;s&&(Array.isArray(n)?n.includes(t)?o=n.filter(a=>a!==t):o=[...n,t]:o=[t]),r==null||r(o,i),e==null||e(i)}}const gT=f.forwardRef(({as:t="button",bsPrefix:e,className:n,onClick:r,...s},i)=>{e=te(e,"accordion-button");const{eventKey:o}=f.useContext(_v),a=xF(o,r),{activeEventKey:l}=f.useContext(th);return t==="button"&&(s.type="button"),c.jsx(t,{ref:i,onClick:a,...s,"aria-expanded":Array.isArray(l)?l.includes(o):o===l,className:Y(n,e,!cT(l,o)&&"collapsed")})});gT.displayName="AccordionButton";const vT=gT,yT=f.forwardRef(({as:t="h2",bsPrefix:e,className:n,children:r,onClick:s,...i},o)=>(e=te(e,"accordion-header"),c.jsx(t,{ref:o,...i,className:Y(n,e),children:c.jsx(vT,{onClick:s,children:r})})));yT.displayName="AccordionHeader";const _F=yT,wT=f.forwardRef(({as:t="div",bsPrefix:e,className:n,eventKey:r,...s},i)=>{e=te(e,"accordion-item");const o=f.useMemo(()=>({eventKey:r}),[r]);return c.jsx(_v.Provider,{value:o,children:c.jsx(t,{ref:i,...s,className:Y(n,e)})})});wT.displayName="AccordionItem";const CF=wT,ET=f.forwardRef((t,e)=>{const{as:n="div",activeKey:r,bsPrefix:s,className:i,onSelect:o,flush:a,alwaysOpen:l,...u}=bo(t,{activeKey:"onSelect"}),d=te(s,"accordion"),h=f.useMemo(()=>({activeEventKey:r,onSelect:o,alwaysOpen:l}),[r,o,l]);return c.jsx(th.Provider,{value:h,children:c.jsx(n,{ref:e,...u,className:Y(i,d,a&&`${d}-flush`)})})});ET.displayName="Accordion";const Eu=Object.assign(ET,{Button:vT,Collapse:fT,Item:CF,Header:_F,Body:EF});function SF(t){var e=f.useRef(t);return f.useEffect(function(){e.current=t},[t]),e}function je(t){var e=SF(t);return f.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}function xT(){return f.useState(null)}function TF(t,e,n,r){r===void 0&&(r=!1);var s=je(n);f.useEffect(function(){var i=typeof t=="function"?t():t;return i.addEventListener(e,s,r),function(){return i.removeEventListener(e,s,r)}},[t])}function _T(){var t=f.useRef(!0),e=f.useRef(function(){return t.current});return f.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function CT(t){var e=f.useRef(null);return f.useEffect(function(){e.current=t}),e.current}var kF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",IF=typeof document<"u";const zc=IF||kF?f.useLayoutEffect:f.useEffect,NF=["as","disabled"];function RF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function bF(t){return!t||t.trim()==="#"}function Cv({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||s!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const d=p=>{if((e||t==="a"&&bF(n))&&p.preventDefault(),e){p.stopPropagation();return}o==null||o(p)},h=p=>{p.key===" "&&(p.preventDefault(),d(p))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:d,onKeyDown:h},u]}const Sv=f.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=RF(t,NF);const[i,{tagName:o}]=Cv(Object.assign({tagName:n,disabled:r},s));return c.jsx(o,Object.assign({},s,i,{ref:e}))});Sv.displayName="Button";const AF=["onKeyDown"];function DF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function jF(t){return!t||t.trim()==="#"}const ST=f.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=DF(t,AF);const[s]=Cv(Object.assign({tagName:"a"},r)),i=je(o=>{s.onKeyDown(o),n==null||n(o)});return jF(r.href)||r.role==="button"?c.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:i})):c.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});ST.displayName="Anchor";const Tv=ST,OF={[In]:"show",[tr]:"show"},TT=f.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},i)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},a=f.useCallback((l,u)=>{lT(l),r==null||r(l,u)},[r]);return c.jsx(xv,{ref:i,addEndListener:Ev,...o,onEnter:a,childRef:e.ref,children:(l,u)=>f.cloneElement(e,{...u,className:Y("fade",t,e.props.className,OF[l],n[l])})})});TT.displayName="Fade";const sl=TT,PF={"aria-label":St.string,onClick:St.func,variant:St.oneOf(["white"])},kv=f.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>c.jsx("button",{ref:s,type:"button",className:Y("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));kv.displayName="CloseButton";kv.propTypes=PF;const kT=kv,$l=t=>f.forwardRef((e,n)=>c.jsx("div",{...e,ref:n,className:Y(e.className,t)}));var LF=/-(.)/g;function $F(t){return t.replace(LF,function(e,n){return n.toUpperCase()})}const MF=t=>t[0].toUpperCase()+$F(t).slice(1);function Ue(t,{displayName:e=MF(t),Component:n,defaultProps:r}={}){const s=f.forwardRef(({className:i,bsPrefix:o,as:a=n||"div",...l},u)=>{const d={...r,...l},h=te(o,t);return c.jsx(a,{ref:u,className:Y(i,h),...d})});return s.displayName=e,s}const IT=$l("h4");IT.displayName="DivStyledAsH4";const UF=Ue("alert-heading",{Component:IT}),FF=Ue("alert-link",{Component:Tv}),NT=f.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:s="Close alert",closeVariant:i,className:o,children:a,variant:l="primary",onClose:u,dismissible:d,transition:h=sl,...p}=bo(t,{show:"onClose"}),m=te(n,"alert"),w=je(v=>{u&&u(!1,v)}),g=h===!0?sl:h,E=c.jsxs("div",{role:"alert",...g?void 0:p,ref:e,className:Y(o,m,l&&`${m}-${l}`,d&&`${m}-dismissible`),children:[d&&c.jsx(kT,{onClick:w,"aria-label":s,variant:i}),a]});return g?c.jsx(g,{unmountOnExit:!0,...p,ref:void 0,in:r,children:E}):r?E:null});NT.displayName="Alert";const RT=Object.assign(NT,{Link:FF,Heading:UF}),bT=f.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:o,...a},l)=>{const u=te(e,"btn"),[d,{tagName:h}]=Cv({tagName:t,disabled:i,...a}),p=h;return c.jsx(p,{...d,...a,ref:l,disabled:i,className:Y(o,u,s&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&i&&"disabled")})});bT.displayName="Button";const fe=bT,AT=f.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...s},i)=>{const o=te(t,"card-img");return c.jsx(r,{ref:i,className:Y(n?`${o}-${n}`:o,e),...s})});AT.displayName="CardImg";const BF=AT,DT=f.createContext(null);DT.displayName="CardHeaderContext";const jT=DT,OT=f.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=te(t,"card-header"),o=f.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return c.jsx(jT.Provider,{value:o,children:c.jsx(n,{ref:s,...r,className:Y(e,i)})})});OT.displayName="CardHeader";const VF=OT,zF=$l("h5"),HF=$l("h6"),PT=Ue("card-body"),WF=Ue("card-title",{Component:zF}),qF=Ue("card-subtitle",{Component:HF}),KF=Ue("card-link",{Component:"a"}),GF=Ue("card-text",{Component:"p"}),QF=Ue("card-footer"),YF=Ue("card-img-overlay"),LT=f.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:s,body:i=!1,children:o,as:a="div",...l},u)=>{const d=te(t,"card");return c.jsx(a,{ref:u,...l,className:Y(e,d,n&&`bg-${n}`,r&&`text-${r}`,s&&`border-${s}`),children:i?c.jsx(PT,{children:o}):o})});LT.displayName="Card";const K=Object.assign(LT,{Img:BF,Title:WF,Subtitle:qF,Body:PT,Link:KF,Text:GF,Header:VF,Footer:QF,ImgOverlay:YF}),XF=Ue("card-group");function JF(t){var e=f.useRef(t);return e.current=t,e}function $T(t){var e=JF(t);f.useEffect(function(){return function(){return e.current()}},[])}function ZF(t,e){return f.Children.toArray(t).some(n=>f.isValidElement(n)&&n.type===e)}function e2({as:t,bsPrefix:e,className:n,...r}){e=te(e,"col");const s=tT(),i=nT(),o=[],a=[];return s.forEach(l=>{const u=r[l];delete r[l];let d,h,p;typeof u=="object"&&u!=null?{span:d,offset:h,order:p}=u:d=u;const m=l!==i?`-${l}`:"";d&&o.push(d===!0?`${e}${m}`:`${e}${m}-${d}`),p!=null&&a.push(`order${m}-${p}`),h!=null&&a.push(`offset${m}-${h}`)}),[{...r,className:Y(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const MT=f.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:o}]=e2(t);return c.jsx(s,{...r,ref:e,className:Y(n,!o.length&&i)})});MT.displayName="Col";const F=MT;var t2=Function.prototype.bind.call(Function.prototype.call,[].slice);function er(t,e){return t2(t.querySelectorAll(e))}function UT(){var t=f.useReducer(function(n){return!n},!1),e=t[1];return e}const n2=f.createContext(null),nh=n2;var M0=Object.prototype.hasOwnProperty;function U0(t,e,n){for(n of t.keys())if(Ea(n,e))return n}function Ea(t,e){var n,r,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Ea(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(s=r,s&&typeof s=="object"&&(s=U0(e,s),!s)||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(s=r[0],s&&typeof s=="object"&&(s=U0(e,s),!s)||!Ea(r[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(M0.call(t,n)&&++r&&!M0.call(e,n)||!(n in e)||!Ea(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function r2(t){var e=_T();return[t[0],f.useCallback(function(n){if(e())return t[1](n)},[e,t[1]])]}var Jt="top",xn="bottom",_n="right",Zt="left",Iv="auto",Ml=[Jt,xn,_n,Zt],io="start",il="end",s2="clippingParents",FT="viewport",qo="popper",i2="reference",F0=Ml.reduce(function(t,e){return t.concat([e+"-"+io,e+"-"+il])},[]),BT=[].concat(Ml,[Iv]).reduce(function(t,e){return t.concat([e,e+"-"+io,e+"-"+il])},[]),o2="beforeRead",a2="read",l2="afterRead",u2="beforeMain",c2="main",d2="afterMain",h2="beforeWrite",f2="write",p2="afterWrite",m2=[o2,a2,l2,u2,c2,d2,h2,f2,p2];function Kn(t){return t.split("-")[0]}function cn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qs(t){var e=cn(t).Element;return t instanceof e||t instanceof Element}function Gn(t){var e=cn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Nv(t){if(typeof ShadowRoot>"u")return!1;var e=cn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Ps=Math.max,Hc=Math.min,oo=Math.round;function Zp(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function VT(){return!/^((?!chrome|android).)*safari/i.test(Zp())}function ao(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Gn(t)&&(s=t.offsetWidth>0&&oo(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&oo(r.height)/t.offsetHeight||1);var o=Qs(t)?cn(t):window,a=o.visualViewport,l=!VT()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/s,d=(r.top+(l&&a?a.offsetTop:0))/i,h=r.width/s,p=r.height/i;return{width:h,height:p,top:d,right:u+h,bottom:d+p,left:u,x:u,y:d}}function Rv(t){var e=ao(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function zT(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Nv(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function as(t){return t?(t.nodeName||"").toLowerCase():null}function yr(t){return cn(t).getComputedStyle(t)}function g2(t){return["table","td","th"].indexOf(as(t))>=0}function ms(t){return((Qs(t)?t.ownerDocument:t.document)||window.document).documentElement}function rh(t){return as(t)==="html"?t:t.assignedSlot||t.parentNode||(Nv(t)?t.host:null)||ms(t)}function B0(t){return!Gn(t)||yr(t).position==="fixed"?null:t.offsetParent}function v2(t){var e=/firefox/i.test(Zp()),n=/Trident/i.test(Zp());if(n&&Gn(t)){var r=yr(t);if(r.position==="fixed")return null}var s=rh(t);for(Nv(s)&&(s=s.host);Gn(s)&&["html","body"].indexOf(as(s))<0;){var i=yr(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Ul(t){for(var e=cn(t),n=B0(t);n&&g2(n)&&yr(n).position==="static";)n=B0(n);return n&&(as(n)==="html"||as(n)==="body"&&yr(n).position==="static")?e:n||v2(t)||e}function bv(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function xa(t,e,n){return Ps(t,Hc(e,n))}function y2(t,e,n){var r=xa(t,e,n);return r>n?n:r}function HT(){return{top:0,right:0,bottom:0,left:0}}function WT(t){return Object.assign({},HT(),t)}function qT(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var w2=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,WT(typeof e!="number"?e:qT(e,Ml))};function E2(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Kn(n.placement),l=bv(a),u=[Zt,_n].indexOf(a)>=0,d=u?"height":"width";if(!(!i||!o)){var h=w2(s.padding,n),p=Rv(i),m=l==="y"?Jt:Zt,w=l==="y"?xn:_n,g=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],E=o[l]-n.rects.reference[l],v=Ul(i),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,x=g/2-E/2,_=h[m],C=y-p[d]-h[w],S=y/2-p[d]/2+x,T=xa(_,S,C),k=l;n.modifiersData[r]=(e={},e[k]=T,e.centerOffset=T-S,e)}}function x2(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||zT(e.elements.popper,s)&&(e.elements.arrow=s))}const _2={name:"arrow",enabled:!0,phase:"main",fn:E2,effect:x2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lo(t){return t.split("-")[1]}var C2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function S2(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:oo(n*s)/s||0,y:oo(r*s)/s||0}}function V0(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,p=o.x,m=p===void 0?0:p,w=o.y,g=w===void 0?0:w,E=typeof d=="function"?d({x:m,y:g}):{x:m,y:g};m=E.x,g=E.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),x=Zt,_=Jt,C=window;if(u){var S=Ul(n),T="clientHeight",k="clientWidth";if(S===cn(n)&&(S=ms(n),yr(S).position!=="static"&&a==="absolute"&&(T="scrollHeight",k="scrollWidth")),S=S,s===Jt||(s===Zt||s===_n)&&i===il){_=xn;var P=h&&S===C&&C.visualViewport?C.visualViewport.height:S[T];g-=P-r.height,g*=l?1:-1}if(s===Zt||(s===Jt||s===xn)&&i===il){x=_n;var D=h&&S===C&&C.visualViewport?C.visualViewport.width:S[k];m-=D-r.width,m*=l?1:-1}}var L=Object.assign({position:a},u&&C2),M=d===!0?S2({x:m,y:g},cn(n)):{x:m,y:g};if(m=M.x,g=M.y,l){var q;return Object.assign({},L,(q={},q[_]=y?"0":"",q[x]=v?"0":"",q.transform=(C.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",q))}return Object.assign({},L,(e={},e[_]=y?g+"px":"",e[x]=v?m+"px":"",e.transform="",e))}function T2(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Kn(e.placement),variation:lo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,V0(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,V0(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const k2={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:T2,data:{}};var xu={passive:!0};function I2(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=cn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",n.update,xu)}),a&&l.addEventListener("resize",n.update,xu),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",n.update,xu)}),a&&l.removeEventListener("resize",n.update,xu)}}const N2={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:I2,data:{}};var R2={left:"right",right:"left",bottom:"top",top:"bottom"};function zu(t){return t.replace(/left|right|bottom|top/g,function(e){return R2[e]})}var b2={start:"end",end:"start"};function z0(t){return t.replace(/start|end/g,function(e){return b2[e]})}function Av(t){var e=cn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Dv(t){return ao(ms(t)).left+Av(t).scrollLeft}function A2(t,e){var n=cn(t),r=ms(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var u=VT();(u||!u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+Dv(t),y:l}}function D2(t){var e,n=ms(t),r=Av(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Ps(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ps(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+Dv(t),l=-r.scrollTop;return yr(s||n).direction==="rtl"&&(a+=Ps(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function jv(t){var e=yr(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function KT(t){return["html","body","#document"].indexOf(as(t))>=0?t.ownerDocument.body:Gn(t)&&jv(t)?t:KT(rh(t))}function _a(t,e){var n;e===void 0&&(e=[]);var r=KT(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=cn(r),o=s?[i].concat(i.visualViewport||[],jv(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(_a(rh(o)))}function em(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function j2(t,e){var n=ao(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function H0(t,e,n){return e===FT?em(A2(t,n)):Qs(e)?j2(e,n):em(D2(ms(t)))}function O2(t){var e=_a(rh(t)),n=["absolute","fixed"].indexOf(yr(t).position)>=0,r=n&&Gn(t)?Ul(t):t;return Qs(r)?e.filter(function(s){return Qs(s)&&zT(s,r)&&as(s)!=="body"}):[]}function P2(t,e,n,r){var s=e==="clippingParents"?O2(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,u){var d=H0(t,u,r);return l.top=Ps(d.top,l.top),l.right=Hc(d.right,l.right),l.bottom=Hc(d.bottom,l.bottom),l.left=Ps(d.left,l.left),l},H0(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function GT(t){var e=t.reference,n=t.element,r=t.placement,s=r?Kn(r):null,i=r?lo(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case Jt:l={x:o,y:e.y-n.height};break;case xn:l={x:o,y:e.y+e.height};break;case _n:l={x:e.x+e.width,y:a};break;case Zt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=s?bv(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case io:l[u]=l[u]-(e[d]/2-n[d]/2);break;case il:l[u]=l[u]+(e[d]/2-n[d]/2);break}}return l}function ol(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?s2:a,u=n.rootBoundary,d=u===void 0?FT:u,h=n.elementContext,p=h===void 0?qo:h,m=n.altBoundary,w=m===void 0?!1:m,g=n.padding,E=g===void 0?0:g,v=WT(typeof E!="number"?E:qT(E,Ml)),y=p===qo?i2:qo,x=t.rects.popper,_=t.elements[w?y:p],C=P2(Qs(_)?_:_.contextElement||ms(t.elements.popper),l,d,o),S=ao(t.elements.reference),T=GT({reference:S,element:x,strategy:"absolute",placement:s}),k=em(Object.assign({},x,T)),P=p===qo?k:S,D={top:C.top-P.top+v.top,bottom:P.bottom-C.bottom+v.bottom,left:C.left-P.left+v.left,right:P.right-C.right+v.right},L=t.modifiersData.offset;if(p===qo&&L){var M=L[s];Object.keys(D).forEach(function(q){var V=[_n,xn].indexOf(q)>=0?1:-1,ie=[Jt,xn].indexOf(q)>=0?"y":"x";D[q]+=M[ie]*V})}return D}function L2(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?BT:l,d=lo(r),h=d?a?F0:F0.filter(function(w){return lo(w)===d}):Ml,p=h.filter(function(w){return u.indexOf(w)>=0});p.length===0&&(p=h);var m=p.reduce(function(w,g){return w[g]=ol(t,{placement:g,boundary:s,rootBoundary:i,padding:o})[Kn(g)],w},{});return Object.keys(m).sort(function(w,g){return m[w]-m[g]})}function $2(t){if(Kn(t)===Iv)return[];var e=zu(t);return[z0(t),e,z0(e)]}function M2(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,w=m===void 0?!0:m,g=n.allowedAutoPlacements,E=e.options.placement,v=Kn(E),y=v===E,x=l||(y||!w?[zu(E)]:$2(E)),_=[E].concat(x).reduce(function(ae,ue){return ae.concat(Kn(ue)===Iv?L2(e,{placement:ue,boundary:d,rootBoundary:h,padding:u,flipVariations:w,allowedAutoPlacements:g}):ue)},[]),C=e.rects.reference,S=e.rects.popper,T=new Map,k=!0,P=_[0],D=0;D<_.length;D++){var L=_[D],M=Kn(L),q=lo(L)===io,V=[Jt,xn].indexOf(M)>=0,ie=V?"width":"height",Z=ol(e,{placement:L,boundary:d,rootBoundary:h,altBoundary:p,padding:u}),Q=V?q?_n:Zt:q?xn:Jt;C[ie]>S[ie]&&(Q=zu(Q));var I=zu(Q),b=[];if(i&&b.push(Z[M]<=0),a&&b.push(Z[Q]<=0,Z[I]<=0),b.every(function(ae){return ae})){P=L,k=!1;break}T.set(L,b)}if(k)for(var R=w?3:1,z=function(ue){var pe=_.find(function(rt){var He=T.get(rt);if(He)return He.slice(0,ue).every(function(Ut){return Ut})});if(pe)return P=pe,"break"},H=R;H>0;H--){var le=z(H);if(le==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const U2={name:"flip",enabled:!0,phase:"main",fn:M2,requiresIfExists:["offset"],data:{_skip:!1}};function W0(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function q0(t){return[Jt,_n,xn,Zt].some(function(e){return t[e]>=0})}function F2(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=ol(e,{elementContext:"reference"}),a=ol(e,{altBoundary:!0}),l=W0(o,r),u=W0(a,s,i),d=q0(l),h=q0(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const B2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:F2};function V2(t,e,n){var r=Kn(t),s=[Zt,Jt].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[Zt,_n].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function z2(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=BT.reduce(function(d,h){return d[h]=V2(h,e.rects,i),d},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const H2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:z2};function W2(t){var e=t.state,n=t.name;e.modifiersData[n]=GT({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const q2={name:"popperOffsets",enabled:!0,phase:"read",fn:W2,data:{}};function K2(t){return t==="x"?"y":"x"}function G2(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.padding,p=n.tether,m=p===void 0?!0:p,w=n.tetherOffset,g=w===void 0?0:w,E=ol(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:d}),v=Kn(e.placement),y=lo(e.placement),x=!y,_=bv(v),C=K2(_),S=e.modifiersData.popperOffsets,T=e.rects.reference,k=e.rects.popper,P=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,D=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(S){if(i){var q,V=_==="y"?Jt:Zt,ie=_==="y"?xn:_n,Z=_==="y"?"height":"width",Q=S[_],I=Q+E[V],b=Q-E[ie],R=m?-k[Z]/2:0,z=y===io?T[Z]:k[Z],H=y===io?-k[Z]:-T[Z],le=e.elements.arrow,ae=m&&le?Rv(le):{width:0,height:0},ue=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:HT(),pe=ue[V],rt=ue[ie],He=xa(0,T[Z],ae[Z]),Ut=x?T[Z]/2-R-He-pe-D.mainAxis:z-He-pe-D.mainAxis,Ft=x?-T[Z]/2+R+He+rt+D.mainAxis:H+He+rt+D.mainAxis,Bt=e.elements.arrow&&Ul(e.elements.arrow),bt=Bt?_==="y"?Bt.clientTop||0:Bt.clientLeft||0:0,At=(q=L==null?void 0:L[_])!=null?q:0,ve=Q+Ut-At-bt,Ee=Q+Ft-At,en=xa(m?Hc(I,ve):I,Q,m?Ps(b,Ee):b);S[_]=en,M[_]=en-Q}if(a){var fn,vs=_==="x"?Jt:Zt,Ce=_==="x"?xn:_n,lt=S[C],ut=C==="y"?"height":"width",ui=lt+E[vs],Sr=lt-E[Ce],ci=[Jt,Zt].indexOf(v)!==-1,oe=(fn=L==null?void 0:L[C])!=null?fn:0,Xn=ci?ui:lt-T[ut]-k[ut]-oe+D.altAxis,Oo=ci?lt+T[ut]+k[ut]-oe-D.altAxis:Sr,Hv=m&&ci?y2(Xn,lt,Oo):xa(m?Xn:ui,lt,m?Oo:Sr);S[C]=Hv,M[C]=Hv-lt}e.modifiersData[r]=M}}const Q2={name:"preventOverflow",enabled:!0,phase:"main",fn:G2,requiresIfExists:["offset"]};function Y2(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function X2(t){return t===cn(t)||!Gn(t)?Av(t):Y2(t)}function J2(t){var e=t.getBoundingClientRect(),n=oo(e.width)/t.offsetWidth||1,r=oo(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Z2(t,e,n){n===void 0&&(n=!1);var r=Gn(e),s=Gn(e)&&J2(e),i=ms(e),o=ao(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((as(e)!=="body"||jv(i))&&(a=X2(e)),Gn(e)?(l=ao(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=Dv(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function eB(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function tB(t){var e=eB(t);return m2.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function nB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function rB(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var K0={placement:"bottom",modifiers:[],strategy:"absolute"};function G0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function sB(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?K0:s;return function(a,l,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},K0,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],p=!1,m={state:d,setOptions:function(v){var y=typeof v=="function"?v(d.options):v;g(),d.options=Object.assign({},i,d.options,y),d.scrollParents={reference:Qs(a)?_a(a):a.contextElement?_a(a.contextElement):[],popper:_a(l)};var x=tB(rB([].concat(r,d.options.modifiers)));return d.orderedModifiers=x.filter(function(_){return _.enabled}),w(),m.update()},forceUpdate:function(){if(!p){var v=d.elements,y=v.reference,x=v.popper;if(G0(y,x)){d.rects={reference:Z2(y,Ul(x),d.options.strategy==="fixed"),popper:Rv(x)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(D){return d.modifiersData[D.name]=Object.assign({},D.data)});for(var _=0;_<d.orderedModifiers.length;_++){if(d.reset===!0){d.reset=!1,_=-1;continue}var C=d.orderedModifiers[_],S=C.fn,T=C.options,k=T===void 0?{}:T,P=C.name;typeof S=="function"&&(d=S({state:d,options:k,name:P,instance:m})||d)}}}},update:nB(function(){return new Promise(function(E){m.forceUpdate(),E(d)})}),destroy:function(){g(),p=!0}};if(!G0(a,l))return m;m.setOptions(u).then(function(E){!p&&u.onFirstUpdate&&u.onFirstUpdate(E)});function w(){d.orderedModifiers.forEach(function(E){var v=E.name,y=E.options,x=y===void 0?{}:y,_=E.effect;if(typeof _=="function"){var C=_({state:d,name:v,instance:m,options:x}),S=function(){};h.push(C||S)}})}function g(){h.forEach(function(E){return E()}),h=[]}return m}}const iB=sB({defaultModifiers:[B2,q2,k2,N2,H2,U2,Q2,_2]}),oB=["enabled","placement","strategy","modifiers"];function aB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}const lB={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},uB={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,s=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&s==="tooltip"&&"setAttribute"in r){const i=r.getAttribute("aria-describedby");if(i&&i.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",i?`${i},${n.id}`:n.id)}}},cB=[];function dB(t,e,n={}){let{enabled:r=!0,placement:s="bottom",strategy:i="absolute",modifiers:o=cB}=n,a=aB(n,oB);const l=f.useRef(o),u=f.useRef(),d=f.useCallback(()=>{var E;(E=u.current)==null||E.update()},[]),h=f.useCallback(()=>{var E;(E=u.current)==null||E.forceUpdate()},[]),[p,m]=r2(f.useState({placement:s,update:d,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),w=f.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:E})=>{const v={},y={};Object.keys(E.elements).forEach(x=>{v[x]=E.styles[x],y[x]=E.attributes[x]}),m({state:E,styles:v,attributes:y,update:d,forceUpdate:h,placement:E.placement})}}),[d,h,m]),g=f.useMemo(()=>(Ea(l.current,o)||(l.current=o),l.current),[o]);return f.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:s,strategy:i,modifiers:[...g,w,lB]})},[i,s,w,r,g]),f.useEffect(()=>{if(!(!r||t==null||e==null))return u.current=iB(t,e,Object.assign({},a,{placement:s,strategy:i,modifiers:[...g,uB,w]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,m(E=>Object.assign({},E,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),p}function Wc(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const Q0=()=>{};function hB(t){return t.button===0}function fB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const lf=t=>t&&("current"in t?t.current:t),Y0={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function pB(t,e=Q0,{disabled:n,clickTrigger:r="click"}={}){const s=f.useRef(!1),i=f.useRef(!1),o=f.useCallback(u=>{const d=lf(t);s.current=!d||fB(u)||!hB(u)||!!Wc(d,u.target)||i.current,i.current=!1},[t]),a=je(u=>{const d=lf(t);d&&Wc(d,u.target)&&(i.current=!0)}),l=je(u=>{s.current||e(u)});f.useEffect(()=>{if(n||t==null)return;const u=Ll(lf(t));let d=(u.defaultView||window).event,h=null;Y0[r]&&(h=Br(u,Y0[r],a,!0));const p=Br(u,r,o,!0),m=Br(u,r,g=>{if(g===d){d=void 0;return}l(g)});let w=[];return"ontouchstart"in u.documentElement&&(w=[].slice.call(u.body.children).map(g=>Br(g,"mousemove",Q0))),()=>{h==null||h(),p(),m(),w.forEach(g=>g())}},[t,n,r,o,a,l])}function mB(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function gB(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function vB({enabled:t,enableEvents:e,placement:n,flip:r,offset:s,fixed:i,containerPadding:o,arrowElement:a,popperConfig:l={}}){var u,d,h,p,m;const w=mB(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:i?"fixed":l.strategy,modifiers:gB(Object.assign({},w,{eventListeners:{enabled:e,options:(u=w.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},w.preventOverflow,{options:o?Object.assign({padding:o},(d=w.preventOverflow)==null?void 0:d.options):(h=w.preventOverflow)==null?void 0:h.options}),offset:{options:Object.assign({offset:s},(p=w.offset)==null?void 0:p.options)},arrow:Object.assign({},w.arrow,{enabled:!!a,options:Object.assign({},(m=w.arrow)==null?void 0:m.options,{element:a})}),flip:Object.assign({enabled:!!r},w.flip)}))})}const yB=["children"];function wB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}const EB=()=>{};function QT(t={}){const e=f.useContext(nh),[n,r]=xT(),s=f.useRef(!1),{flip:i,offset:o,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:d={},enableEventListeners:h=!0,usePopper:p=!!e}=t,m=(e==null?void 0:e.show)==null?!!t.show:e.show;m&&!s.current&&(s.current=!0);const w=S=>{e==null||e.toggle(!1,S)},{placement:g,setMenu:E,menuElement:v,toggleElement:y}=e||{},x=dB(y,v,vB({placement:u||g||"bottom-start",enabled:p,enableEvents:h??m,offset:o,flip:i,fixed:l,arrowElement:n,popperConfig:d})),_=Object.assign({ref:E||EB,"aria-labelledby":y==null?void 0:y.id},x.attributes.popper,{style:x.styles.popper}),C={show:m,placement:g,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:p?x:null,arrowProps:p?Object.assign({ref:r},x.attributes.arrow,{style:x.styles.arrow}):{}};return pB(v,w,{clickTrigger:a,disabled:!m}),[_,C]}const xB={usePopper:!0};function Ov(t){let{children:e}=t,n=wB(t,yB);const[r,s]=QT(n);return c.jsx(c.Fragment,{children:e(r,s)})}Ov.displayName="DropdownMenu";Ov.defaultProps=xB;const YT={prefix:String(Math.round(Math.random()*1e10)),current:0,isSSR:!1},XT=nn.createContext(YT);let _B=!!(typeof window<"u"&&window.document&&window.document.createElement),uf=new WeakMap;function CB(t=!1){let e=f.useContext(XT),n=f.useRef(null);if(n.current===null&&!t){var r,s;let i=(r=nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(s=r.ReactCurrentOwner)===null||s===void 0?void 0:s.current;if(i){let o=uf.get(i);o==null?uf.set(i,{id:e.current,state:i.memoizedState}):i.memoizedState!==o.state&&(e.current=o.id,uf.delete(i))}n.current=++e.current}return n.current}function SB(t){let e=f.useContext(XT);e===YT&&!_B&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=CB(!!t);return t||`react-aria${e.prefix}-${n}`}const JT=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},X0=()=>{};function ZT(){const t=SB(),{show:e=!1,toggle:n=X0,setToggle:r,menuElement:s}=f.useContext(nh)||{},i=f.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||X0,onClick:i,"aria-expanded":!!e};return s&&JT(s)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function ek({children:t}){const[e,n]=ZT();return c.jsx(c.Fragment,{children:t(e,n)})}ek.displayName="DropdownToggle";const TB=f.createContext(null),uo=(t,e=null)=>t!=null?String(t):e||null,Ys=TB,tk=f.createContext(null);tk.displayName="NavContext";const Pv=tk,kB="data-rr-ui-",IB="rrUi";function Do(t){return`${kB}${t}`}function NB(t){return`${IB}${t}`}const RB=["eventKey","disabled","onClick","active","as"];function bB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function nk({key:t,href:e,active:n,disabled:r,onClick:s}){const i=f.useContext(Ys),o=f.useContext(Pv),{activeKey:a}=o||{},l=uo(t,e),u=n==null&&t!=null?uo(a)===l:n;return[{onClick:je(h=>{r||(s==null||s(h),i&&!h.isPropagationStopped()&&i(l,h))}),"aria-disabled":r||void 0,"aria-selected":u,[Do("dropdown-item")]:""},{isActive:u}]}const rk=f.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:s,active:i,as:o=Sv}=t,a=bB(t,RB);const[l]=nk({key:n,href:a.href,disabled:r,onClick:s,active:i});return c.jsx(o,Object.assign({},a,{ref:e},l))});rk.displayName="DropdownItem";const sk=f.createContext(Ao?window:void 0);sk.Provider;function Lv(){return f.useContext(sk)}function J0(){const t=UT(),e=f.useRef(null),n=f.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function Fl({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:s=`* [${Do("dropdown-item")}]`,focusFirstItemOnShow:i,placement:o="bottom-start",children:a}){const l=Lv(),[u,d]=eT(e,t,r),[h,p]=J0(),m=h.current,[w,g]=J0(),E=w.current,v=CT(u),y=f.useRef(null),x=f.useRef(!1),_=f.useContext(Ys),C=f.useCallback((L,M,q=M==null?void 0:M.type)=>{d(L,{originalEvent:M,source:q})},[d]),S=je((L,M)=>{n==null||n(L,M),C(!1,M,"select"),M.isPropagationStopped()||_==null||_(L,M)}),T=f.useMemo(()=>({toggle:C,placement:o,show:u,menuElement:m,toggleElement:E,setMenu:p,setToggle:g}),[C,o,u,m,E,p,g]);m&&v&&!u&&(x.current=m.contains(m.ownerDocument.activeElement));const k=je(()=>{E&&E.focus&&E.focus()}),P=je(()=>{const L=y.current;let M=i;if(M==null&&(M=h.current&&JT(h.current)?"keyboard":!1),M===!1||M==="keyboard"&&!/^key.+$/.test(L))return;const q=er(h.current,s)[0];q&&q.focus&&q.focus()});f.useEffect(()=>{u?P():x.current&&(x.current=!1,k())},[u,x,k,P]),f.useEffect(()=>{y.current=null});const D=(L,M)=>{if(!h.current)return null;const q=er(h.current,s);let V=q.indexOf(L)+M;return V=Math.max(0,Math.min(V,q.length)),q[V]};return TF(f.useCallback(()=>l.document,[l]),"keydown",L=>{var M,q;const{key:V}=L,ie=L.target,Z=(M=h.current)==null?void 0:M.contains(ie),Q=(q=w.current)==null?void 0:q.contains(ie);if(/input|textarea/i.test(ie.tagName)&&(V===" "||V!=="Escape"&&Z||V==="Escape"&&ie.type==="search")||!Z&&!Q||V==="Tab"&&(!h.current||!u))return;y.current=L.type;const b={originalEvent:L,source:L.type};switch(V){case"ArrowUp":{const R=D(ie,-1);R&&R.focus&&R.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!u)d(!0,b);else{const R=D(ie,1);R&&R.focus&&R.focus()}return;case"Tab":wv(ie.ownerDocument,"keyup",R=>{var z;(R.key==="Tab"&&!R.target||!((z=h.current)!=null&&z.contains(R.target)))&&d(!1,b)},{once:!0});break;case"Escape":V==="Escape"&&(L.preventDefault(),L.stopPropagation()),d(!1,b);break}}),c.jsx(Ys.Provider,{value:S,children:c.jsx(nh.Provider,{value:T,children:a})})}Fl.displayName="Dropdown";Fl.Menu=Ov;Fl.Toggle=ek;Fl.Item=rk;const ik=f.createContext({});ik.displayName="DropdownContext";const ok=ik,ak=f.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:s,active:i,as:o=Tv,...a},l)=>{const u=te(t,"dropdown-item"),[d,h]=nk({key:n,href:a.href,disabled:r,onClick:s,active:i});return c.jsx(o,{...a,...d,ref:l,className:Y(e,u,h.isActive&&"active",r&&"disabled")})});ak.displayName="DropdownItem";const AB=ak,lk=f.createContext(null);lk.displayName="InputGroupContext";const uk=lk,ck=f.createContext(null);ck.displayName="NavbarContext";const ai=ck;function dk(t,e){return t}function hk(t,e,n){const r=n?"top-end":"top-start",s=n?"top-start":"top-end",i=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",u=n?"left-start":"right-start",d=n?"left-end":"right-end";let h=t?o:i;return e==="up"?h=t?s:r:e==="end"?h=t?d:u:e==="start"?h=t?l:a:e==="down-centered"?h="bottom":e==="up-centered"&&(h="top"),h}const fk=f.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:s=!0,show:i,renderOnMount:o,as:a="div",popperConfig:l,variant:u,...d},h)=>{let p=!1;const m=f.useContext(ai),w=te(t,"dropdown-menu"),{align:g,drop:E,isRTL:v}=f.useContext(ok);n=n||g;const y=f.useContext(uk),x=[];if(n)if(typeof n=="object"){const L=Object.keys(n);if(L.length){const M=L[0],q=n[M];p=q==="start",x.push(`${w}-${M}-${q}`)}}else n==="end"&&(p=!0);const _=hk(p,E,v),[C,{hasShown:S,popper:T,show:k,toggle:P}]=QT({flip:s,rootCloseEvent:r,show:i,usePopper:!m&&x.length===0,offset:[0,2],popperConfig:l,placement:_});if(C.ref=oi(dk(h),C.ref),zc(()=>{k&&(T==null||T.update())},[k]),!S&&!o&&!y)return null;typeof a!="string"&&(C.show=k,C.close=()=>P==null?void 0:P(!1),C.align=n);let D=d.style;return T!=null&&T.placement&&(D={...d.style,...C.style},d["x-placement"]=T.placement),c.jsx(a,{...d,...C,style:D,...(x.length||m)&&{"data-bs-popper":"static"},className:Y(e,w,k&&"show",p&&`${w}-end`,u&&`${w}-${u}`,...x)})});fk.displayName="DropdownMenu";const DB=fk,pk=f.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:s=fe,...i},o)=>{const a=te(t,"dropdown-toggle"),l=f.useContext(nh);r!==void 0&&(i.bsPrefix=r);const[u]=ZT();return u.ref=oi(u.ref,dk(o)),c.jsx(s,{className:Y(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...u,...i})});pk.displayName="DropdownToggle";const jB=pk,OB=Ue("dropdown-header",{defaultProps:{role:"heading"}}),PB=Ue("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),LB=Ue("dropdown-item-text",{Component:"span"}),mk=f.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:s,className:i,align:o="start",onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:d="div",navbar:h,autoClose:p=!0,...m}=bo(t,{show:"onToggle"}),w=f.useContext(uk),g=te(n,"dropdown"),E=rT(),v=T=>p===!1?T==="click":p==="inside"?T!=="rootClose":p==="outside"?T!=="select":!0,y=je((T,k)=>{k.originalEvent.currentTarget===document&&(k.source!=="keydown"||k.originalEvent.key==="Escape")&&(k.source="rootClose"),v(k.source)&&(l==null||l(T,k))}),_=hk(o==="end",r,E),C=f.useMemo(()=>({align:o,drop:r,isRTL:E}),[o,r,E]),S={down:g,"down-centered":`${g}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return c.jsx(ok.Provider,{value:C,children:c.jsx(Fl,{placement:_,show:s,onSelect:a,onToggle:y,focusFirstItemOnShow:u,itemSelector:`.${g}-item:not(.disabled):not(:disabled)`,children:w?m.children:c.jsx(d,{...m,ref:e,className:Y(i,s&&"show",S[r])})})})});mk.displayName="Dropdown";const Ns=Object.assign(mk,{Toggle:jB,Menu:DB,Item:AB,ItemText:LB,Divider:PB,Header:OB}),$B={type:St.string,tooltip:St.bool,as:St.elementType},$v=f.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>c.jsx(t,{...s,ref:i,className:Y(e,`${n}-${r?"tooltip":"feedback"}`)}));$v.displayName="Feedback";$v.propTypes=$B;const gk=$v,MB=f.createContext({}),wr=MB,vk=f.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:o="input",...a},l)=>{const{controlId:u}=f.useContext(wr);return e=te(e,"form-check-input"),c.jsx(o,{...a,ref:l,type:r,id:t||u,className:Y(n,e,s&&"is-valid",i&&"is-invalid")})});vk.displayName="FormCheckInput";const yk=vk,wk=f.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=f.useContext(wr);return t=te(t,"form-check-label"),c.jsx("label",{...r,ref:s,htmlFor:n||i,className:Y(e,t)})});wk.displayName="FormCheckLabel";const tm=wk,Ek=f.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:d,className:h,style:p,title:m="",type:w="checkbox",label:g,children:E,as:v="input",...y},x)=>{e=te(e,"form-check"),n=te(n,"form-switch");const{controlId:_}=f.useContext(wr),C=f.useMemo(()=>({controlId:t||_}),[_,t]),S=!E&&g!=null&&g!==!1||ZF(E,tm),T=c.jsx(yk,{...y,type:w==="switch"?"checkbox":w,ref:x,isValid:o,isInvalid:a,disabled:i,as:v});return c.jsx(wr.Provider,{value:C,children:c.jsx("div",{style:p,className:Y(h,S&&e,r&&`${e}-inline`,s&&`${e}-reverse`,w==="switch"&&n),children:E||c.jsxs(c.Fragment,{children:[T,S&&c.jsx(tm,{title:m,children:g}),u&&c.jsx(gk,{type:d,tooltip:l,children:u})]})})})});Ek.displayName="FormCheck";const qc=Object.assign(Ek,{Input:yk,Label:tm}),xk=f.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:d="input",...h},p)=>{const{controlId:m}=f.useContext(wr);t=te(t,"form-control");let w;return l?w={[`${t}-plaintext`]:!0}:w={[t]:!0,[`${t}-${n}`]:n},c.jsx(d,{...h,type:e,size:r,ref:p,readOnly:u,id:s||m,className:Y(i,w,o&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});xk.displayName="FormControl";const UB=Object.assign(xk,{Feedback:gk}),FB=Ue("form-floating"),_k=f.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=f.useMemo(()=>({controlId:t}),[t]);return c.jsx(wr.Provider,{value:s,children:c.jsx(e,{...n,ref:r})})});_k.displayName="FormGroup";const al=_k,Ck=f.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...o},a)=>{const{controlId:l}=f.useContext(wr);e=te(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const d=Y(s,e,r&&"visually-hidden",n&&u);return i=i||l,n?c.jsx(F,{ref:a,as:"label",className:d,htmlFor:i,...o}):c.jsx(t,{ref:a,className:d,htmlFor:i,...o})});Ck.displayName="FormLabel";const BB=Ck,Sk=f.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=f.useContext(wr);return t=te(t,"form-range"),c.jsx("input",{...r,type:"range",ref:s,className:Y(e,t),id:n||i})});Sk.displayName="FormRange";const VB=Sk,Tk=f.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:o,...a},l)=>{const{controlId:u}=f.useContext(wr);return t=te(t,"form-select"),c.jsx("select",{...a,size:n,ref:l,className:Y(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:o||u})});Tk.displayName="FormSelect";const zB=Tk,kk=f.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=te(t,"form-text"),c.jsx(n,{...s,ref:i,className:Y(e,t,r&&"text-muted")})));kk.displayName="FormText";const HB=kk,Ik=f.forwardRef((t,e)=>c.jsx(qc,{...t,ref:e,type:"switch"}));Ik.displayName="Switch";const WB=Object.assign(Ik,{Input:qc.Input,Label:qc.Label}),Nk=f.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},o)=>(t=te(t,"form-floating"),c.jsxs(al,{ref:o,className:Y(e,t),controlId:r,...i,children:[n,c.jsx("label",{htmlFor:r,children:s})]})));Nk.displayName="FloatingLabel";const qB=Nk,KB={_ref:St.any,validated:St.bool,as:St.elementType},Mv=f.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>c.jsx(n,{...r,ref:s,className:Y(t,e&&"was-validated")}));Mv.displayName="Form";Mv.propTypes=KB;const A=Object.assign(Mv,{Group:al,Control:UB,Floating:FB,Check:qc,Switch:WB,Label:BB,Text:HB,Range:VB,Select:zB,FloatingLabel:qB}),Rk=f.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...s},i)=>{const o=te(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return c.jsx(n,{ref:i,...s,className:Y(r,e?`${o}${a}`:o)})});Rk.displayName="Container";const ge=Rk,GB={bsPrefix:St.string,fluid:St.bool,rounded:St.bool,roundedCircle:St.bool,thumbnail:St.bool},bk=f.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:s=!1,thumbnail:i=!1,...o},a)=>(t=te(t,"img"),c.jsx("img",{ref:a,...o,className:Y(e,n&&`${t}-fluid`,r&&"rounded",s&&"rounded-circle",i&&`${t}-thumbnail`)})));bk.displayName="Image";const Er=bk,Uv=f.forwardRef(({className:t,fluid:e=!0,...n},r)=>c.jsx(Er,{ref:r,...n,fluid:e,className:Y(t,"figure-img")}));Uv.displayName="FigureImage";Uv.propTypes=GB;const QB=Uv,YB=Ue("figure-caption",{Component:"figcaption"}),XB=YB,JB=Ue("figure",{Component:"figure"}),Z0=Object.assign(JB,{Image:QB,Caption:XB}),ZB=f.createContext(null),Ak=ZB,eV=["as","active","eventKey"];function tV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Fv({key:t,onClick:e,active:n,id:r,role:s,disabled:i}){const o=f.useContext(Ys),a=f.useContext(Pv),l=f.useContext(Ak);let u=n;const d={role:s};if(a){!s&&a.role==="tablist"&&(d.role="tab");const h=a.getControllerId(t??null),p=a.getControlledId(t??null);d[Do("event-key")]=t,d.id=h||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(d["aria-controls"]=p)}return d.role==="tab"&&(d["aria-selected"]=u,u||(d.tabIndex=-1),i&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=je(h=>{i||(e==null||e(h),t!=null&&o&&!h.isPropagationStopped()&&o(t,h))}),[d,{isActive:u}]}const Dk=f.forwardRef((t,e)=>{let{as:n=Sv,active:r,eventKey:s}=t,i=tV(t,eV);const[o,a]=Fv(Object.assign({key:uo(s,i.href),active:r},i));return o[Do("active")]=a.isActive,c.jsx(n,Object.assign({},i,o,{ref:e}))});Dk.displayName="NavItem";const nV=Dk,rV=["as","onSelect","activeKey","role","onKeyDown"];function sV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}const eE=()=>{},tE=Do("event-key"),jk=f.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:s,role:i,onKeyDown:o}=t,a=sV(t,rV);const l=UT(),u=f.useRef(!1),d=f.useContext(Ys),h=f.useContext(Ak);let p,m;h&&(i=i||"tablist",s=h.activeKey,p=h.getControlledId,m=h.getControllerId);const w=f.useRef(null),g=x=>{const _=w.current;if(!_)return null;const C=er(_,`[${tE}]:not([aria-disabled=true])`),S=_.querySelector("[aria-selected=true]");if(!S||S!==document.activeElement)return null;const T=C.indexOf(S);if(T===-1)return null;let k=T+x;return k>=C.length&&(k=0),k<0&&(k=C.length-1),C[k]},E=(x,_)=>{x!=null&&(r==null||r(x,_),d==null||d(x,_))},v=x=>{if(o==null||o(x),!h)return;let _;switch(x.key){case"ArrowLeft":case"ArrowUp":_=g(-1);break;case"ArrowRight":case"ArrowDown":_=g(1);break;default:return}_&&(x.preventDefault(),E(_.dataset[NB("EventKey")]||null,x),u.current=!0,l())};f.useEffect(()=>{if(w.current&&u.current){const x=w.current.querySelector(`[${tE}][aria-selected=true]`);x==null||x.focus()}u.current=!1});const y=oi(e,w);return c.jsx(Ys.Provider,{value:E,children:c.jsx(Pv.Provider,{value:{role:i,activeKey:uo(s),getControlledId:p||eE,getControllerId:m||eE},children:c.jsx(n,Object.assign({},a,{onKeyDown:v,ref:y,role:i}))})})});jk.displayName="Nav";const Ok=Object.assign(jk,{Item:nV}),Pk=f.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:s,variant:i,action:o,as:a,...l},u)=>{t=te(t,"list-group-item");const[d,h]=Fv({key:uo(r,l.href),active:e,...l}),p=je(w=>{if(n){w.preventDefault(),w.stopPropagation();return}d.onClick(w)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const m=a||(o?l.href?"a":"button":"div");return c.jsx(m,{ref:u,...l,...d,onClick:p,className:Y(s,t,h.isActive&&"active",n&&"disabled",i&&`${t}-${i}`,o&&`${t}-action`)})});Pk.displayName="ListGroupItem";const iV=Pk,Lk=f.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:s,horizontal:i,numbered:o,as:a="div",...l}=bo(t,{activeKey:"onSelect"}),u=te(r,"list-group");let d;return i&&(d=i===!0?"horizontal":`horizontal-${i}`),c.jsx(Ok,{ref:e,...l,as:a,className:Y(n,u,s&&`${u}-${s}`,d&&`${u}-${d}`,o&&`${u}-numbered`)})});Lk.displayName="ListGroup";const cf=Object.assign(Lk,{Item:iV});var _u;function nE(t){if((!_u&&_u!==0||t)&&Ao){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),_u=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return _u}function df(t){t===void 0&&(t=Ll());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function oV(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const rE=Do("modal-open");class aV{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return oV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(lr(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(rE,""),lr(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(rE),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Bv=aV,hf=(t,e)=>Ao?t==null?(e||Ll()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function lV(t,e){const n=Lv(),[r,s]=f.useState(()=>hf(t,n==null?void 0:n.document));if(!r){const i=hf(t);i&&s(i)}return f.useEffect(()=>{e&&r&&e(r)},[e,r]),f.useEffect(()=>{const i=hf(t);i!==r&&s(i)},[t,r]),r}function uV({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=f.useRef(null),o=f.useRef(e),a=je(n);f.useEffect(()=>{e?o.current=!0:a(i.current)},[e,a]);const l=oi(i,t.ref),u=f.cloneElement(t,{ref:l});return e?u:s||!o.current&&r?null:u}function cV({in:t,onTransition:e}){const n=f.useRef(null),r=f.useRef(!0),s=je(e);return zc(()=>{if(!n.current)return;let i=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,s]),zc(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function dV({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[i,o]=f.useState(!e);e&&i&&o(!1);const a=cV({in:!!e,onTransition:u=>{const d=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(o(!0),n==null||n(u.element)))};Promise.resolve(s(u)).then(d,h=>{throw u.in||o(!0),h})}}),l=oi(a,t.ref);return i&&!e?null:f.cloneElement(t,{ref:l})}function sE(t,e,n){return t?c.jsx(t,Object.assign({},n)):e?c.jsx(dV,Object.assign({},n,{transition:e})):c.jsx(uV,Object.assign({},n))}function hV(t){return t.code==="Escape"||t.keyCode===27}const fV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function pV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}let ff;function mV(t){return ff||(ff=new Bv({ownerDocument:t==null?void 0:t.document})),ff}function gV(t){const e=Lv(),n=t||mV(e),r=f.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:f.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:f.useCallback(s=>{r.current.backdrop=s},[])})}const $k=f.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:d,transition:h,runTransition:p,backdropTransition:m,runBackdropTransition:w,autoFocus:g=!0,enforceFocus:E=!0,restoreFocus:v=!0,restoreFocusOptions:y,renderDialog:x,renderBackdrop:_=ve=>c.jsx("div",Object.assign({},ve)),manager:C,container:S,onShow:T,onHide:k=()=>{},onExit:P,onExited:D,onExiting:L,onEnter:M,onEntering:q,onEntered:V}=t,ie=pV(t,fV);const Z=lV(S),Q=gV(C),I=_T(),b=CT(n),[R,z]=f.useState(!n),H=f.useRef(null);f.useImperativeHandle(e,()=>Q,[Q]),Ao&&!b&&n&&(H.current=df()),n&&R&&z(!1);const le=je(()=>{if(Q.add(),Ut.current=Br(document,"keydown",rt),He.current=Br(document,"focus",()=>setTimeout(ue),!0),T&&T(),g){const ve=df(document);Q.dialog&&ve&&!Wc(Q.dialog,ve)&&(H.current=ve,Q.dialog.focus())}}),ae=je(()=>{if(Q.remove(),Ut.current==null||Ut.current(),He.current==null||He.current(),v){var ve;(ve=H.current)==null||ve.focus==null||ve.focus(y),H.current=null}});f.useEffect(()=>{!n||!Z||le()},[n,Z,le]),f.useEffect(()=>{R&&ae()},[R,ae]),$T(()=>{ae()});const ue=je(()=>{if(!E||!I()||!Q.isTopModal())return;const ve=df();Q.dialog&&ve&&!Wc(Q.dialog,ve)&&Q.dialog.focus()}),pe=je(ve=>{ve.target===ve.currentTarget&&(u==null||u(ve),a===!0&&k())}),rt=je(ve=>{l&&hV(ve)&&Q.isTopModal()&&(d==null||d(ve),ve.defaultPrevented||k())}),He=f.useRef(),Ut=f.useRef(),Ft=(...ve)=>{z(!0),D==null||D(...ve)};if(!Z)return null;const Bt=Object.assign({role:r,ref:Q.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ie,{style:i,className:s,tabIndex:-1});let bt=x?x(Bt):c.jsx("div",Object.assign({},Bt,{children:f.cloneElement(o,{role:"document"})}));bt=sE(h,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:P,onExiting:L,onExited:Ft,onEnter:M,onEntering:q,onEntered:V,children:bt});let At=null;return a&&(At=_({ref:Q.setBackdropRef,onClick:pe}),At=sE(m,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:At})),c.jsx(c.Fragment,{children:Ri.createPortal(c.jsxs(c.Fragment,{children:[At,bt]}),Z)})});$k.displayName="Modal";const Mk=Object.assign($k,{Manager:Bv});function vV(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function yV(t,e){t.classList?t.classList.add(e):vV(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function iE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wV(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=iE(t.className,e):t.setAttribute("class",iE(t.className&&t.className.baseVal||"",e))}const pi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Uk extends Bv{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,lr(n,{[e]:`${parseFloat(lr(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],lr(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(yV(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";er(n,pi.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,e.scrollBarWidth)),er(n,pi.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-e.scrollBarWidth)),er(n,pi.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();wV(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";er(n,pi.FIXED_CONTENT).forEach(i=>this.restore(r,i)),er(n,pi.STICKY_CONTENT).forEach(i=>this.restore(s,i)),er(n,pi.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let pf;function Fk(t){return pf||(pf=new Uk(t)),pf}const EV=Uk,xV=Ue("modal-body"),_V=f.createContext({onHide(){}}),Vv=_V,Bk=f.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:i,children:o,scrollable:a,...l},u)=>{t=te(t,"modal");const d=`${t}-dialog`,h=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return c.jsx("div",{...l,ref:u,className:Y(d,e,s&&`${t}-${s}`,r&&`${d}-centered`,a&&`${d}-scrollable`,i&&h),children:c.jsx("div",{className:Y(`${t}-content`,n),children:o})})});Bk.displayName="ModalDialog";const Vk=Bk,CV=Ue("modal-footer"),SV=f.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...i},o)=>{const a=f.useContext(Vv),l=je(()=>{a==null||a.onHide(),r==null||r()});return c.jsxs("div",{ref:o,...i,children:[s,n&&c.jsx(kT,{"aria-label":t,variant:e,onClick:l})]})}),zk=SV,Hk=f.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=te(t,"modal-header"),c.jsx(zk,{ref:i,...s,className:Y(e,t),closeLabel:n,closeButton:r})));Hk.displayName="ModalHeader";const TV=Hk,kV=$l("h4"),IV=Ue("modal-title",{Component:kV});function NV(t){return c.jsx(sl,{...t,timeout:null})}function RV(t){return c.jsx(sl,{...t,timeout:null})}const Wk=f.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:i,dialogAs:o=Vk,"aria-labelledby":a,"aria-describedby":l,"aria-label":u,show:d=!1,animation:h=!0,backdrop:p=!0,keyboard:m=!0,onEscapeKeyDown:w,onShow:g,onHide:E,container:v,autoFocus:y=!0,enforceFocus:x=!0,restoreFocus:_=!0,restoreFocusOptions:C,onEntered:S,onExit:T,onExiting:k,onEnter:P,onEntering:D,onExited:L,backdropClassName:M,manager:q,...V},ie)=>{const[Z,Q]=f.useState({}),[I,b]=f.useState(!1),R=f.useRef(!1),z=f.useRef(!1),H=f.useRef(null),[le,ae]=xT(),ue=oi(ie,ae),pe=je(E),rt=rT();t=te(t,"modal");const He=f.useMemo(()=>({onHide:pe}),[pe]);function Ut(){return q||Fk({isRTL:rt})}function Ft(oe){if(!Ao)return;const Xn=Ut().getScrollbarWidth()>0,Oo=oe.scrollHeight>Ll(oe).documentElement.clientHeight;Q({paddingRight:Xn&&!Oo?nE():void 0,paddingLeft:!Xn&&Oo?nE():void 0})}const Bt=je(()=>{le&&Ft(le.dialog)});$T(()=>{Jp(window,"resize",Bt),H.current==null||H.current()});const bt=()=>{R.current=!0},At=oe=>{R.current&&le&&oe.target===le.dialog&&(z.current=!0),R.current=!1},ve=()=>{b(!0),H.current=aT(le.dialog,()=>{b(!1)})},Ee=oe=>{oe.target===oe.currentTarget&&ve()},en=oe=>{if(p==="static"){Ee(oe);return}if(z.current||oe.target!==oe.currentTarget){z.current=!1;return}E==null||E()},fn=oe=>{m?w==null||w(oe):(oe.preventDefault(),p==="static"&&ve())},vs=(oe,Xn)=>{oe&&Ft(oe),P==null||P(oe,Xn)},Ce=oe=>{H.current==null||H.current(),T==null||T(oe)},lt=(oe,Xn)=>{D==null||D(oe,Xn),wv(window,"resize",Bt)},ut=oe=>{oe&&(oe.style.display=""),L==null||L(oe),Jp(window,"resize",Bt)},ui=f.useCallback(oe=>c.jsx("div",{...oe,className:Y(`${t}-backdrop`,M,!h&&"show")}),[h,M,t]),Sr={...n,...Z};Sr.display="block";const ci=oe=>c.jsx("div",{role:"dialog",...oe,style:Sr,className:Y(e,t,I&&`${t}-static`,!h&&"show"),onClick:p?en:void 0,onMouseUp:At,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,children:c.jsx(o,{...V,onMouseDown:bt,className:r,contentClassName:s,children:i})});return c.jsx(Vv.Provider,{value:He,children:c.jsx(Mk,{show:d,ref:ue,backdrop:p,container:v,keyboard:!0,autoFocus:y,enforceFocus:x,restoreFocus:_,restoreFocusOptions:C,onEscapeKeyDown:fn,onShow:g,onHide:E,onEnter:vs,onEntering:lt,onEntered:S,onExit:Ce,onExiting:k,onExited:ut,manager:Ut(),transition:h?NV:void 0,backdropTransition:h?RV:void 0,renderBackdrop:ui,renderDialog:ci})})});Wk.displayName="Modal";const yn=Object.assign(Wk,{Body:xV,Header:TV,Title:IV,Footer:CV,Dialog:Vk,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var nm={},bV={get exports(){return nm},set exports(t){nm=t}},Kc={},AV={get exports(){return Kc},set exports(t){Kc=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function s(o,a,l,u,d,h){var p=u||"<<anonymous>>",m=h||l;if(a[l]==null)return o?new Error("Required "+d+" `"+m+"` was not specified "+("in `"+p+"`.")):null;for(var w=arguments.length,g=Array(w>6?w-6:0),E=6;E<w;E++)g[E-6]=arguments[E];return r.apply(void 0,[a,l,p,d,m].concat(g))}var i=s.bind(null,!1);return i.isRequired=s.bind(null,!0),i}t.exports=e.default})(AV,Kc);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=Kc,r=s(n);function s(o){return o&&o.__esModule?o:{default:o}}function i(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var d=arguments.length,h=Array(d),p=0;p<d;p++)h[p]=arguments[p];var m=null;return a.forEach(function(w){if(m==null){var g=w.apply(void 0,h);g!=null&&(m=g)}}),m}return(0,r.default)(u)}t.exports=e.default})(bV,nm);const DV=Ue("nav-item"),qk=f.forwardRef(({bsPrefix:t,className:e,as:n=Tv,active:r,eventKey:s,disabled:i=!1,...o},a)=>{t=te(t,"nav-link");const[l,u]=Fv({key:uo(s,o.href),active:r,disabled:i,...o});return c.jsx(n,{...o,...l,ref:a,disabled:i,className:Y(e,t,i&&"disabled",u.isActive&&"active")})});qk.displayName="NavLink";const Kk=qk,Gk=f.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:s,fill:i=!1,justify:o=!1,navbar:a,navbarScroll:l,className:u,activeKey:d,...h}=bo(t,{activeKey:"onSelect"}),p=te(r,"nav");let m,w,g=!1;const E=f.useContext(ai),v=f.useContext(jT);return E?(m=E.bsPrefix,g=a??!0):v&&({cardHeaderBsPrefix:w}=v),c.jsx(Ok,{as:n,ref:e,activeKey:d,className:Y(u,{[p]:!g,[`${m}-nav`]:g,[`${m}-nav-scroll`]:g&&l,[`${w}-${s}`]:!!w,[`${p}-${s}`]:!!s,[`${p}-fill`]:i,[`${p}-justified`]:o}),...h})});Gk.displayName="Nav";const oE=Object.assign(Gk,{Item:DV,Link:Kk}),Qk=f.forwardRef(({bsPrefix:t,className:e,as:n,...r},s)=>{t=te(t,"navbar-brand");const i=n||(r.href?"a":"span");return c.jsx(i,{...r,ref:s,className:Y(e,t)})});Qk.displayName="NavbarBrand";const jV=Qk,Yk=f.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=te(e,"navbar-collapse");const s=f.useContext(ai);return c.jsx(uT,{in:!!(s&&s.expanded),...n,children:c.jsx("div",{ref:r,className:e,children:t})})});Yk.displayName="NavbarCollapse";const OV=Yk,Xk=f.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:s="button",onClick:i,...o},a)=>{t=te(t,"navbar-toggler");const{onToggle:l,expanded:u}=f.useContext(ai)||{},d=je(h=>{i&&i(h),l&&l()});return s==="button"&&(o.type="button"),c.jsx(s,{...o,ref:a,onClick:d,"aria-label":r,className:Y(e,t,!u&&"collapsed"),children:n||c.jsx("span",{className:`${t}-icon`})})});Xk.displayName="NavbarToggle";const PV=Xk;var rm=new WeakMap,aE=function(e,n){if(!(!e||!n)){var r=rm.get(n)||new Map;rm.set(n,r);var s=r.get(e);return s||(s=n.matchMedia(e),s.refCount=0,r.set(s.media,s)),s}};function LV(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=aE(t,e),r=f.useState(function(){return n?n.matches:!1}),s=r[0],i=r[1];return zc(function(){var o=aE(t,e);if(!o)return i(!1);var a=rm.get(e),l=function(){i(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[t]),s}function $V(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function s(a){var l=r(a),u=t[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function i(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,u){var d;if(typeof a=="object")d=a,u=l,l=!0;else{var h;l=l||!0,d=(h={},h[a]=l,h)}var p=f.useMemo(function(){return Object.entries(d).reduce(function(m,w){var g=w[0],E=w[1];return(E==="up"||E===!0)&&(m=n(m,i(g))),(E==="down"||E===!0)&&(m=n(m,s(g))),m},"")},[JSON.stringify(d)]);return LV(p,u)}return o}var MV=$V({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});const UV=Ue("offcanvas-body"),FV={[In]:"show",[tr]:"show"},Jk=f.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:s=!1,unmountOnExit:i=!1,appear:o=!1,...a},l)=>(t=te(t,"offcanvas"),c.jsx(xv,{ref:l,addEndListener:Ev,in:r,mountOnEnter:s,unmountOnExit:i,appear:o,...a,childRef:n.ref,children:(u,d)=>f.cloneElement(n,{...d,className:Y(e,n.props.className,(u===In||u===rl)&&`${t}-toggling`,FV[u])})})));Jk.displayName="OffcanvasToggling";const BV=Jk,Zk=f.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=te(t,"offcanvas-header"),c.jsx(zk,{ref:i,...s,className:Y(e,t),closeLabel:n,closeButton:r})));Zk.displayName="OffcanvasHeader";const eI=Zk,VV=$l("h5"),zV=Ue("offcanvas-title",{Component:VV});function HV(t){return c.jsx(BV,{...t})}function WV(t){return c.jsx(sl,{...t})}const tI=f.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:s="start",responsive:i,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:d,onShow:h,onHide:p,container:m,autoFocus:w=!0,enforceFocus:g=!0,restoreFocus:E=!0,restoreFocusOptions:v,onEntered:y,onExit:x,onExiting:_,onEnter:C,onEntering:S,onExited:T,backdropClassName:k,manager:P,renderStaticNode:D=!1,...L},M)=>{const q=f.useRef();t=te(t,"offcanvas");const{onToggle:V}=f.useContext(ai)||{},[ie,Z]=f.useState(!1),Q=MV(i||"xs","up");f.useEffect(()=>{Z(i?o&&!Q:o)},[o,i,Q]);const I=je(()=>{V==null||V(),p==null||p()}),b=f.useMemo(()=>({onHide:I}),[I]);function R(){return P||(u?(q.current||(q.current=new EV({handleContainerOverflow:!1})),q.current):Fk())}const z=(ue,...pe)=>{ue&&(ue.style.visibility="visible"),C==null||C(ue,...pe)},H=(ue,...pe)=>{ue&&(ue.style.visibility=""),T==null||T(...pe)},le=f.useCallback(ue=>c.jsx("div",{...ue,className:Y(`${t}-backdrop`,k)}),[k,t]),ae=ue=>c.jsx("div",{...ue,...L,className:Y(e,i?`${t}-${i}`:t,`${t}-${s}`),"aria-labelledby":r,children:n});return c.jsxs(c.Fragment,{children:[!ie&&(i||D)&&ae({}),c.jsx(Vv.Provider,{value:b,children:c.jsx(Mk,{show:ie,ref:M,backdrop:a,container:m,keyboard:l,autoFocus:w,enforceFocus:g&&!u,restoreFocus:E,restoreFocusOptions:v,onEscapeKeyDown:d,onShow:h,onHide:I,onEnter:z,onEntering:S,onEntered:y,onExit:x,onExiting:_,onExited:H,manager:R(),transition:HV,backdropTransition:WV,renderBackdrop:le,renderDialog:ae})})]})});tI.displayName="Offcanvas";const nI=Object.assign(tI,{Body:UV,Header:eI,Title:zV}),rI=f.forwardRef((t,e)=>{const n=f.useContext(ai);return c.jsx(nI,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});rI.displayName="NavbarOffcanvas";const qV=rI,KV=Ue("navbar-text",{Component:"span"}),sI=f.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:s="light",bg:i,fixed:o,sticky:a,className:l,as:u="nav",expanded:d,onToggle:h,onSelect:p,collapseOnSelect:m=!1,...w}=bo(t,{expanded:"onToggle"}),g=te(n,"navbar"),E=f.useCallback((...x)=>{p==null||p(...x),m&&d&&(h==null||h(!1))},[p,m,d,h]);w.role===void 0&&u!=="nav"&&(w.role="navigation");let v=`${g}-expand`;typeof r=="string"&&(v=`${v}-${r}`);const y=f.useMemo(()=>({onToggle:()=>h==null?void 0:h(!d),bsPrefix:g,expanded:!!d,expand:r}),[g,d,r,h]);return c.jsx(ai.Provider,{value:y,children:c.jsx(Ys.Provider,{value:E,children:c.jsx(u,{ref:e,...w,className:Y(l,g,r&&v,s&&`${g}-${s}`,i&&`bg-${i}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});sI.displayName="Navbar";const Vt=Object.assign(sI,{Brand:jV,Collapse:OV,Offcanvas:qV,Text:KV,Toggle:PV}),iI=f.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:s,rootCloseEvent:i,menuRole:o,disabled:a,active:l,renderMenuOnMount:u,menuVariant:d,...h},p)=>{const m=te(void 0,"nav-item");return c.jsxs(Ns,{ref:p,...h,className:Y(s,m),children:[c.jsx(Ns.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:Kk,children:e}),c.jsx(Ns.Menu,{role:o,renderOnMount:u,rootCloseEvent:i,variant:d,children:n})]})});iI.displayName="NavDropdown";const Ko=Object.assign(iI,{Item:Ns.Item,ItemText:Ns.ItemText,Divider:Ns.Divider,Header:Ns.Header}),oI=f.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=te(t,"row"),o=tT(),a=nT(),l=`${i}-cols`,u=[];return o.forEach(d=>{const h=r[d];delete r[d];let p;h!=null&&typeof h=="object"?{cols:p}=h:p=h;const m=d!==a?`-${d}`:"";p!=null&&u.push(`${l}${m}-${p}`)}),c.jsx(n,{ref:s,...r,className:Y(e,i,...u)})});oI.displayName="Row";const $=oI,aI=f.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:s="div",className:i,...o},a)=>{t=te(t,"spinner");const l=`${t}-${n}`;return c.jsx(s,{ref:a,...o,className:Y(i,l,r&&`${l}-${r}`,e&&`text-${e}`)})});aI.displayName="Spinner";const sh=aI;function GV(){const t="https://firebasestorage.googleapis.com/v0/b/nadyapokladsite.appspot.com/o/Contact%2FPianoContact.jpg?alt=media&token=cce29ac2-9353-465d-87dd-a3eaa4c8fb91",[e,n]=f.useState([]),[r,s]=f.useState([]),[i,o]=f.useState([]);return f.useEffect(()=>{const a=be(we,"Contact"),l=Ke(a,Nn("contactType","==","Email"));Ge(l).then(u=>n(u.docs.map(d=>({id:d.id,...d.data()}))))},[]),f.useEffect(()=>{const a=be(we,"Contact"),l=Ke(a,Nn("contactType","==","Youtube"));Ge(l).then(u=>s(u.docs.map(d=>({id:d.id,...d.data()}))))},[]),f.useEffect(()=>{const a=be(we,"Contact"),l=Ke(a,Nn("contactType","==","SocialMedia"));Ge(l).then(u=>o(u.docs.map(d=>({id:d.id,...d.data()}))))},[]),c.jsxs(c.Fragment,{children:[c.jsx(ge,{fluid:"sm",children:c.jsxs($,{children:[c.jsx("h4",{className:"title home-h5 mx-2 mt-3",children:" Contact "}),c.jsx("br",{})]})}),c.jsx(ge,{children:c.jsx("p",{children:"Contact me if you are interested in awesome lessons or for performance events, as well as permission to play any compositions."})}),c.jsxs(K,{className:"ImgOverlay ",children:[c.jsx(K.Img,{src:t,alt:"Card image",className:"cardImage"}),c.jsxs("div",{className:"position-absolute bottom-0 start-0 cardText imgOverlay",children:[e.map(a=>c.jsxs("div",{children:[c.jsx("p",{className:"title mx-2 mb-1",children:"Main contacts"}),c.jsxs("a",{href:`mailto:${a.description}`,type:"email",target:"_blank",rel:"noreferrer",className:"link cardText",children:[c.jsx("i",{className:"bi bi-envelope-fill icon"}),a.description]})]},a.id)),r.map(a=>c.jsx("div",{children:c.jsxs("a",{className:"link",target:"_blank",rel:"noopener noreferrer",href:a.description,children:[c.jsx("i",{className:"bi bi-youtube icon"}),"Nadya Poklad - YouTube"]})},a.id)),i.length===0?"":c.jsx("p",{className:"title mx-2 mb-1 mt-4",children:"Social media"}),i.map(a=>c.jsx("div",{children:c.jsx("a",{className:"link mx-2",target:"_blank",rel:"noopener noreferrer",href:a.description,children:a.description})},a.id))]})]})]})}function QV({url:t,title:e,id:n}){return c.jsxs(ge,{className:"video-container",children:[c.jsx($,{children:c.jsx("a",{href:t,target:"_blank",children:c.jsx("iframe",{src:t,title:e,width:"300",height:"255",allowFullScreen:!0})})}),c.jsx($,{className:"video-container",children:c.jsx(c.Fragment,{children:e})})]})}function li(){const[t,e]=f.useState([]),[n,r]=f.useState([]),[s,i]=f.useState([]),[o,a]=f.useState([]),[l,u]=f.useState([]),[d,h]=f.useState([]),[p,m]=f.useState([]);return f.useEffect(()=>{const w=be(we,"UpcomingEvents"),g=Ke(w,Za("date","desc"));Ge(g).then(E=>e(E.docs.map(v=>({id:v.id,...v.data()}))))},[]),f.useEffect(()=>{const w=be(we,"Works"),g=Ke(w,Nn("category","==","Composer"));Ge(g).then(E=>i(E.docs.map(v=>({id:v.id,...v.data()}))))},[]),f.useEffect(()=>{const w=be(we,"Works"),g=Ke(w,Nn("category","==","Pianist"));Ge(g).then(E=>r(E.docs.map(v=>({id:v.id,...v.data()}))))},[]),f.useEffect(()=>{const w=be(we,"Works"),g=Ke(w,Nn("category","==","Teacher"));Ge(g).then(E=>a(E.docs.map(v=>({id:v.id,...v.data()}))))},[]),f.useEffect(()=>{const w=be(we,"Works"),g=Ke(w,Nn("category","==","Musical Event Organizer"));Ge(g).then(E=>u(E.docs.map(v=>({id:v.id,...v.data()}))))},[]),f.useEffect(()=>{const w=be(we,"Works"),g=Ke(w,Nn("category","==","Performances"));Ge(g).then(E=>h(E.docs.map(v=>({id:v.id,...v.data()}))))},[]),f.useEffect(()=>{const w=be(we,"Contact"),g=Ke(w);Ge(g).then(E=>m(E.docs.map(v=>({id:v.id,...v.data()}))))},[]),{UpcomingEventsPost:t,setUpcomingEventsPost:e,worksComposerPost:s,setWorksComposerPost:i,worksPianistPost:n,setworksPianistPost:r,worksTeacherPost:o,setWorksTeacherPost:a,worksMusicalOrganizerPost:l,setWorksMusicalOrganizerPost:u,performancesPost:d,setPerformancesPost:h,contactPost:p,setContactPost:m}}function YV(){const{performancesPost:t}=li();return c.jsxs(c.Fragment,{children:[c.jsxs(ge,{children:[c.jsx("h4",{className:"title home-h5 mx-2",children:"Perfomances"}),c.jsx("br",{})]}),c.jsx(ge,{children:c.jsx($,{children:t.map(e=>c.jsx(F,{className:"video-item mb-5 ",children:c.jsx(QV,{url:e.url,title:e.title})},e.id))})})]})}const lI=f.createContext();function uI({children:t}){const[e,n]=f.useState(""),[r,s]=f.useState(localStorage.getItem("isLoggedIn")||!1);function i(l,u){return new Promise((d,h)=>{l&&u?o$(yu,l,u).then(p=>{s(!0),localStorage.setItem("is-Logged-In",!0),d(p.user)}).catch(p=>{s(!1),localStorage.removeItem("is-Logged-In"),h({message:p.message})}):(s(!1),localStorage.removeItem("is-Logged-In"))})}function o(l){return console.log("Email",l),i$(yu,l)}function a(){return s(!1),localStorage.removeItem(JSON.stringify("is-Logged-In"),!1),n(""),c$(yu)}return f.useEffect(()=>{const l=u$(yu,u=>{n(u)});return()=>{l()}},[]),c.jsx(lI.Provider,{value:{user:e,logIn:i,passwordReset:o,logOut:a},children:t})}function Bl(){return f.useContext(lI)}const XV=()=>{const[t,e]=f.useState(""),[n,r]=f.useState(""),{passwordReset:s}=Bl(),i=vo(),o=async a=>{a.preventDefault();try{await s(t),i("/login_admin")}catch(l){r(l.message)}};return c.jsx(c.Fragment,{children:c.jsxs(ge,{fluid:!0,className:"p-4 loginContainer   ",children:[c.jsx("h2",{className:"title home-h5 mx-2 mt-3 mb-3",children:" Reset password."}),n&&c.jsx(RT,{variant:"danger",children:n}),c.jsxs(A,{onSubmit:o,children:[c.jsx(al,{className:"mb-3",controlId:"formBasicEmail",children:c.jsx(A.Control,{type:"email",placeholder:"Enter your email address.",onChange:a=>e(a.target.value)})}),c.jsx(fe,{variant:"btn",type:"submit",children:"Reset"})]}),c.jsx("hr",{}),c.jsx(Et,{to:"/login_admin",className:"link-text",children:"Back to Site Management"})]})})};function JV(){const[t,e]=f.useState(""),[n,r]=f.useState(""),[s,i]=f.useState(""),{logIn:o}=Bl(),a=vo(),l=async u=>{u.preventDefault(),i("");try{await o(t,n),a("/dashboard")}catch(d){i(d.message)}};return c.jsxs(ge,{fluid:!0,className:"loginContainer",children:[c.jsx("div",{className:"login-title",children:" Site Management "}),c.jsx("br",{}),s&&c.jsx(RT,{variant:"danger",children:s}),c.jsxs(A,{onSubmit:l,children:[c.jsx(al,{className:"mb-3",controlId:"formBasicEmail",children:c.jsx(A.Control,{type:"email",placeholder:"Email Address",autoComplete:"off",onChange:u=>e(u.target.value)})}),c.jsx(al,{className:"mb-3",controlId:"formBasicPassword",children:c.jsx(A.Control,{type:"password",placeholder:"Password",autoComplete:"off",onChange:u=>r(u.target.value)})}),c.jsx(fe,{variant:"btn",type:"submit",size:"md",children:"Login"}),c.jsxs("div",{className:"p-2 text-center mb-2",children:["Forgot your password?",c.jsx(Et,{to:"/resetPassword",className:"link-text",children:"- Reset -"})]})]})]})}function ZV(){const[t,e]=f.useState([]);return f.useEffect(()=>{const n=be(we,"TheArtist"),r=Ke(n,Za("orderDisplay","asc"));Ge(r).then(s=>e(s.docs.map(i=>({id:i.id,...i.data()}))))},[]),c.jsxs(c.Fragment,{children:[c.jsx(ge,{fluid:"sm",children:c.jsxs($,{children:[c.jsx("h4",{className:"title home-h5 mt-3",children:" The Artist "}),c.jsx("br",{})]})}),c.jsx(ge,{children:c.jsx("p",{children:"Ukrainian composer. Pianist. Teacher of piano, composition, and musical theoretical disciplines. Laureate of international and all-ukranian competitions for young composers."})}),c.jsx(ge,{children:t.map(n=>c.jsx(ge,{children:c.jsxs($,{sm:!0,className:"artist-content-row",style:{flexDirection:n.orderDisplay%2?"row":"row-reverse"},children:[c.jsx(F,{sm:!0,className:"artist-content-col ",children:c.jsx(Er,{src:n.image,className:"image artist-content"})}),c.jsx(F,{md:!0,children:c.jsx("p",{children:n.description})})]})},n.id))})]})}function ez(t){return c.jsx(c.Fragment,{children:c.jsxs(K,{className:" event-card  event-box-picture ",style:{userSelect:"none"},children:[c.jsxs("span",{className:"event-span",children:[" ",t.date,"  "]}),c.jsx(K.Header,{className:"event-card-title",children:c.jsxs("strong",{children:["  ",t.title," "]})}),c.jsx(Z0,{children:c.jsx(Z0.Image,{width:300,height:170,alt:"171x180",src:t.image,className:"event-box-picture event-img-fluid"})}),c.jsx(K.Text,{className:"event-list-group-flush event-list-group-item",children:c.jsxs("span",{children:[t.eventType," "]})}),c.jsx(K.Body,{className:"event-card-body",children:c.jsx(K.Text,{"position-relative":toString(!0),className:"section-upcomingEvents mostly-customized-scrollbar",children:t.description})}),c.jsx(K.Text,{className:"event-list-group-location",children:t.eventLocation}),c.jsxs(K.Body,{className:"card-end-buttons",children:[t.linkToBuy,t.linkToEvent]})]},t.id)})}const lE=({text:t})=>c.jsx(fe,{variant:"btn-outlined-info btn-generic",children:t});function uE(){const{UpcomingEventsPost:t}=li();return c.jsxs(c.Fragment,{children:[c.jsx(ge,{fluid:"sm",children:c.jsxs($,{children:[c.jsx("h4",{className:"title home-h5 mt-3",children:" Upcoming Events"}),c.jsx("br",{})]})}),c.jsx(ge,{children:c.jsx("p",{children:"Schedule of next Performances during 2023. I would like to enjoy it with you!"})}),c.jsx(ge,{className:"container-list",children:t.length===0?" No Events at Moment ":c.jsx(XF,{children:c.jsx($,{className:"container-list g-4 mb-3",xs:1,sm:2,md:3,lg:4,children:t.map(e=>c.jsx(F,{children:c.jsx(ez,{date:e.date,image:e.image,title:e.title,description:e.description,eventType:e.eventType,free:e.free,eventLocation:e.eventLocation,linkToBuy:e.eventType==="Free"?c.jsxs("span",{children:["  ","- Free Event -"," "]}):c.jsx(lE,{text:c.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:e.linkToBuy,children:" Buy Ticket "})}),linkToEvent:e.linkToEvent===""?c.jsx("button",{disabled:!0,style:{display:"none"},children:"-"}):c.jsx(lE,{text:c.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:e.linkToEvent,children:" Go Event "})})})},e.id))})})})]})}function tz(){return c.jsxs(ge,{className:"not-found",children:[c.jsx("h2",{className:"not-found-title home-h4 mb-2",children:"Error 404 - Page not found"}),c.jsx(Er,{src:"https://firebasestorage.googleapis.com/v0/b/nadyapokladsite.appspot.com/o/General%2FPageNotFound.jpg?alt=media&token=25849ac4-e352-4ecf-8cc2-3912aca79c11",alt:"not-found",className:"not-found-img"})]})}const cE=t=>c.jsx(c.Fragment,{children:c.jsxs("div",{className:"section ",children:[c.jsx(Et,{to:t.url,as:"button",href:t.url,children:c.jsx(Er,{src:t.image,alt:t.image,className:"box-picture"})}),c.jsx("a",{href:t.url,as:"link",className:" title-section-bg sectionItem-link","position-absolute":"true",children:t.name})]})}),nz=()=>{const[t,e]=f.useState([]),[n,r]=f.useState([]);return f.useEffect(()=>{const s=be(we,"SectionItems"),i=Ke(s,Za("name","desc"));Ge(i).then(o=>e(o.docs.map(a=>({id:a.id,...a.data()}))))},[]),f.useEffect(()=>{const s=be(we,"SectionItems-Others"),i=Ke(s,Za("name","desc"));Ge(i).then(o=>r(o.docs.map(a=>({id:a.id,...a.data()}))))},[]),c.jsxs(c.Fragment,{children:[t.map(s=>c.jsx(F,{children:c.jsx($,{className:"mt-3 mb-3 ",children:c.jsx(cE,{name:s.name,url:s.url,image:s.image})})},s.id)),n.map((s,i)=>c.jsx(F,{children:c.jsx($,{className:"mt-3 mb-3",children:c.jsx(cE,{name:s.name,url:s.url,image:s.image})})},s.id))]})},rz=()=>{const[t,e]=f.useState([]);return f.useEffect(()=>{const n=be(we,"TheArtist"),r=Ke(n,Nn("orderDisplay","==","1"));Ge(r).then(s=>e(s.docs.map(i=>({id:i.id,...i.data()}))))},[]),c.jsx(c.Fragment,{children:c.jsx(ge,{className:"artist-home-container",children:c.jsxs($,{children:[t.map(n=>c.jsx(F,{className:"image-artist-container",children:c.jsx(Er,{src:n.image,className:"image-artist-home"})},n.id)),c.jsxs(F,{lg:!0,children:[c.jsx("p",{children:" Let me introduce myself, I am Nadya Poklad, an artist born in Ukraine. From a very young age, I discovered my passion for music and the arts, and dedicated myself to cultivating my talent as a composer, pianist, and prose writer. "}),c.jsx("p",{style:{display:"none"},children:" Throughout my career, I have had the opportunity to share my art in various schools and institutions, and to participate in performances in China and Canada, where I have demonstrated my skill and creativity on stage. "}),c.jsx("p",{style:{display:"none"},children:" I currently reside in Canada, where I continue to work hard to improve my art and surprise my audience with my music and lyrics."}),c.jsxs("p",{children:[" For me, art is more than a passion, it is a way of life and a way to express myself in the world. I hope to continue sharing my work with the world and inspiring others through my music and art. ",c.jsx("br",{})," "]})," ",c.jsxs("p",{children:[c.jsx(Et,{to:"/theArtist",className:"link-header",style:{textAlign:"right"},children:c.jsx(c.Fragment,{children:" read more "})})," "]})]})]})})})},sz=()=>{const{UpcomingEventsPost:t}=li();return c.jsxs(cf,{defaultActiveKey:"",children:[t.map(e=>c.jsx(cf.Item,{id:e.id,variant:"dark",children:`${e.date} - ${e.title}`},e.id)),c.jsxs(cf.Item,{action:!0,href:"/upcoming_events",variant:"light",children:[" ",c.jsx("b",{children:"View Calendar..."})]})]})},cI=()=>c.jsxs(ge,{children:[c.jsxs($,{className:"responsive-Row",children:[c.jsxs(F,{sm:"8",md:"8",lg:"8",children:[c.jsxs($,{children:[c.jsx("h4",{className:"title home-h5 mx-2 mt-5 mb-3",children:" The Artist "}),c.jsx("br",{})]}),c.jsx(rz,{})]}),c.jsxs(F,{sm:"9",md:"8",lg:"3",children:[c.jsxs($,{children:[c.jsx("h4",{className:"title home-h5 mx-2 mt-5 mb-3",children:"Upcoming Events"}),c.jsx("br",{})]}),c.jsx(sz,{})]})]}),c.jsx("h4",{className:"home-h5 mx-2 mt-5 mb-3",children:" Works "}),c.jsx("br",{}),c.jsx(F,{children:c.jsx($,{className:"responsive-Row ",sm:"1",md:"2",lg:"3",children:c.jsx(nz,{})})})]});function ih({subcategory:t}){return c.jsx(c.Fragment,{children:c.jsx(Eu,{defaultActiveKey:0,alwaysOpen:!0,children:t.map((e,n)=>c.jsxs(Eu.Item,{eventKey:n,children:[c.jsx(Eu.Header,{children:c.jsxs($,{children:[e.date," - ",e.title]})}),c.jsxs(Eu.Body,{children:[c.jsxs($,{children:[c.jsx(F,{children:e.description}),c.jsx(F,{className:"accordion-col-img",children:c.jsx("img",{src:e.image,alt:"",className:"accordion-img"})})]}),c.jsx("a",{href:e.url,target:"_blank",rel:"noreferrer",style:{color:"white"},children:e.url})]})]},n))})})}const iz=()=>{const{worksComposerPost:t}=li();return c.jsxs(c.Fragment,{children:[c.jsxs($,{children:[c.jsx("h4",{className:"title home-h5 mx-2 mt-3",children:"Composer"}),c.jsx("br",{})]}),c.jsx(ih,{subcategory:t})]})},oz=()=>{const{worksPianistPost:t}=li();return c.jsxs(c.Fragment,{children:[c.jsxs($,{children:[c.jsx("h4",{className:"title home-h5 mx-2 mt-3",children:"Pianist"}),c.jsx("br",{})]}),c.jsx(ih,{subcategory:t})]})},az=()=>{const{worksMusicalOrganizerPost:t}=li();return c.jsxs(c.Fragment,{children:[c.jsx("h4",{className:"title home-h5 mx-2 mt-3",children:"Musical event organizer"}),c.jsx("br",{}),c.jsx($,{}),c.jsx(ih,{subcategory:t})]})},lz=()=>{const{worksTeacherPost:t}=li();return c.jsxs(c.Fragment,{children:[c.jsxs($,{children:[c.jsx("h4",{className:"title home-h5 mx-2 mt-3",children:"Teacher"}),c.jsx("br",{})]}),c.jsx(ih,{subcategory:t})]})};function uz(){return c.jsx(c.Fragment,{children:c.jsxs(ge,{children:[c.jsxs($,{children:[c.jsx("h4",{className:"title home-h5 mx-2 mt-3",children:"Works "}),c.jsx("br",{})]}),c.jsxs(tg,{children:[c.jsx(Fe,{path:"pianist",element:c.jsx(oz,{})}),c.jsx(Fe,{path:"composer",element:c.jsx(iz,{})}),c.jsx(Fe,{path:"teacher",element:c.jsx(lz,{})}),c.jsx(Fe,{path:"musical_event_organizer",element:c.jsx(az,{})}),c.jsx(Fe,{path:"/",element:c.jsx(I1,{to:"/works/Pianist"})})]})]})})}const Go=({children:t})=>{let{user:e}=Bl();return e===null?c.jsx(I1,{to:"/admin"}):t};function Vl(){return c.jsx(c.Fragment,{children:c.jsxs(F,{sm:"3",className:"side-menu p-4",children:[c.jsxs($,{className:"side-row-title",children:[" ",c.jsx("h3",{className:"title",children:c.jsx(Et,{to:"/dashboard",className:"link",children:"Site Management"})})]}),c.jsxs($,{className:"side-row",children:[" ",c.jsx(Et,{to:"/dashboard/artist",className:"link-text",children:"The artist"})]}),c.jsxs($,{className:"side-row",children:[" ",c.jsx(Et,{to:"/dashboard/works",className:"link-text",children:"Works"})]}),c.jsxs($,{className:"side-row",children:[" ",c.jsx(Et,{to:"/dashboard/upcoming-events",className:"link-text",children:"Upcoming events"})]}),c.jsxs($,{className:"side-row",children:[" ",c.jsx(Et,{to:"/dashboard/contact",className:"link-text",children:"Contact"})]})]})})}function gs({message:t}){return c.jsxs(K,{style:cz,children:[c.jsx(K.Header,{style:dz,children:c.jsx(K.Title,{children:"Error!"})}),c.jsx(K.Body,{children:c.jsx(K.Text,{"data-testid":"error-message",children:t})})]})}const cz={width:"90%",marginBottom:15,marginTop:15,marginRight:"auto",marginLeft:"auto",backgroundColor:"#acd8ec",borderWidth:3,borderColor:"#6098ad"},dz={width:"100%",backgroundColor:"#c2ced6"};function hz({menuItems:t,setAddMenuItemVisible:e}){const[n,r]=f.useState(""),[s,i]=f.useState(""),[o,a]=f.useState(null),[l,u]=f.useState(!1),[d,h]=f.useState(!1);f.useEffect(()=>{a(t.error)},[t.error]),f.useEffect(()=>{h(t.loading)},[t.loading]);const p=()=>{r(""),i(""),a(null)},m=w=>{w.preventDefault();const g={description:n,contactType:s};l?(a("Form has unresolved errors!"),setTimeout(()=>{a(null)},5e3)):t.addItem(g)&&(p(),e(!1))};return c.jsxs(A,{onSubmit:m,className:"menu-add-form","data-testid":"add-menu-item-form",children:[c.jsxs(F,{children:[c.jsx(A.Label,{className:"mt-3",children:"Complete the following fields to add a new contact item:"}),c.jsxs(A.Select,{name:"role",className:"mt-2 mb-2",value:s,onChange:w=>i(w.target.value),children:[c.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select contact type"}),c.jsx("option",{value:"Email",children:"E-mail address"}),c.jsx("option",{value:"Youtube",children:"YouTube"}),c.jsx("option",{value:"SocialMedia",children:"Social media"})]}),c.jsx(A.Control,{as:"textarea",rows:2,cols:1,name:"contact-description",className:"menu-add-form-input-description ",type:"text",placeholder:"Enter the text that will appear",value:n,onChange:w=>r(w.target.value),required:!0})]}),c.jsx($,{children:c.jsxs(F,{className:"menu-form-submit-container",children:[c.jsx(fe,{variant:"btn",type:"submit","data-testid":"submit-button",children:"Save new Contact"}),d?c.jsx(sh,{variant:"btn",animation:"border",role:"loading",className:"menu-form-spinner"}):null]})}),o!==null&&c.jsx($,{children:c.jsx(gs,{message:o})})]})}function jo(){const t=["","Pianist","Composer","Teacher","Musical Event Organizer","Performances"],[e,n]=f.useState([]),[r,s]=f.useState(null),[i,o]=f.useState(!1),[a,l]=f.useState(null),[u,d]=f.useState(t),[h,p]=f.useState(!1),[m,w]=f.useState(!1),[g,E]=f.useState(!1),[v,y]=f.useState(!1),[x,_]=f.useState(!1),[C,S]=f.useState(!0);f.useEffect(()=>{o(!0);const b=Ke(be(we,"Works"),Za("category","asc"));Ge(b).then(R=>{n(R.docs.map(z=>({...z.data(),id:z.id}))),s(null)}).catch(R=>{s(R.message)}),o(!1)},[]);const T=(b,R)=>(D()?(s("Storage is full, please delete item before adding new one."),setTimeout(()=>{s(null)},5e3)):R?k(b,R):P(b),r===null),k=(b,R)=>{const H=`${Date.now()}-${R.name}`;b.imageFileName=H;const le=Yt(Xt,"works/"+H),ae=No(le,R);ae.on("state_changed",ue=>{},ue=>{s(ue.message)},()=>{Ro(ae.snapshot.ref).then(ue=>{b.image=ue,b.image!==null&&P(b)})})},P=async b=>{await qd(be(we,"Works"),b).then(R=>{b.id=R.id,n(z=>[...z,b]),l("Item uploaded succesfully!"),setTimeout(()=>{l(null)},5e3),s(null)}).catch(R=>{s(R.message)})},D=()=>{const b=Yt(Xt,"Works");let R=!1;return Jd(b).then(z=>{let H=20;(z.items.length>=H||e.length>=H)&&(R=!0)}).catch(z=>{s(z.message)}),R},L=async(b,R)=>{if(R===null){if(M(b)){const H=e.filter(le=>le.id!==b);n(H),l("Item succesfully deleted!"),setTimeout(()=>{l(null)},5e3),s(null)}}else if(q(R)){if(M(b)){const le=e.filter(ae=>ae.id!==b);n(le),l("Item succesfully deleted!"),setTimeout(()=>{l(null)},5e3),s(null)}}else l(null),s("Could not delete image file from storage."),setTimeout(()=>{s(null)},5e3)},M=async b=>{let R=!1;const z=_r(we,"Works",b);return await Wd(z).then(()=>{R=!0}).catch(H=>{}),R},q=async b=>{let R=!1;const z=Yt(Xt,"Works/"+b);return await Zd(z).then(()=>{R=!0}).catch(H=>{}),R};function V(b){/^https?:\/\/\S+$/i.test(toLowerCase(b))?(_(!1),y(!1)):(_(!0),y(!0),s("Please add https:\\ at beginning"),E(!0),setTimeout(()=>{s(null)},5e3))}return{data:e,setData:n,error:r,loading:i,succesfull:a,deleteItem:L,addItem:T,categories:u,setCategories:d,validateUrl:V,handleShowConfirmDelete:()=>{w(!0)},handleClose:()=>w(!1),handleCancelDeletion:()=>w(!1),handleCancel:()=>{p(!1)},update:h,setUpdate:p,showConfirmDelete:m,setShowConfirmDelete:w,formError:x,setFormError:_,formValid:v,setFormValid:y,urlError:g,setUrlError:E,fileValid:C,setFileValid:S}}function fz({item:t,deleteItem:e,setError:n,setSuccessfull:r}){let{showConfirmDelete:s,update:i,setUpdate:o,setShowConfirmDelete:a,handleShowConfirmDelete:l,handleClose:u,handleCancel:d,handleCancelDeletion:h}=jo();const[p,m]=f.useState(t.description),[w,g]=f.useState(t.contactType),[E,v]=f.useState(t.id),[y,x]=f.useState(""),[_,C]=f.useState(t.description),S=_r(we,"Contact",E),T=()=>{e(E),a(!1)},k=async()=>{p!==_&&!(_==="")&&await qs(S,{description:_}).then(()=>{m(_),r("Item updated succesfully!"),setTimeout(()=>{r(null)},5e3)}).catch(L=>{n(L.message)}),o(!i)};return c.jsxs(c.Fragment,{children:[c.jsxs(K,{className:[y,"card-edition-contact","mt-2","mb-2"],children:[c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},children:[c.jsx(A.Label,{children:" Contact item"}),c.jsx(K.Text,{className:"menu-item-card-description-contact",children:i?c.jsxs(A,{children:[c.jsxs(A.Select,{name:"role",className:"mt-2 mb-2",value:w,onChange:P=>g(P.target.value),children:[c.jsx("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Select contact type"}),c.jsx("option",{value:"Email",children:"E-mail address"}),c.jsx("option",{value:"Youtube",children:"YouTube"}),c.jsx("option",{value:"Instagram",children:"Instagram"}),c.jsx("option",{value:"Facebook",children:"Facebook"}),c.jsx("option",{value:"TikTok",children:"TikTok"}),c.jsx("option",{value:"Twitter",children:"Twitter"}),c.jsx("option",{value:"Twitch",children:"Twitch"})]}),c.jsx(A.Control,{as:"textarea",rows:2,cols:1,type:"text",defaultValue:p,placeholder:"Enter the text that will appear ",onChange:P=>C(P.target.value),size:"sm"})]}):p})]})}),c.jsx(F,{xs:12,children:c.jsx(K.Body,{className:"card-end-buttons",children:c.jsxs(F,{style:{margin:"auto"},children:[c.jsx(fe,{onClick:l,variant:"btn",className:"mt-2 mb-2",children:" Delete"}),i&&c.jsx(fe,{onClick:d,variant:"btn",className:"mt-2 mb-2 mx-1",children:"   Cancel  "}),c.jsx(fe,{onClick:k,variant:"btn",className:"mt-2 mx-1 mb-2",children:i?c.jsx(c.Fragment,{children:"Save"}):c.jsx(c.Fragment,{children:"Edit"})})]})})})]}),c.jsx(yn,{show:s,onHide:u,className:"mt-5 p-4",children:c.jsxs(yn.Body,{children:[c.jsx("h5",{className:"title",children:"Do you confirm you want to delete this information?"}),p,c.jsxs(yn.Footer,{children:[c.jsx(fe,{onClick:h,variant:"btn",children:"Cancel"}),c.jsx(fe,{onClick:T,variant:"btn",children:"Yes, delete."})]})]})})]})}function oh({message:t}){return c.jsx(K,{style:pz,children:c.jsx(K.Body,{children:c.jsx(K.Text,{"data-testid":"messagebox-message",children:t})})})}const pz={width:"90%",marginBottom:5,marginTop:5,marginRight:"auto",marginLeft:"auto",backgroundColor:"#c2ced6",borderWidth:1,borderColor:"#41818d",color:"#000000"};function mz(){const[t,e]=f.useState([]),[n,r]=f.useState(null),[s,i]=f.useState(!1),[o,a]=f.useState(null);f.useEffect(()=>{i(!0);const m=Ke(be(we,"Contact"));Ge(m).then(w=>{e(w.docs.map(g=>({...g.data(),id:g.id}))),r(null)}).catch(w=>{r(w.message)}),i(!1)},[]);const l=m=>(d()?r("Storage is full, please delete item before adding new one."):u(m),n===null),u=async m=>{await qd(be(we,"Contact"),m).then(w=>{m.id=w.id,e(g=>[...g,m]),a("contact uploaded succesfully!"),r(null)}).catch(w=>{r(w.message)})},d=()=>{const m=Yt(Xt,"Contact");let w=!1;return Jd(m).then(g=>{let E=20;(g.items.length>=E||t.length>=E)&&(w=!0)}).catch(g=>{r(g.message)}),w},h=async m=>{if(p(m)){const g=t.filter(E=>E.id!==m);e(g),a("Item succesfully deleted!"),r(null)}else if(p(m)){const E=t.filter(v=>v.id!==m);e(E),a("Item succesfully deleted!"),r(null)}else a(null),r("Could not delete file from storage.")},p=async m=>{let w=!1;const g=_r(we,"Contact",m);return await Wd(g).then(()=>{w=!0}).catch(E=>{}),w};return{data:t,setData:e,error:n,loading:s,succesfull:o,deleteItem:h,addItem:l}}function gz(){const[t,e]=f.useState(!1),[n,r]=f.useState(null),[s,i]=f.useState(null),[o,a]=f.useState("Add new item"),[l,u]=f.useState(!1),d=mz();f.useEffect(()=>{r(d.error)},[d.error]),f.useEffect(()=>{e(d.loading)},[d.loading]),f.useEffect(()=>{i(d.succesfull)},[d.succesfull]),f.useEffect(()=>{l&&a("Close"),l||a("Add new item")},[l]);const h=()=>{u(!l)};return c.jsxs(ge,{className:"container-page",children:[c.jsxs($,{className:"container-menu-add-form",children:[c.jsx($,{children:c.jsx(F,{children:c.jsx(fe,{variant:"btn",role:"button","data-testid":"button-toggle-addMenuItemVisible",onClick:h,children:o})})}),l?c.jsx(hz,{menuItems:d,setAddMenuItemVisible:u}):null]}),c.jsxs($,{className:"container-menu-item-cards mt-2",children:[n!==null&&c.jsx(gs,{message:n}),s!==null&&c.jsx(oh,{message:s}),c.jsx("h5",{className:"title posts-title",children:"List of Contacts "}),t?c.jsx("p",{children:"Loading..."}):d.data.map(p=>c.jsx(fz,{item:p,updateItem:d==null?void 0:d.updateItem,deleteItem:d==null?void 0:d.deleteItem,updateItemActicity:d==null?void 0:d.updateItemActivity,setError:r,setSuccessfull:i},p.id))]})]})}function vz(){return c.jsx(c.Fragment,{children:c.jsxs($,{children:[c.jsx(Vl,{}),c.jsx(F,{sm:9,className:"main-menu",children:c.jsxs(ge,{children:[c.jsx($,{children:c.jsx("h4",{className:"title mt-3",children:"Contact page: content administration "})}),c.jsx($,{children:c.jsx(gz,{})})]})})]})})}function yz(){const{user:t}=Bl();return vo(),c.jsx(c.Fragment,{children:c.jsxs($,{children:[c.jsx(Vl,{}),c.jsx(F,{sm:"9",className:"main-menu",children:c.jsx(ge,{fluid:!0,children:c.jsx($,{className:"mt-3",children:c.jsx(F,{sm:10,children:c.jsx($,{children:c.jsxs("p",{style:{marginLeft:0},children:[" Your are logged in with the email: ",t&&t.email]})})})})})})]})})}function wz({menuItems:t}){const[e,n]=f.useState(""),[r,s]=f.useState(""),[i,o]=f.useState(""),[a,l]=f.useState(""),[u,d]=f.useState(""),[h,p]=f.useState(""),[m,w]=f.useState(""),[g,E]=f.useState(null),[v,y]=f.useState(""),[x,_]=f.useState(null),[C,S]=f.useState(!1),[T,k]=f.useState(!0),[P,D]=f.useState(!1);f.useEffect(()=>{_(t.error)},[t.error]),f.useEffect(()=>{S(t.loading)},[t.loading]);const L=()=>{o(""),n(""),s(""),d(""),p(""),l(""),w(""),E(null),y(Date.now()),_(null)},M=V=>{V.preventDefault();const ie={title:e,description:r,image:null,imageFileName:null,date:i,linkToBuy:u,linkToEvent:h,eventType:a,eventLocation:m};P?(_("Form has unresolved errors!"),setTimeout(()=>{_(null)},5e3)):t.addItem(ie,g)&&L()},q=V=>{const ie=V.target.files[0];ie&&(ie.size<2e6?(k(!0),D(!1),E(ie)):(k(!1),D(!0)))};return c.jsxs(A,{onSubmit:M,className:"menu-add-form","data-testid":"add-menu-item-form",children:[c.jsxs($,{children:[c.jsxs(F,{className:"menu-add-input-container",children:[c.jsx(A.Label,{children:"Date"}),c.jsx(A.Control,{name:"upcomingEvents-date",className:"menu-add-form-input",type:"date",placeholder:"",value:i,onChange:V=>o(V.target.value),required:!0}),c.jsx(A.Label,{children:"Event Title"}),c.jsx(A.Control,{name:"upcomingEvents-title",className:"menu-add-form-input",type:"text",placeholder:"Enter the text that will appear as a Title",value:e,onChange:V=>n(V.target.value),required:!0}),c.jsx(A.Label,{children:"Description"}),c.jsx(A.Control,{as:"textarea",rows:4,cols:50,name:"upcomingEvents-description",className:"menu-add-form-input-description ",type:"text",placeholder:"Enter the text that will appear bellow the image",value:r,onChange:V=>s(V.target.value),required:!0}),c.jsx(A.Label,{children:"Free Show / Paid Event"}),c.jsx(A.Control,{name:"upcomingEvents-eventType",className:"menu-add-form-input",type:"text",placeholder:"Enter 'Free' or 'Pay'",value:a,onChange:V=>l(V.target.value),required:!0}),c.jsx(A.Label,{children:"Link to Event"}),c.jsx(A.Control,{name:"upcomingEvents-linkToEvent",className:"menu-add-form-input",type:"text",placeholder:"Enter the url to event organizer",value:h,onChange:V=>p(V.target.value),required:!0}),c.jsx(A.Label,{children:"Link to Buy Tickets"}),c.jsx(A.Control,{name:"upcomingEvents-linkToBuy",className:"menu-add-form-input",type:"text",placeholder:"Enter the url to buy tickets",value:u,onChange:V=>d(V.target.value),required:!0}),c.jsx(A.Label,{children:"Event Location"}),c.jsx(A.Control,{name:"upcomingEvents-eventLocationy",className:"menu-add-form-input",type:"text",placeholder:"Enter the adress/location of Event",value:m,onChange:V=>w(V.target.value),required:!0}),c.jsx(A.Label,{children:"Image"}),c.jsx(A.Control,{className:"menu-add-form-input",type:"file",accept:".jpg, .jpeg, .png, .jfif",onChange:V=>q(V),isInvalid:!T},v),c.jsx(A.Control.Feedback,{type:"invalid",children:"File size is too big! Maximum size of file is 2mb."})]}),c.jsxs(F,{className:"menu-item-container-image-preview",children:[c.jsx(A.Label,{children:"Preview image:"}),c.jsx(ge,{className:"menu-item-card-preview",children:g!==null&&c.jsx(Er,{className:"preview-image",width:"auto",height:"250px",src:URL.createObjectURL(g)})})]})]}),c.jsx($,{children:c.jsxs(F,{className:"menu-form-submit-container",children:[c.jsx(fe,{variant:"btn",type:"submit","data-testid":"submit-button",children:"Save new post"}),C?c.jsx(sh,{variant:"btn",animation:"border",role:"loading",className:"menu-form-spinner"}):null]})}),x!==null&&c.jsx($,{children:c.jsx(gs,{message:x})})]})}async function zv(t){const e=Yt(Xt,t);let n=!1;return await Zd(e).then(()=>{n=!0}).catch(r=>{}),n}function Ez({item:t,deleteItem:e,setError:n,setSuccessfull:r}){let{showConfirmDelete:s,update:i,setUpdate:o,setShowConfirmDelete:a,handleShowConfirmDelete:l,handleClose:u,handleCancel:d,handleCancelDeletion:h}=jo();const[p,m]=f.useState(t.image),[w,g]=f.useState(t.imageFileName),[E,v]=f.useState(t.id),[y,x]=f.useState(""),[_,C]=f.useState(t.date),[S,T]=f.useState(t.description),[k,P]=f.useState(t.eventType),[D,L]=f.useState(t.eventLocation),[M,q]=f.useState(t.linkToBuy),[V,ie]=f.useState(t.linkToEvent),[Z,Q]=f.useState(t.date),[I,b]=f.useState(t.description),[R,z]=f.useState(t.title),[H,le]=f.useState(t.title),[ae,ue]=f.useState(t.eventLocation),[pe,rt]=f.useState(t.eventType),[He,Ut]=f.useState(t.linkToBuy),[Ft,Bt]=f.useState(t.linkToEvent),[bt,At]=f.useState(null),ve=_r(we,"UpcomingEvents",E),Ee=()=>{e(E,w),a(!1)},en=async()=>{let Ce="UpcomingEvents/",ut=`${Date.now()}-${bt==null?void 0:bt.name}`;const ui=Yt(Xt,Ce+ut),Sr=No(ui,bt);Sr.on("state_changed",oe=>{},oe=>{n(oe.message)},()=>{Ro(Sr.snapshot.ref).then(oe=>{qs(ve,{image:oe}),m(oe),n(null)})}),await zv("UpcomingEvents/"+w)&&g(ut)},fn=async()=>{const Ce=Z===""&&I===""&&H===""&&ae===""&&pe===""&&He===""&&Ft==="",lt=_!==Z||S!==I||R!==H||D!==ae||k!==pe||M!==He||V!==Ft;bt!==null&&(en(),At(null)),lt&&!Ce&&await qs(ve,{date:Z,description:I,title:H,eventType:pe,eventLocation:ae,linkToBuy:He,linkToEvent:Ft}).then(()=>{C(Z),z(H),T(I),P(pe),L(ae),q(He),ie(Ft),r("Item updated succesfully!"),setTimeout(()=>{r(null)},5e3)}).catch(ut=>{n(ut.message)}),o(!i)},vs=Ce=>{let lt=Ce.target.files[0];lt&&m(URL.createObjectURL(lt)),At(lt)};return c.jsxs(c.Fragment,{children:[c.jsxs(K,{className:[y,"card-edition","menu-item-card-text-event","mt-2","mb-2"],children:[c.jsx(K.Img,{variant:"top",src:p,alt:R,className:"menu-item-card-image-event"}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"12px"},className:" card-body-event  ",children:[c.jsx(A.Label,{children:"Title:"}),c.jsx(K.Title,{style:{fontSize:"14px"},className:"card-body-event mt-1 mb-",children:i?c.jsx(A.Control,{type:"text",defaultValue:H,placeholder:"Enter a new Title",onChange:Ce=>le(Ce.target.value),size:"sm"}):R})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"12px"},className:" card-body-event ",children:[c.jsx(A.Label,{children:"Date:"}),c.jsx(K.Title,{xs:12,style:{fontSize:"14px"},className:"card-body-event mt-1 mb-",children:i?c.jsx(A.Control,{type:"date",defaultValue:Z,placeholder:"",onChange:Ce=>Q(Ce.target.value),size:"sm"}):_})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:"card-body-event ",children:[c.jsx(A.Label,{className:"form-label",children:"Location:"}),c.jsx(K.Text,{children:i?c.jsx(A.Control,{type:"text",defaultValue:D,placeholder:"Enter the text that will appear ",onChange:Ce=>ue(Ce.target.value),size:"sm"}):D})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:"card-body-event",children:[c.jsx(A.Label,{children:"Event type:"}),c.jsx(K.Text,{children:i?c.jsx(A.Control,{type:"text",defaultValue:k,placeholder:"Enter 'Free' or 'Pay'",onChange:Ce=>rt(Ce.target.value),size:"sm"}):k})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:"card-body-event",children:[c.jsx(A.Label,{children:"Link to Buy Tickets:"}),c.jsx(K.Text,{children:i?c.jsx(A.Control,{type:"text",defaultValue:M,placeholder:"Enter the text that will appear ",onChange:Ce=>Ut(Ce.target.value),size:"sm"}):M})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:"card-body-event",children:[c.jsx(A.Label,{children:"Link to Event:"}),c.jsx(K.Text,{children:i?c.jsx(A.Control,{type:"text",defaultValue:V,placeholder:"Enter the text that will appear ",onChange:Ce=>Bt(Ce.target.value),size:"sm"}):V})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:"card-body-event",children:[c.jsx(A.Label,{children:"Image and Description:"}),i===!0&&c.jsx(A.Control,{type:"file",onChange:Ce=>vs(Ce),id:"input-update-image",accept:".jpg, .jpeg, .png, .jfif",size:"sm"})]})}),c.jsx(F,{xs:12,children:c.jsx(K.Body,{style:{fontSize:"14px"},className:"card-body-event",children:c.jsx(K.Text,{className:"menu-item-card-description-event",children:i?c.jsx(A.Control,{type:"text",defaultValue:S,placeholder:"Enter the text that will appear next to the image",onChange:Ce=>b(Ce.target.value),size:"sm"}):S})})}),c.jsx(F,{xs:12,children:c.jsx(K.Body,{className:"card-end-buttons",children:c.jsxs(F,{style:{margin:"auto"},children:[c.jsx(fe,{onClick:l,variant:"btn",className:"mt-2 mb-3",children:"   Delete  "}),i&&c.jsx(fe,{onClick:d,variant:"btn",className:"mt-2 mb-3 mx-2",children:"   Cancel  "}),i?c.jsx(fe,{onClick:fn,variant:"btn",className:"mt-2 mx-2 mb-3",children:c.jsx(c.Fragment,{children:"Save"})}):c.jsx(fe,{onClick:fn,variant:"btn",className:"mt-2 mx-2 mb-3",children:c.jsx(c.Fragment,{children:"Edit"})})]})})})]}),c.jsx(yn,{show:s,onHide:u,className:"mt-5 p-4",children:c.jsxs(yn.Body,{children:[c.jsx("h5",{className:"title",children:"Do you confirm you want to delete this information?"}),c.jsx("p",{children:S}),c.jsxs(yn.Footer,{children:[c.jsx(fe,{onClick:h,variant:"btn",children:"Cancel"}),c.jsx(fe,{onClick:Ee,variant:"btn",children:"Yes, delete."})]})]})})]})}function xz(){const[t,e]=f.useState([]),[n,r]=f.useState(null),[s,i]=f.useState(!1),[o,a]=f.useState(null);f.useEffect(()=>{i(!0);const g=Ke(be(we,"UpcomingEvents"));Ge(g).then(E=>{e(E.docs.map(v=>({...v.data(),id:v.id}))),r(null)}).catch(E=>{r(E.message)}),i(!1)},[]);const l=(g,E)=>(h()?r("Storage is full, please delete item before adding new one."):E?u(g,E):d(g),n===null),u=(g,E)=>{const y=`${Date.now()}-${E.name}`;g.imageFileName=y;const x=Yt(Xt,"UpcomingEvents/"+y),_=No(x,E);_.on("state_changed",C=>{},C=>{r(C.message)},()=>{Ro(_.snapshot.ref).then(C=>{g.image=C,g.image!==null&&d(g)})})},d=async g=>{await qd(be(we,"UpcomingEvents"),g).then(E=>{g.id=E.id,e(v=>[...v,g]),a("Item uploaded succesfully!"),r(null)}).catch(E=>{r(E.message)})},h=()=>{const g=Yt(Xt,"UpcomingEvents");let E=!1;return Jd(g).then(v=>{let y=20;(v.items.length>=y||t.length>=y)&&(E=!0)}).catch(v=>{r(v.message)}),E},p=async(g,E)=>{if(E===null){if(m(g)){const y=t.filter(x=>x.id!==g);e(y),a("Item succesfully deleted!"),r(null)}}else if(w(E)){if(m(g)){const x=t.filter(_=>_.id!==g);e(x),a("Item succesfully deleted!"),r(null)}}else a(null),r("Could not delete image file from storage.")},m=async g=>{let E=!1;const v=_r(we,"UpcomingEvents",g);return await Wd(v).then(()=>{E=!0}).catch(y=>{}),E},w=async g=>{let E=!1;const v=Yt(Xt,"UpcomingEvents/"+g);return await Zd(v).then(()=>{E=!0}).catch(y=>{}),E};return{data:t,setData:e,error:n,loading:s,succesfull:o,deleteItem:p,addItem:l}}function _z(){const[t,e]=f.useState(!1),[n,r]=f.useState(null),[s,i]=f.useState(null),[o,a]=f.useState("Add new item"),[l,u]=f.useState(!1),d=xz();f.useEffect(()=>{r(d.error)},[d.error]),f.useEffect(()=>{e(d.loading)},[d.loading]),f.useEffect(()=>{i(d.succesfull)},[d.succesfull]),f.useEffect(()=>{l&&a("Close"),l||a("Add new item")},[l]);const h=()=>{u(!l)};return c.jsxs(ge,{className:"container-page",children:[c.jsxs($,{className:"container-menu-add-form",children:[c.jsx($,{children:c.jsx(F,{children:c.jsx(fe,{variant:"btn",role:"button","data-testid":"button-toggle-addMenuItemVisible",onClick:h,children:o})})}),l?c.jsx(wz,{menuItems:d}):null]}),c.jsxs($,{className:"container-menu-item-cards mt-2",children:[n!==null&&c.jsx(gs,{message:n}),s!==null&&c.jsx(oh,{message:s}),c.jsx("h5",{className:"title posts-title",children:"List of posts in The Upcoming Events section"}),t?c.jsx("p",{children:"Loading..."}):d.data.map(p=>c.jsx(Ez,{item:p,updateItem:d==null?void 0:d.updateItem,deleteItem:d==null?void 0:d.deleteItem,updateItemActicity:d==null?void 0:d.updateItemActivity,setError:r,setSuccessfull:i},p.id))]})]})}function Cz(){return c.jsx(c.Fragment,{children:c.jsxs($,{children:[c.jsx(Vl,{}),c.jsx(F,{sm:"9",className:"main-menu",children:c.jsxs(ge,{fluid:!0,children:[c.jsx($,{children:c.jsx("h4",{className:"title mt-3",children:"Upcoming Events page: content administration "})}),c.jsx($,{children:c.jsx(_z,{})})]})})]})})}function Sz({menuItems:t}){const[e,n]=f.useState(""),[r,s]=f.useState(0),[i,o]=f.useState(null),[a,l]=f.useState(""),[u,d]=f.useState(null),[h,p]=f.useState(!1),[m,w]=f.useState(!0),[g,E]=f.useState(!1);f.useEffect(()=>{d(t.error)},[t.error]),f.useEffect(()=>{p(t.laoding)},[t.loading]);const v=()=>{n(""),s(0),o(null),l(Date.now()),d(null)},y=_=>{_.preventDefault();const C={description:e,orderDisplay:r,image:null,imageFileName:null};g?(d("Form has unresolved errors!"),setTimeout(()=>{d(null)},5e3)):t.addItem(C,i)&&v()},x=_=>{const C=_.target.files[0];C&&(C.size<2e6?(w(!0),E(!1),o(C)):(w(!1),E(!0)))};return c.jsxs(A,{onSubmit:y,className:"menu-add-form mt-4","data-testid":"add-menu-item-form",children:[c.jsxs($,{children:[c.jsxs(F,{className:"menu-add-input-container",children:[c.jsx(A.Label,{children:"Description"}),c.jsx(A.Control,{as:"textarea",rows:4,cols:50,name:"artist-description",className:"menu-add-form-input",type:"text",placeholder:"Enter the text that will appear next to the image",value:e,onChange:_=>n(_.target.value),required:!0}),c.jsx(A.Label,{children:"Order Display"}),c.jsx(A.Control,{className:"menu-add-form-input",type:"number",step:"1",min:"0",placeholder:"Enter the order display",value:r,onChange:_=>s(_.target.value),required:!0}),c.jsx(A.Label,{children:"Image"}),c.jsx(A.Control,{className:"menu-add-form-input",type:"file",accept:".jpg, .jpeg, .png, .jfif",onChange:_=>x(_),isInvalid:!m},a),c.jsx(A.Control.Feedback,{type:"invalid",children:"File size is too big! Maximum size of file is 2mb."})]}),c.jsxs(F,{className:"menu-item-container-image-preview",children:[c.jsx(A.Label,{children:"Preview image:"}),c.jsx(ge,{className:"menu-item-card-preview",children:i!==null&&c.jsx(Er,{className:"preview-image",width:"auto",height:"250px",src:URL.createObjectURL(i)})})]})]}),c.jsx($,{children:c.jsxs(F,{className:"menu-form-submit-container",children:[c.jsx(fe,{variant:"btn",type:"submit","data-testid":"submit-button",children:"Save new post"}),h?c.jsx(sh,{variant:"btn",animation:"border",role:"loading",className:"menu-form-spinner"}):null]})}),u!==null&&c.jsx($,{children:c.jsx(gs,{message:u})})]})}function Tz({item:t,deleteItem:e,setError:n,setSuccessfull:r}){let{showConfirmDelete:s,update:i,setUpdate:o,setShowConfirmDelete:a,handleShowConfirmDelete:l,handleClose:u,handleCancel:d,handleCancelDeletion:h}=jo();const[p,m]=f.useState(t.description),[w,g]=f.useState(t.orderDisplay),[E,v]=f.useState(t.image),[y,x]=f.useState(t.imageFileName),[_,C]=f.useState(t.id),[S,T]=f.useState(t.description),[k,P]=f.useState(t.orderDisplay),[D,L]=f.useState(null),M=_r(we,"TheArtist",_),q=()=>{e(_,y),a(!1)},V=async()=>{let Q="TheArtist/",b=`${Date.now()}-${D==null?void 0:D.name}`;const R=Yt(Xt,Q+b),z=No(R,D);z.on("state_changed",le=>{},le=>{n(le.message)},()=>{Ro(z.snapshot.ref).then(le=>{qs(M,{image:le}),v(le),n(null)})}),await zv("TheArtist/"+y)&&x(b)},ie=async()=>{const Q=S===""&&k==="",I=p!==S||w!==P;D!==null&&(V(),L(null)),I&&!Q&&await qs(M,{description:S,orderDisplay:k}).then(()=>{m(S),g(k),r("Item updated succesfully!"),setTimeout(()=>{r(null)},5e3)}).catch(b=>{n(b.message)}),o(!i)},Z=Q=>{let I=Q.target.files[0];I&&v(URL.createObjectURL(I)),L(I)};return c.jsxs(c.Fragment,{children:[c.jsxs(K,{className:"card-edition-artist menu-item-card-text-event m-2",children:[c.jsx(K.Img,{variant:"top",src:E,alt:p,className:"menu-item-card-image-event"}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{className:"menu-item-card-body",children:[i===!0&&c.jsx(A.Control,{type:"file",onChange:Q=>Z(Q),id:"input-update-image",accept:".jpg, .jpeg, .png, .jfif",size:"sm"}),c.jsx(A.Label,{children:"Description:"}),c.jsx(K.Text,{rows:3,className:"textOverflow",children:i?c.jsx(A.Control,{as:"textarea",rows:4,cols:50,type:"text",defaultValue:p,placeholder:"Enter the text that will appear next to the image",onChange:Q=>T(Q.target.value),size:"sm"}):p}),c.jsxs(F,{className:"menu-item-card-row",children:[c.jsx(F,{children:c.jsx(A.Label,{children:"Order display:"})}),c.jsx(F,{children:i?c.jsx(A.Control,{type:"number",defaultValue:w,step:"0.01",onChange:Q=>P(Q.target.value),size:"sm"}):c.jsx("span",{children:w})})]})]})}),c.jsx(F,{className:"card-end-buttons",style:{margin:"auto"},children:c.jsx($,{children:c.jsxs(ge,{children:[c.jsx(fe,{onClick:l,variant:"btn",className:"m-2",size:"md",children:"Delete"}),i&&c.jsx(fe,{onClick:d,variant:"btn",className:"mt-3 mb-3 mx-2",children:"   Cancel  "}),c.jsx(fe,{onClick:ie,variant:"btn",className:"m-2",size:"md",children:i?c.jsx(c.Fragment,{children:"Save"}):c.jsx(c.Fragment,{children:"Edit"})})]})})})]}),c.jsx(yn,{show:s,onHide:u,className:"mt-5 p-4",children:c.jsxs(yn.Body,{children:[c.jsx("h5",{className:"title",children:"Do you confirm you want to delete this information?"}),c.jsx("p",{children:p}),c.jsxs(yn.Footer,{children:[c.jsx(fe,{onClick:h,variant:"btn",children:"Cancel"}),c.jsx(fe,{onClick:q,variant:"btn",children:"Yes, delete."})]})]})})]})}function kz(){const[t,e]=f.useState([]),[n,r]=f.useState(null),[s,i]=f.useState(!1),[o,a]=f.useState(null);f.useEffect(()=>{i(!0);const g=Ke(be(we,"TheArtist"));Ge(g).then(E=>{e(E.docs.map(v=>({...v.data(),id:v.id}))),r(null)}).catch(E=>{r(E.message)}),i(!1)},[]);const l=(g,E)=>(h()?r("Storage is full, please delete item before adding new one."):E?u(g,E):d(g),n===null),u=(g,E)=>{const y=`${Date.now()}-${E.name}`;g.imageFileName=y;const x=Yt(Xt,"TheArtist/"+y),_=No(x,E);_.on("state_changed",C=>{},C=>{r(C.message)},()=>{Ro(_.snapshot.ref).then(C=>{g.image=C,g.image!==null&&d(g)})})},d=async g=>{await qd(be(we,"TheArtist"),g).then(E=>{g.id=E.id,e(v=>[...v,g]),a("Item uploaded succesfully!"),r(null)}).catch(E=>{r(E.message)})},h=()=>{const g=Yt(Xt,"TheArtist");let E=!1;return Jd(g).then(v=>{let y=20;(v.items.length>=y||t.length>=y)&&(E=!0)}).catch(v=>{r(v.message)}),E},p=async(g,E)=>{if(E===null){if(m(g)){const y=t.filter(x=>x.id!==g);e(y),a("Item succesfully deleted!"),r(null)}}else if(w(E)){if(m(g)){const x=t.filter(_=>_.id!==g);e(x),a("Item succesfully deleted!"),r(null)}}else a(null),r("Could not delete image file from storage.")},m=async g=>{let E=!1;const v=_r(we,"TheArtist",g);return await Wd(v).then(()=>{E=!0}).catch(y=>{}),E},w=async g=>{let E=!1;const v=Yt(Xt,"TheArtist/"+g);return await Zd(v).then(()=>{E=!0}).catch(y=>{}),E};return{data:t,setData:e,error:n,loading:s,succesfull:o,deleteItem:p,addItem:l}}function Iz(){const[t,e]=f.useState(!1),[n,r]=f.useState(null),[s,i]=f.useState(null),[o,a]=f.useState("Add new item"),[l,u]=f.useState(!1),d=kz();f.useEffect(()=>{r(d.error)},[d.error]),f.useEffect(()=>{e(d.loading)},[d.loading]),f.useEffect(()=>{i(d.succesfull)},[d.succesfull]),f.useEffect(()=>{l&&a("Close"),l||a("Add new item")},[l]);const h=()=>{u(!l)};return c.jsxs(ge,{className:"container-page",children:[c.jsxs($,{className:"container-menu-add-form",children:[c.jsx($,{children:c.jsx(F,{children:c.jsx(fe,{variant:"btn",role:"button","data-testid":"button-toggle-addMenuItemVisible",onClick:h,children:o})})}),l?c.jsx(Sz,{menuItems:d}):null]}),c.jsxs($,{className:"container-menu-item-cards mt-2",children:[n!==null&&c.jsx(gs,{message:n}),s!==null&&c.jsx(oh,{message:s}),c.jsx("h5",{className:"title posts-title",children:"List of posts in The Artist section"}),t?c.jsx("p",{children:"Loading..."}):d.data.map(p=>c.jsx(Tz,{item:p,updateItem:d==null?void 0:d.updateItem,deleteItem:d==null?void 0:d.deleteItem,updateItemActicity:d==null?void 0:d.updateItemActivity,setError:r,setSuccessfull:i},p.id))]})]})}function Nz(){return c.jsx(c.Fragment,{children:c.jsxs($,{children:[c.jsx(Vl,{}),c.jsx(F,{sm:"9",className:"main-menu",children:c.jsxs(ge,{fluid:!0,children:[c.jsx($,{children:c.jsx("h4",{className:"title mt-3 mb-4",children:"Artist page: content administration "})}),c.jsxs($,{className:"mb-3 border-bottom",children:[c.jsx("h5",{children:"Tips for using this admin page: "}),c.jsx("p",{children:"Use the Add new item button to create a new pair of image and text. You will be able to create as many items as wished, but please consider that adding less than 3 or more than 5 is NOT recommended. The reason is the display will be unbalanced. "}),c.jsx("p",{children:"You can also use the Edit and cancel Button next to each post to update the text or change the image of the post. "}),c.jsx("p",{children:"IMPORTANT: The order display field controls the order in which the posts are displayed. Please always use consecutive numbers. This keeps the image of image posts with odd numberts at the left, and the image of the posts with even numbers in the order display at the right."})]}),c.jsx(Iz,{})]})})]})})}function Rz({menuItems:t}){const e="https://firebasestorage.googleapis.com/v0/b/nadyapokladsite.appspot.com/o/General%2FNP.png?alt=media&token=967d7a10-db01-44a3-83c2-fe0595197e93";let{categories:n,fileValid:r,setFileValid:s,formError:i,setFormError:o,formValid:a,setFormValid:l,urlError:u,setUrlError:d}=jo();const[h,p]=f.useState(""),[m,w]=f.useState(""),[g,E]=f.useState(""),[v,y]=f.useState(""),[x,_]=f.useState(""),[C,S]=f.useState(e),[T,k]=f.useState(null),[P,D]=f.useState(""),[L,M]=f.useState(null),[q,V]=f.useState(!1);f.useEffect(()=>{M(t.error)},[t.error]),f.useEffect(()=>{V(t.loading)},[t.loading]);const ie=()=>{p(""),w(""),E(""),y(""),_(""),k(null),D(Date.now()),M(null)},Z=I=>{I.preventDefault();const b={category:h,date:m,title:g,description:v,url:x,image:null,imageFileName:null};!i&&!a?t.addItem(b,T)&&ie():(M("Form has unresolved errors!"),setTimeout(()=>{M(null)},5e3))},Q=I=>{const b=I.target.files[0];b!==null&&b&&(b.size<2e6?(s(!0),o(!1),k(b)):(S(C),s(!1)))};return c.jsxs(A,{onSubmit:Z,className:"menu-add-form ","data-testid":"add-menu-item-form",children:[c.jsxs($,{children:[c.jsx(F,{children:c.jsxs(A.Group,{className:"mb-3 menu-add-form-input",children:[c.jsx(A.Label,{htmlFor:"enabledSelect",children:"Select a Category"}),c.jsx(A.Select,{id:"enabledSelect",onChange:I=>p(I.target.value),children:n.map(I=>c.jsx("option",{children:I},I))})]})}),c.jsx(F,{})]}),c.jsxs($,{children:[c.jsxs(F,{className:"menu-add-input-container",children:[c.jsx(A.Label,{children:"Date"}),c.jsx(A.Control,{name:`${h}-date`,className:"menu-add-form-input",type:"date",placeholder:"",value:m,onChange:I=>w(I.target.value),isInvalid:a,required:!0}),c.jsx(A.Control.Feedback,{type:"invalid",children:"Please enter a date."}),c.jsx(A.Label,{children:" Title"}),c.jsx(A.Control,{name:`${h}-title`,className:"menu-add-form-input",type:"text",placeholder:"Enter the text that will appear as a Title",value:g,onChange:I=>E(I.target.value),isInvalid:a,required:!0}),c.jsx(A.Control.Feedback,{type:"invalid",children:"Please enter a title."}),c.jsx(A.Label,{children:"Description"}),c.jsx(A.Control,{as:"textarea",rows:4,cols:50,name:`${h}-description`,className:"menu-add-form-input-description ",type:"text",placeholder:"Enter the text that will appear",value:v,onChange:I=>y(I.target.value),required:!0}),c.jsx(A.Control.Feedback,{type:"invalid",children:"Please enter a description."}),c.jsx(A.Label,{children:' Url  - (start with: "https://www.")'}),h==="Performances"?c.jsxs(c.Fragment,{children:[c.jsx(A.Control,{name:`${h}-url`,className:"menu-add-form-input",type:"text",placeholder:"https://www.",value:x,onChange:I=>{_(I.target.value),d(!validateUrl(I.target.value))},isInvalid:u,required:!0}),c.jsx(A.Control.Feedback,{type:"invalid",children:"Please enter a valid URL."})]}):c.jsxs(c.Fragment,{children:[c.jsx(A.Control,{name:`${h}-url`,className:"menu-add-form-input",type:"text",placeholder:"Enter the url to event organizer",value:x,onChange:I=>{_(I.target.value),d(!validateUrl(I.target.value))},isInvalid:u}),c.jsx(A.Control.Feedback,{type:"invalid",children:"Please enter a valid URL."})]}),c.jsxs(c.Fragment,{children:[c.jsx(A.Label,{children:"Image"}),c.jsx(A.Control,{className:"menu-add-form-input",type:"file",placeholder:"Select an image",accept:".jpg, .jpeg, .png, .jfif, .mov, .mp4",onChange:I=>Q(I),isInvalid:!r},P),c.jsx(A.Control.Feedback,{type:"invalid",children:"File size is too big! Maximum size of file is 2mb."})]})]}),c.jsxs(F,{sm:12,md:6,lg:6,children:[c.jsx(A.Label,{children:"Preview image:"}),c.jsx(ge,{className:"menu-item-card-preview",children:T!==null?c.jsx(Er,{className:"preview-image",width:"auto",height:"250px",src:URL.createObjectURL(T)}):c.jsx(Er,{className:"preview-image",width:"auto",height:"250px",src:e})})]})]}),c.jsx($,{children:c.jsxs(F,{className:"menu-form-submit-container mt-2",children:[c.jsx(fe,{variant:"btn",type:"submit","data-testid":"submit-button",children:` Save in ${h}`}),q?c.jsx(sh,{variant:"btn",animation:"border",role:"loading",className:"menu-form-spinner"}):null]})}),L!==null&&c.jsx($,{children:c.jsx(gs,{message:L})})]})}function bz({item:t,deleteItem:e,setError:n,setSuccessfull:r}){let{categories:s,showConfirmDelete:i,update:o,setUpdate:a,setShowConfirmDelete:l,validateUrl:u,handleShowConfirmDelete:d,handleClose:h,handleCancel:p,handleCancelDeletion:m}=jo();const[w,g]=f.useState("https://firebasestorage.googleapis.com/v0/b/nadyapokladsite.appspot.com/o/General%2FNP.png?alt=media&token=967d7a10-db01-44a3-83c2-fe0595197e93"),[E,v]=f.useState(t.id),[y,x]=f.useState(t.category),[_,C]=f.useState(t.date),[S,T]=f.useState(t.title),[k,P]=f.useState(t.description),[D,L]=f.useState(t.url),[M,q]=f.useState(t.image),[V,ie]=f.useState(t.imageFileName),[Z,Q]=f.useState(t.category),[I,b]=f.useState(t.date),[R,z]=f.useState(t.title),[H,le]=f.useState(t.description),[ae,ue]=f.useState(t.url),[pe,rt]=f.useState(null),[He,Ut]=f.useState(!1),Ft=_r(we,"Works",E),Bt=()=>{e(E,V),l(!1)},bt=async()=>{let Ee=`works/${y}/`,fn=`${Date.now()}-${pe==null?void 0:pe.name}`;const vs=Yt(Xt,Ee+fn),Ce=No(vs,pe);Ce.on("state_changed",ut=>{},ut=>{n(ut.message)},()=>{Ro(Ce.snapshot.ref).then(ut=>{qs(Ft,{image:ut}),q(ut),n(null)})}),await zv(Ee+V)&&ie(fn)},At=async()=>{const Ee=Z===""&&I===""&&R===""&&H===""&&ae==="",en=y!==Z||_!==I||S!==R||k!==H||D!==ae;pe!==null&&(bt(),rt(null)),en&&!Ee&&await qs(Ft,{category:Z,date:I,title:R,description:H,url:ae}).then(()=>{x(Z),C(I),T(R),P(H),L(ae),r("Item updated succesfully!"),setTimeout(()=>{r(null)},5e3)}).catch(fn=>{n(fn.message)}),a(!o)},ve=Ee=>{const en=Ee.target.files[0];en&&q(URL.createObjectURL(en)),rt(en)};return c.jsxs(c.Fragment,{children:[c.jsxs(K,{className:'card-edition-works menu-item-card-text-event" mt-1 mb-1',children:[M!==null?c.jsx(K.Img,{variant:"top",src:M,alt:S,className:"menu-item-card-image-event"}):c.jsx(K.Img,{variant:"top",src:w,alt:S,className:"menu-item-card-image-event"}),Z!=="Performances"&&c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:"card-body-event",children:[c.jsx(A.Label,{children:"Image "}),o===!0&&c.jsx(A.Control,{type:"file",placeholder:"Select an image",onChange:Ee=>ve(Ee),id:"input-update-image",accept:".jpg, .jpeg, .png, .jfif",size:"sm"})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:" card-body-event  ",children:[c.jsx(A.Label,{className:"me-2",children:"Title:"}),c.jsx(K.Title,{style:{fontSize:"14px"},className:"card-body-event mt-1 mb-",children:o?c.jsx(A.Control,{type:"text",defaultValue:R,placeholder:"Enter a new Title",onChange:Ee=>z(Ee.target.value),size:"sm"}):S})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:" card-body-event ",children:[c.jsx(A.Label,{className:"me-2",children:"Date:"}),c.jsx(K.Title,{xs:12,style:{fontSize:"14px"},className:"card-body-event mt-1 mb-",children:o?c.jsx(A.Control,{type:"date",defaultValue:I,placeholder:"",onChange:Ee=>b(Ee.target.value),size:"sm"}):_})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:"card-body-event ",children:[c.jsx(A.Label,{htmlFor:"enabledSelect",children:"Select a Category"}),c.jsx(K.Text,{children:o?c.jsx(A.Group,{className:"mb-1",children:c.jsx(A.Select,{id:"enabledSelect",onChange:Ee=>Q(Ee.target.value),value:Z,children:s.map(Ee=>c.jsx("option",{children:Ee},Ee))})}):y})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:"card-body-event",children:[c.jsx(A.Label,{children:"url:"}),Z==="Performances"&&c.jsxs(K.Text,{children:[o?c.jsx(A.Control,{type:"text",size:"sm",defaultValue:D,placeholder:"Enter url o link ",onChange:Ee=>{ue(Ee.target.value),Ut(!u(Ee.target.value)),u(Ee.target.value)},isInvalid:He,required:!0}):D,c.jsx(A.Control.Feedback,{type:"invalid",children:"Please enter a valid URL."})]}),Z!=="Performances"&&c.jsx(K.Text,{children:o?c.jsx(A.Control,{type:"text",defaultValue:D,placeholder:"Enter url o link ",onChange:Ee=>ue(Ee.target.value),size:"sm"}):D})]})}),c.jsx(F,{xs:12,children:c.jsxs(K.Body,{style:{fontSize:"14px"},className:"card-body-event",children:[c.jsx(A.Label,{children:"Description"}),c.jsx(K.Text,{className:"textOverflow",children:o?c.jsx(A.Control,{defaultValue:k,as:"textarea",rows:7,placeholder:"Enter the text that will appear ",onChange:Ee=>le(Ee.target.value),size:"sm"}):k})]})}),c.jsx(F,{xs:12,children:c.jsx(K.Body,{className:"card-end-buttons",children:c.jsxs(F,{style:{margin:"auto"},children:[c.jsxs(fe,{onClick:d,variant:"btn",className:"mt-2 mb-3 me-2",children:["  ",c.jsx("b",{children:" Delete "})," "]}),o&&c.jsx(fe,{onClick:p,variant:"btn",className:"mt-2 mb-3 mx-2",children:"   Cancel  "}),o?c.jsx(fe,{onClick:At,variant:"btn",className:"mt-2 mx-2 mb-3",children:c.jsx(c.Fragment,{children:"Save"})}):c.jsx(fe,{onClick:At,variant:"btn",className:"mt-2 mx-2 mb-3",children:c.jsx(c.Fragment,{children:"Edit"})})]})})})]}),c.jsx(yn,{show:i,onHide:h,className:"mt-5 p-4",children:c.jsxs(yn.Body,{children:[c.jsx("h5",{className:"title",children:"Do you confirm you want to delete this information?"}),k,c.jsxs(yn.Footer,{children:[c.jsx(fe,{onClick:m,variant:"btn",children:"Cancel"}),c.jsx(fe,{onClick:Bt,variant:"btn",children:"Yes, delete."})]})]})})]})}function Az(){const[t,e]=f.useState(!1),[n,r]=f.useState(null),[s,i]=f.useState(null),[o,a]=f.useState("Add new item"),[l,u]=f.useState(!1),d=jo();f.useEffect(()=>{r(d.error)},[d.error]),f.useEffect(()=>{e(d.loading)},[d.loading]),f.useEffect(()=>{i(d.succesfull)},[d.succesfull]),f.useEffect(()=>{l&&a("Close"),l||a("Add new item")},[l]);const h=()=>{u(!l)};return c.jsxs(ge,{className:"container-page",children:[c.jsxs($,{className:"container-menu-add-form",children:[c.jsx($,{children:c.jsx(F,{children:c.jsx(fe,{variant:"btn",role:"button","data-testid":"button-toggle-addMenuItemVisible",onClick:h,children:o})})}),l?c.jsx(Rz,{menuItems:d,worksCategory:d.category}):null]}),c.jsxs($,{className:"container-menu-item-cards mt-2",children:[n!==null&&c.jsx(gs,{message:n}),s!==null&&c.jsx(oh,{message:s}),c.jsx("h5",{className:"title posts-title",children:"List of posts"}),t?c.jsx("p",{children:"Loading..."}):d.data.map(p=>c.jsx(bz,{item:p,updateItem:d==null?void 0:d.updateItem,deleteItem:d==null?void 0:d.deleteItem,updateItemActicity:d==null?void 0:d.updateItemActivity,setError:r,setSuccessfull:i},p.id))]})]})}function Dz(){return c.jsx(c.Fragment,{children:c.jsxs($,{children:[c.jsx(Vl,{}),c.jsx(F,{sm:"9",className:"main-menu",children:c.jsxs(ge,{fluid:!0,children:[c.jsx($,{children:c.jsx("h4",{className:"title mt-3",children:"Works: content administration "})}),c.jsx($,{children:c.jsx(Az,{})})]})})]})})}const jz=()=>c.jsxs(tg,{children:[c.jsx(Fe,{exact:!0,path:"/",element:c.jsxs(Go,{children:[" ",c.jsx(yz,{})," "]})}),c.jsx(Fe,{path:"artist",element:c.jsxs(Go,{children:[" ",c.jsx(Nz,{})," "]})}),c.jsx(Fe,{path:"works",element:c.jsxs(Go,{children:[" ",c.jsx(Dz,{})," "]})}),c.jsx(Fe,{path:"upcoming-events",element:c.jsxs(Go,{children:[" ",c.jsx(Cz,{})," "]})}),c.jsx(Fe,{path:"contact",element:c.jsxs(Go,{children:[" ",c.jsx(vz,{})," "]})})]});function Oz(){return c.jsx(c.Fragment,{children:c.jsx(uI,{children:c.jsxs(tg,{children:[c.jsx(Fe,{path:"/",element:c.jsx(cI,{})}),c.jsx(Fe,{exact:!0,path:"/theartist",element:c.jsx(ZV,{})}),c.jsx(Fe,{exact:!0,path:"/works/*",element:c.jsx(uz,{})}),c.jsx(Fe,{exact:!0,path:"/upcoming_events",element:c.jsx(uE,{})}),c.jsx(Fe,{exact:!0,path:"/Perfomances",element:c.jsx(YV,{})}),c.jsx(Fe,{exact:!0,path:"/contact",element:c.jsx(GV,{})}),c.jsx(Fe,{exact:!0,path:"/admin",element:c.jsx(JV,{})}),c.jsx(Fe,{exact:!0,path:"/dashboard/*",element:c.jsx(jz,{})}),c.jsx(Fe,{exact:!0,path:"/resetPassword",element:c.jsx(XV,{})}),c.jsx(Fe,{path:"/upcoming_events/:id",element:c.jsx(uE,{})}),c.jsx(Fe,{path:"*",element:c.jsx(tz,{})})]})})})}function Pz(){const[t,e]=f.useState([]),[n,r]=f.useState([]);return f.useEffect(()=>{const s=be(we,"Contact"),i=Ke(s,Nn("contactType","==","Email"));Ge(i).then(o=>e(o.docs.map(a=>({id:a.id,...a.data()}))))},[]),f.useEffect(()=>{const s=be(we,"Contact"),i=Ke(s,Nn("contactType","==","Youtube"));Ge(i).then(o=>r(o.docs.map(a=>({id:a.id,...a.data()}))))},[]),c.jsx("footer",{className:"mt-3",children:c.jsx(Vt,{className:"footer",fixed:"",children:c.jsxs(ge,{className:"footerbg ",children:[c.jsx(Vt.Brand,{href:"#home",className:"title footerBrand ",children:"Nadya Poklad"}),c.jsxs(Vt.Text,{className:"",children:[c.jsxs($,{className:" ",children:[t.map(s=>c.jsx(F,{className:" ",children:c.jsx("a",{href:`mailto:${s.description}`,type:"email",target:"_blank",rel:"noopener noreferrer",className:"btn-footer footerbg ",children:c.jsx("i",{className:"bi bi-envelope-fill icon mx-1"})})},s.id)),n.map(s=>c.jsx(F,{className:" col-xs-12",children:c.jsx("a",{className:"btn-footer footerbg ",target:"_blank",rel:"noopener noreferrer",href:s.description,children:c.jsx("i",{className:"bi bi-youtube icon mx-1"})})},s.id))]}),c.jsx("p",{children:"Made by Araceli Catalano & Alba Morn "}),c.jsx("p",{children:" Nadya Poklad"})]})]})})})}const Lz=()=>{const{user:t,logOut:e}=Bl(),n=vo(),[r,s]=f.useState("block"),[i,o]=f.useState(""),[a,l]=f.useState(!0),u=document.querySelector(".navbar-toggler"),d=document.querySelectorAll("#offcanvasNavbar-expand"),h=()=>{o("none"),d.closeOffcanvas,u.closest("Navbar.Toggle"),l(!1)},p=async()=>{try{await e(),s(!1),n("/admin")}catch(m){console.log(m.message)}};return c.jsx(c.Fragment,{children:c.jsx(eI,{style:{display:{display:i}},children:[!1,"lg"].map(m=>c.jsx(Vt,{expand:m,className:"mb-0 header",fixed:"top",children:c.jsxs(ge,{fluid:!0,children:[c.jsxs(Vt.Brand,{children:[c.jsx(Et,{to:"/",className:"title home-h4",children:" Nadya Poklad "})," "]}),c.jsx(Vt.Toggle,{"aria-controls":`offcanvasNavbar-expand-${m}`}),c.jsx(Vt.Offcanvas,{id:`offcanvasNavbar-expand-${m}`,"aria-labelledby":`offcanvasNavbarLabel-expand-${m}`,placement:"end",children:c.jsx(nI.Body,{children:c.jsxs(oE,{className:"justify-content-end flex-grow-1 pe-3",children:[c.jsx(Vt.Text,{children:c.jsx(Et,{to:"/",className:" link link-header",onClick:h,children:"Home"})}),c.jsx(Vt.Text,{children:c.jsx(Et,{to:"/theartist",className:" link link-header",onClick:h,children:"The Artist"})}),c.jsxs(Ko,{title:"Works",className:"link",id:`offcanvasNavbarDropdown-expand-${m}`,onClick:h,children:[c.jsx(Ko.Item,{className:"link-dropdown link  link-header-dropdown ",show:toString(a),href:"/works/pianist",children:"Pianist"}),c.jsx(Ko.Item,{className:"link-dropdown link link-header-dropdown",href:"/works/composer",children:"Composer"}),c.jsx(Ko.Item,{className:"link-dropdown link link-header-dropdown",href:"/works/musical_event_organizer",children:"Musical Event Organizer"}),c.jsx(Ko.Item,{className:"link-dropdown link link-header-dropdown",href:"/works/teacher",children:"Teacher"})]}),c.jsxs(Vt.Text,{className:"link",children:[" ",c.jsx(Et,{to:"/perfomances",className:"link link-header",onClick:h,children:"Performances"})]}),c.jsx(Vt.Text,{className:"link",children:c.jsx(Et,{to:"/upcoming_events",className:"link link-header",onClick:h,children:"Upcoming events"})}),c.jsx(Vt.Text,{className:"link",children:c.jsx(Et,{to:"/contact",className:"link link-header",onClick:h,children:"Contact"})}),c.jsx(oE,{className:"justify-content-end ",children:t&&t.email&&c.jsxs(c.Fragment,{children:[c.jsxs(Vt.Text,{className:"link",children:[" ",c.jsx(Et,{to:"/dashboard",className:"link link-header",children:"  Dashboard "})," "]}),c.jsx(Vt.Text,{className:"link",onClick:p,children:" Sign Out     "})]})})]})})})]})},m))})})};function $z(){return c.jsx(c.Fragment,{children:c.jsxs(uI,{children:[c.jsx(Lz,{}),c.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[c.jsx("main",{className:"flex-grow-1",children:c.jsx(Oz,{children:c.jsx(cI,{})})}),c.jsx(Pz,{})]})]})})}const Mz=gf.createRoot(document.getElementById("root"));Mz.render(c.jsx(Pb,{children:c.jsx(nn.StrictMode,{children:c.jsx($z,{})})}));
